{"version":3,"sources":["webpack:///./src/containers/report/Primary.js"],"names":["mobx","customizeRenderEmpty","textAlign","padding","fontSize","fontFamily","fontWeight","color","Title","Typography","getDuration","my_time","days","daysRound","Math","floor","hours","hoursRound","minutes","minutesRound","time","Primary","observer","props","onShowSizeChange","current","pageSize","UserStore","AwaitpageIndex","AwaitpageSize","getAwaitReport","onChange","pageNumber","state","columns","title","dataIndex","align","render","text","record","Number","val","abs","moment","duration","format","key","classifyName","theme","month","AwaittotalCount","AwaittableData","avgTime","monthlyCount","margin","width","height","borderLeft","borderRight","marginTop","toJS","total","React","Component"],"mappings":";;;;;;;;;;;;;;kBAAA;;;;;;AAIA;;;;AACA;;AACA;;AAWA;;;;AACA;;IAAYA,I;;AACZ;;;;;;;;;;;;AAEA,IAAMC,uBAAuB,SAAvBA,oBAAuB;AAAA,QAC5B;AAAA;AAAA,IAAK,OAAO,EAAEC,WAAW,QAAb,EAAsBC,SAAS,QAA/B,EAAZ;AACC;AACC,UAAM,OADP;AAEC,WAAO,OAFR;AAGC,QAAI,wBAHL,GADD;AAKC;AAAA;AAAA,KAAG,OAAO;AACTC,eAAS,MADA;AAETC,iBAAW,+BAFF;AAGTC,iBAAY,KAHH;AAITC,YAAO;AAJE,KAAV;AAAA;AAAA;AALD,EAD4B;AAAA,CAA7B;IAcQC,K,GAAUC,gB,CAAVD,K;;AAER;;AACA,SAASE,WAAT,CAAqBC,OAArB,EAA8B;AAC7B,KAAIC,OAAUD,UAAU,IAAV,GAAiB,EAAjB,GAAsB,EAAtB,GAA2B,EAAzC;AACA,KAAIE,YAAYC,KAAKC,KAAL,CAAWH,IAAX,CAAhB;AACA,KAAII,QAAQL,UAAU,IAAV,GAAiB,EAAjB,GAAsB,EAAtB,GAA4B,KAAKE,SAA7C;AACA,KAAII,aAAaH,KAAKC,KAAL,CAAWC,KAAX,CAAjB;AACA,KAAIE,UAAUP,UAAU,IAAV,GAAiB,EAAjB,GAAuB,KAAK,EAAL,GAAUE,SAAjC,GAA+C,KAAKI,UAAlE;AACA,KAAIE,eAAeL,KAAKC,KAAL,CAAWG,OAAX,CAAnB;AACA;AACA;AACA,KAAIE,OAAOP,YAAY,GAAZ,GAAiBI,UAAjB,GAA8B,IAA9B,GAAoCE,YAApC,GAAmD,IAA9D;AACA,QAAOC,IAAP;AACA;;IAIKC,O,WAFL,uBAAO,WAAP,C,oBACAC,mB;;;AAEA,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA,gHACZA,KADY;;AAAA,QAWnBC,gBAXmB,GAWA,UAACC,OAAD,EAAUC,QAAV,EAAuB;AACzC,SAAKH,KAAL,CAAWI,SAAX,CAAqBC,cAArB,GAAsCH,OAAtC;AACA,SAAKF,KAAL,CAAWI,SAAX,CAAqBE,aAArB,GAAqCH,QAArC;AACA,SAAKH,KAAL,CAAWI,SAAX,CAAqBG,cAArB;AACA,GAfkB;;AAAA,QAiBnBC,QAjBmB,GAiBR,UAACC,UAAD,EAAgB;AAC1B,SAAKT,KAAL,CAAWI,SAAX,CAAqBC,cAArB,GAAsCI,UAAtC;AACA,SAAKT,KAAL,CAAWI,SAAX,CAAqBG,cAArB;AACA,GApBkB;;AAElB,QAAKG,KAAL,GAAa,EAAb;AAFkB;AAKlB;;;;sCAEmB;AACnB,QAAKV,KAAL,CAAWI,SAAX,CAAqBG,cAArB;AACA;;;2BAaQ;AACR,OAAMI,UAAU,CACf,EAACC,OAAO,MAAR,EAAgBC,WAAW,cAA3B,EAA2CC,OAAO,QAAlD,EADe,EAEf,EAACF,OAAO,MAAR,EAAgBC,WAAW,OAA3B,EAAoCC,OAAO,QAA3C,EAFe,EAGf,EAACF,OAAO,MAAR,EAAgBC,WAAW,OAA3B,EAAoCC,OAAO,QAA3C,EAHe,EAIf,EAACF,OAAO,MAAR,EAAgBC,WAAW,gBAA3B,EAA6CC,OAAO,QAApD,EAJe,EAKf,EAACF,OAAO,MAAR,EAAgBC,WAAW,YAA3B,EAAyCC,OAAO,QAAhD,EAA0DC,QAAQ,gBAACC,IAAD,EAAOC,MAAP,EAAkB;AACnF,SAAIC,OAAOF,IAAP,IAAa,CAAjB,EAAoB;AACnB,UAAMG,MAAM5B,KAAK6B,GAAL,CAASJ,IAAT,CAAZ;AACA,aAAO,MAAIK,iBAAOC,QAAP,CAAgBH,MAAI,IAApB,EAA0B9B,IAA1B,EAAJ,GAAuC,GAAvC,GAA6C,sBAAO8B,MAAI,IAAX,EAAiBI,MAAjB,CAAwB,UAAxB,CAApD;AACA,MAHD,MAGO;AACN,aAAOF,iBAAOC,QAAP,CAAgBN,OAAK,IAArB,EAA2B3B,IAA3B,KAAoC,GAApC,GAA0C,sBAAO2B,OAAK,IAAZ,EAAkBO,MAAlB,CAAyB,UAAzB,CAAjD;AACA;AACD,KAPD,EALe,EAaf;AACAX,WAAO,IADP;AAEAY,SAAK,UAFL;AAGAV,WAAO,QAHP;AAIAC,YAAQ,gBAACC,IAAD,EAAOC,MAAP,EAAkB;AACzB,YAAO;AAAA;AAAA;AAEN;AAAC,2BAAD;AAAA,SAAM,0CAAwCD,KAAKS,YAA7C,eAAmET,KAAKU,KAAxE,eAAuFV,KAAKW,KAAlG;AAAA;AAAA;AAFM,MAAP;AAIA;AATD,IAbe,CAAhB;AADQ,0BAyByE,KAAK3B,KAAL,CAAWI,SAzBpF;AAAA,OAyBDC,cAzBC,oBAyBDA,cAzBC;AAAA,OAyBeuB,eAzBf,oBAyBeA,eAzBf;AAAA,OAyBgCC,cAzBhC,oBAyBgCA,cAzBhC;AAAA,OAyBgDC,OAzBhD,oBAyBgDA,OAzBhD;AAAA,OAyByDC,YAzBzD,oBAyByDA,YAzBzD;;;AA6BR,UACC;AAAA;AAAA;AACC;AAAA;AAAA,OAAK,WAAU,YAAf;AACC;AAAC,sBAAD;AAAA,QAAY,WAAU,GAAtB,EAA0B,OAAO,EAACC,QAAQ,GAAT,EAAjC;AACC;AAAC,uBAAD,CAAY,IAAZ;AAAA;AAAA;AAAA,OADD;AAEC;AAAC,uBAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAFD;AADD,KADD;AAOC;AAAC,eAAD;AAAA,OAAM,UAAU,KAAhB,EAAuB,WAAU,MAAjC,EAAwC,OAAO,EAACC,OAAO,MAAR,EAAgBC,QAAO,OAAvB,EAA/C;AACC;AAAC,eAAD;AAAA,QAAK,OAAO,EAACA,QAAO,MAAR,EAAZ;AACC;AAAC,gBAAD;AAAA,SAAK,OAAO,EAACA,QAAO,MAAR,EAAZ,EAA6B,IAAI,EAAjC,EAAqC,IAAI,EAAzC,EAA6C,IAAI,CAAjD,EAAoD,IAAI,CAAxD,EAA2D,IAAI,CAA/D,EAAkE,WAAU,KAA5E;AACC;AAAA;AAAA;AAAA;AAAA,QADD;AAEC;AAAC,aAAD;AAAA,UAAO,OAAO,CAAd;AAAkBN,uBAAlB;AAAA;AAAA;AAFD,OADD;AAKC;AAAC,gBAAD;AAAA,SAAK,IAAI,EAAT,EAAa,IAAI,EAAjB,EAAqB,IAAI,CAAzB,EAA4B,IAAI,CAAhC,EAAmC,IAAI,CAAvC,EAA0C,WAAU,KAApD,EAA0D,OAAO,EAACM,QAAO,MAAR,EAAgBC,YAAW,mBAA3B,EAA+CC,aAAY,mBAA3D,EAAjE;AACuB;AAAA;AAAA;AAAA;AAAA,QADvB;AAEC;AAAC,aAAD;AAAA,UAAO,OAAO,CAAd;AAAkBjD,oBAAY2C,UAAQ,IAApB;AAAlB;AAFD,OALD;AASC;AAAC,gBAAD;AAAA,SAAK,IAAI,EAAT,EAAa,IAAI,EAAjB,EAAqB,IAAI,CAAzB,EAA4B,IAAI,CAAhC,EAAmC,IAAI,CAAvC,EAA0C,WAAU,KAApD,EAA0D,OAAO,EAACI,QAAO,MAAR,EAAjE;AACC;AAAA;AAAA;AAAA;AAAA,QADD;AAEC;AAAC,aAAD;AAAA,UAAO,OAAO,CAAd,EAAiB,MAAK,SAAtB,EAAgC,OAAO,EAAClD,OAAM,SAAP,EAAvC;AAA0D;AAAC,6BAAD;AAAA,WAAM,IAAG,SAAT;AAAoB+C,yBAAc,GAAlC;AAAA;AAAA;AAA1D;AAFD;AATD;AADD,KAPD;AAuBEH,uBAAiB,CAAjB,GACC;AAAA;AAAA;AACC;AAAC,WAAD;AAAA,QAAO,OAAO,EAAC/C,UAAS,MAAV,EAAkBwD,WAAU,MAA5B,EAAd,EAAmD,OAAO,CAA1D;AAAA;AAAA,MADD;AAEC;AAAA;AAAA,QAAK,WAAU,SAAf;AACO,6CAAK,KAAI,wBAAT;AACD,cAAM,OADL;AAED,eAAO,OAFN;AAGD,YAAI,EAHH,GADP;AAKC;AAAA;AAAA,SAAG,WAAU,WAAb;AAAA;AAAA;AALD;AAFD,KADD,GAWC;AAAC,yBAAD;AAAA,OAAgB,aAAa3D,oBAA7B;AACC,mCAAC,WAAD;AACC,iBAAU,MADX;AAEC,eAASiC,OAFV;AAGC,kBAAYlC,KAAK6D,IAAL,CAAUT,cAAV,CAHb;AAIC,YAAK,QAJN;AAKC,kBAAY;AALb,OADD;AAQC,mCAAC,gBAAD;AACC,iBAAU,SADX;AAEC,2BAFD;AAGC,wBAAkB,KAAK5B,gBAHxB;AAIC,gBAAU,KAAKO,QAJhB;AAKC,aAAOoB,eALR;AAMC,2BAND;AAOC,eAASvB,cAPV;AAQC,iBAAW;AAAA,0BAAckC,KAAd;AAAA;AARZ;AARD;AAlCH,IADD;AAwDA;;;;EA5GoBC,gBAAMC,S;kBAgHb3C,O","file":"js/49-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\n* 主页\n* dangw@glodon.com\n* */\nimport React from 'react';\nimport {inject, observer} from 'mobx-react';\nimport {\n\tBreadcrumb,\n\tRow,\n\tCol,\n\tTable,\n\tPagination,\n\tTypography,\n\tCard,\n\tConfigProvider,\n\tDivider\n} from 'antd';\nimport moment from 'moment';\nimport * as mobx from 'mobx';\nimport {Link} from 'react-router-dom';\n\nconst customizeRenderEmpty = () => (\n\t<div style={{ textAlign: 'center',padding: '50px 0'}}>\n\t\t<img\n\t\t\twidth='150px'\n\t\t\theight=\"100px\"\n\t\t\tsrc='./images/not_found.png' />\n\t\t<p style={{\n\t\t\tfontSize:'14px',\n\t\t\tfontFamily:'PingFangSC-Regular,PingFang S',\n\t\t\tfontWeight: '400',\n\t\t\tcolor: 'rgba(75,80,81,1)'\n\t\t}}>暂无数据</p>\n\t</div>\n);\nconst { Title } = Typography;\n\n// 转换时间\nfunction getDuration(my_time) {\n\tvar days    = my_time / 1000 / 60 / 60 / 24;\n\tvar daysRound = Math.floor(days);\n\tvar hours = my_time / 1000 / 60 / 60 - (24 * daysRound);\n\tvar hoursRound = Math.floor(hours);\n\tvar minutes = my_time / 1000 / 60 - (24 * 60 * daysRound) - (60 * hoursRound);\n\tvar minutesRound = Math.floor(minutes);\n\t//var seconds = my_time / 1000 - (24 * 60 * 60 * daysRound) - (60 * 60 * hoursRound) - (60 * minutesRound);\n\t//console.log('转换时间:', daysRound + '天', hoursRound + '时', minutesRound + '分', seconds + '秒');\n\tvar time = daysRound + '天'+ hoursRound + '小时'+ minutesRound + '分钟'\n\treturn time;\n}\n\n@inject('UserStore')\n@observer\nclass Primary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.UserStore.getAwaitReport();\n\t}\n\n\tonShowSizeChange = (current, pageSize) => {\n\t\tthis.props.UserStore.AwaitpageIndex = current;\n\t\tthis.props.UserStore.AwaitpageSize = pageSize;\n\t\tthis.props.UserStore.getAwaitReport();\n\t}\n\n\tonChange = (pageNumber) => {\n\t\tthis.props.UserStore.AwaitpageIndex = pageNumber;\n\t\tthis.props.UserStore.getAwaitReport();\n\t}\n\n\trender() {\n\t\tconst columns = [\n\t\t\t{title: '报表名称', dataIndex: 'classifyName', align: 'center'},\n\t\t\t{title: '所属主题', dataIndex: 'theme', align: 'center'},\n\t\t\t{title: '所属年月', dataIndex: 'month', align: 'center'},\n\t\t\t{title: '填报人员', dataIndex: 'createUserName', align: 'center'},\n\t\t\t{title: '剩余时间', dataIndex: 'createTime', align: 'center', render: (text, record) => {\n\t\t\t\tif (Number(text)<0) {\n\t\t\t\t\tconst val = Math.abs(text)\n\t\t\t\t\treturn \"-\"+moment.duration(val*1000).days() + \"天\" + moment(val*1000).format(\"HH:mm:ss\")\n\t\t\t\t} else {\n\t\t\t\t\treturn moment.duration(text*1000).days() + \"天\" + moment(text*1000).format(\"HH:mm:ss\")\n\t\t\t\t}\n\t\t\t}},\n\t\t\t{\n\t\t\ttitle: '操作',\n\t\t\tkey: 'operator',\n\t\t\talign: 'center',\n\t\t\trender: (text, record) => {\n\t\t\t\treturn <div>\n\t\t\t\t\t{/*<Link to=\"/manual\">立即填报</Link><Divider type=\"vertical\"/>*/}\n\t\t\t\t\t<Link to={`/report/excelimport?classifyName=${text.classifyName}&theme=${text.theme}&month=${text.month}`}>Excel导入</Link>\n\t\t\t\t</div>\n\t\t\t},\n\t\t  }];\n\t\tconst {AwaitpageIndex, AwaittotalCount, AwaittableData, avgTime, monthlyCount} = this.props.UserStore;\n\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"con_bottom\">\n\t\t\t\t\t<Breadcrumb separator=\">\" style={{margin: '0'}}>\n\t\t\t\t\t\t<Breadcrumb.Item>系统管理</Breadcrumb.Item>\n\t\t\t\t\t\t<Breadcrumb.Item>主页</Breadcrumb.Item>\n\t\t\t\t\t</Breadcrumb>\n\t\t\t\t</div>\n\t\t\t\t<Card bordered={false} className=\"mt20\" style={{width: '100%', height:'100px'}}>\n\t\t\t\t\t<Row style={{height:'56px'}}>\n\t\t\t\t\t\t<Col style={{height:'100%'}} xs={24} sm={24} md={8} lg={8} xl={8} className=\"afc\">\n\t\t\t\t\t\t\t<p>我的待办</p>\n\t\t\t\t\t\t\t<Title level={3}>{AwaittotalCount}个任务</Title>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={24} sm={24} md={8} lg={8} xl={8} className=\"afc\" style={{height:'100%', borderLeft:'1px solid #e6e6e6',borderRight:'1px solid #e6e6e6' }}>\n                             <p>本月任务平均处理时间</p>\n\t\t\t\t\t\t\t<Title level={3}>{getDuration(avgTime*1000)}</Title>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={24} sm={24} md={8} lg={8} xl={8} className=\"afc\" style={{height:'100%'}}>\n\t\t\t\t\t\t\t<p>历史完成任务数</p>\n\t\t\t\t\t\t\t<Title level={3} type=\"warning\" style={{color:\"#1890ff\"}}><Link to=\"/report\">{monthlyCount||\"0\"}个任务</Link></Title>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card>\n\t\t\t\t{AwaittotalCount==0?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Title style={{fontSize:'14px', marginTop:'25px'}} level={4}>待办任务列表</Title>\n\t\t\t\t\t\t\t<div className=\"tc mt50\">\n\t\t\t\t\t         <img src=\"./images/daiban_un.png\"\n\t\t\t\t\t\t\t\t     width=\"130px\"\n\t\t\t\t\t\t\t\t     height=\"120px\"\n\t\t\t\t\t\t\t\t     alt=\"\"/>\n\t\t\t\t\t\t\t\t<p className=\"daiban_un\">本月任务已全部完成，为你点赞</p>\n\t\t\t         \t</div>\n\t\t\t\t\t\t</div>:\n\t\t\t\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\tclassName=\"mt20\"\n\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\tdataSource={mobx.toJS(AwaittableData)}\n\t\t\t\t\t\t\t\tsize=\"middle\"\n\t\t\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tclassName=\"mt20 tr\"\n\t\t\t\t\t\t\t\tshowSizeChanger\n\t\t\t\t\t\t\t\tonShowSizeChange={this.onShowSizeChange}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\ttotal={AwaittotalCount}\n\t\t\t\t\t\t\t\tshowQuickJumper\n\t\t\t\t\t\t\t\tcurrent={AwaitpageIndex}\n\t\t\t\t\t\t\t\tshowTotal={total => `共 ${total} 条记录`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ConfigProvider>}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default Primary;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/report/Primary.js"],"sourceRoot":""}