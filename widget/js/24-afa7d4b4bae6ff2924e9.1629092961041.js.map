{"version":3,"sources":["webpack:///./src/containers/bpm/MyCalendar.js","webpack:///./src/store/bpm/BpmStore.js?77c3","webpack:///./src/utils/Schemas/okr.js?8697","webpack:///./src/components/HeaderSearch/index.jsx?8c98","webpack:///./src/components/bpm/DingtalkTree.js","webpack:///./src/components/HeaderSearch/index.css?e0f9","webpack:///./src/components/HeaderSearch/index.css?b829*","webpack:///./src/components/bpm/DingtalkRight.js","webpack:///./src/components/bpm/ProjectCalendar.js"],"names":["mobx","utils","TabPane","Tabs","customizeRenderEmpty","textAlign","padding","fontSize","fontFamily","fontWeight","color","chinese","MyCalendar","observer","props","onChange","type","e","target","val","checked","projectChecked","JSON","parse","stringify","state","push","id","index","findIndex","item","splice","setState","length","toJS","store","getProjectStagesByIds","showDrawer","getPersonMonthTaskState","onClose","onCheckAllChange","map","visible","onSearch","value","_","trim","dataArray","filterData","filter","indexOf","getCurrentBell","endTime","now","currentBell","bell_yellow","marginRight","bell_red","bell_blue","days","diff","callback","key","tabKey","personList","personChecked","personSelect","includes","obj","checkDate","date","current","currentDay","handleChange","dateString","year","month","fanDayByYearMonth","yearMonth","format","callback2","tabKey2","onRef","ref","child","handleSearch","handPersonChange","BpmStore","projectIndeterminate","projectCheckAll","personIndeterminate","personCheckAll","projectValue","projectFilterData","personValue","personFilterData","nextProps","getUserInfoListByRoleCode","getCalendarProjectList","projectStages","projectList","personMonthTask","isFilter","activeData","columns","title","dataIndex","align","render","text","record","dataSource","mitem","day","beginTime","Object","assign","margin","borderTop","paddingTop","borderLeft","minHeight","paddingLeft","width","display","height","bind","borderBottom","name","overflow","position","top","cursor","left","backgroundColor","zIndex","right","border","borderRadius","background","marginLeft","realname","Array","keys","i","bottom","React","Component","Config","bpm","getProjectBoardList","Schemas","projectBoardParams","then","res","projectBoardList","projectBoardListDone","getAllProjectList","allProjectParams","allProjectList","body","pageIndex","pageSize","allProjectTotal","totalCount","getProductProportion","productProportion","getTopContractAmountList","topContractAmount","getCurrentTaskList","currentTaskParams","currentTaskList","dealyWarnningList","currentTaskTotal","dealyWarnningParams","tempData","concat","hasMore","param","getDeliverRate","deliverRate","getMoneyBackRate","moneyBackRate","getMyTaskCount","emitter","emit","getProductTypeList","productTyleList","typeName","products","getMasterList","masterList","userName","masterIds","userId","authorization","authorizationSchemas","appId","code","projectIds","data","getDepartment","appid","pid","getUserInfoListByDingtalk","depId","getDepartmentAndUsers","getPersonScheduleResources","personParams","personResources","getAllStages","stageName","getSts","bpmSchemas","str","ossData","okr","getWeeks","okrSchemas","getWeekDetails","weekData","defaultWeeksData","getMonthDetails","monthData","getSeasonDetails","seasonData","getYearDetails","yearData","saveWeekDetails","list","activeweeks","saveMonthDetails","saveSeasonDetails","saveYearDetails","params","getAtts","okrAtts","getComments","okrComments","saveAtts","attachments","saveComment","comment","delAtt","attachmentId","delComment","commentId","observable","startOf","valueOf","endOf","action","ids","getWeekAndMonthDetails","saveWeekAndMonthDetails","HeaderSearch","searchMode","open","inputRef","onKeyDown","debouncePressEnter","enterSearchMode","onVisibleChange","focus","leaveSearchMode","onPressEnter","defaultOpen","defaultValue","leading","trailing","className","placeholder","restProps","inputClass","propertyName","node","defaultProps","defaultActiveFirstOption","TreeNode","Tree","Search","Input","dataList","DingtalkTree","expandedKeys","autoExpandParent","checkedKeys","treeData","searchValue","filterTreeData","parent","selectedKeys","forEach","userInfos","isArray","children","isLeaf","transFormTree","undefined","generateList","userSearch","showLine","onExpand","onCheck","onSelect","renderTreeNodes","result","parentId","isSearch","array","from","Set","beforeStr","substr","afterStr","getParentKey","tree","parentKey","some","info","dataRef","handleSelect","RangePicker","DatePicker","DingtalkRight","onChangeTimeRange","dates","dateStrings","paddingBottom","colors","ProjectCalendar","drawGrid","CANVAS_WIDTH","CANVAS_HEIGHT","GRID_WIDTH","GRID_HEIGHT","rows","parseInt","cols","j","drawRect","drawing","document","getElementById","getContext","context","lineWidth","strokeStyle","strokeRect","onMouseOver","console","log","ele","style","onMouseOut","onMouseMove","offsetTop","eve","window","event","offsetX","offsetY","Number","overflowX","mindex","beginMonth","endMonth","end","begin","startDay","rate","taskState"],"mappings":"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","file":"js/24-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\r\n* 我的日程\r\n* dangwei@bacspace.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport * as mobx from 'mobx';\r\nimport _ from 'lodash';\r\nimport * as utils from \"@/utils/utils\";\r\nimport moment from \"moment\";\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport {Breadcrumb, Row, Col, Checkbox, Drawer, Icon, Affix, Tabs, Table, ConfigProvider, DatePicker,} from \"antd\";\r\n\r\nimport ProjectCalendar from '@/components/bpm/ProjectCalendar';\r\nimport DingtalkTree from '@/components/bpm/DingtalkTree';\r\nimport DingtalkRight from '@/components/bpm/DingtalkRight';\r\nimport HeaderSearch from '@/components/HeaderSearch';\r\nimport BpmStore from \"store/bpm/BpmStore\";\r\n\r\nconst {TabPane} = Tabs;\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '50px 0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无数据</p>\r\n\t</div>\r\n);\r\nconst chinese = {1: \"一\", 2: \"二\", 3: \"三\", 4: \"四\", 5: \"五\", 6: \"六\", 0: \"日\"};\r\n\r\n@observer\r\nexport default class MyCalendar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = new BpmStore();\r\n\t\tthis.state = {\r\n\t\t\tprojectIndeterminate: false,  // 项目全选\r\n\t\t\tprojectCheckAll: false,  // 项目全选\r\n\t\t\tprojectChecked: [], // 项目选中\r\n\t\t\tpersonIndeterminate: false,  // 人员全选\r\n\t\t\tpersonCheckAll: false,  // 人员全选\r\n\t\t\tpersonChecked: [],  // 人员选中\r\n\t\t\tprojectValue: '', //  // 项目筛选\r\n\t\t\tprojectFilterData: [],\r\n\t\t\tpersonValue: '', // 人员筛选\r\n\t\t\tpersonFilterData: [],\r\n\t\t\tvisible: false,\r\n\t\t\tdays: 0, // 当前月的天数\r\n\t\t\tcurrentDay: moment().date(), // 当天日期\r\n\t\t\tdate: moment(), // 当前的时间年月日\r\n\t\t\ttabKey: \"0\",\r\n\t\t\ttabKey2: \"uuu\", // 内容切换\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.store.getUserInfoListByRoleCode();\r\n\t\tthis.store.getCalendarProjectList();\r\n\r\n\t\t// 初始化数据  date、days、currentDay\r\n\t\tconst date = moment();\r\n\t\tconst year = moment(date).year();\r\n\t\tconst month = moment(date).month() + 1;\r\n\t\tthis.setState({\r\n\t\t\tdate,\r\n\t\t\tdays: utils.fanDayByYearMonth(year, month), //当前月的天数\r\n\t\t\tcurrentDay: moment(date).date(), //当天日期\r\n\t\t});\r\n\t\tthis.store.yearMonth = moment(date).format(\"YYYYMM\");\r\n\t}\r\n\r\n\tonChange = (type, e) => {\r\n\t\tconst {val, checked} = e.target;\r\n\t\tlet projectChecked = JSON.parse(JSON.stringify(this.state[type + 'Checked']));\r\n\t\tif (checked) { // 选中\r\n\t\t\tprojectChecked.push(val.id);\r\n\t\t} else {\r\n\t\t\tconst index = projectChecked.findIndex(item => item == val.id);\r\n\t\t\tprojectChecked.splice(index, 1);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\t[type + 'Checked']: projectChecked,\r\n\t\t\t[type + 'Indeterminate']: !!projectChecked.length && projectChecked.length < mobx.toJS(this.store[type + \"List\"]).length,\r\n\t\t\t[type + 'CheckAll']: projectChecked.length === mobx.toJS(this.store[type + \"List\"]).length,\r\n\t\t}, () => {\r\n\t\t\t// 联动项目\r\n\t\t\tif (type == \"project\") {\r\n\t\t\t\tthis.store.getProjectStagesByIds(projectChecked);\r\n\t\t\t}\r\n\t\t\t// 联动人员\r\n\t\t\tif (type == \"person\") {\r\n\t\t\t\tif (projectChecked.length > 0) {\r\n\t\t\t\t\tthis.showDrawer();\r\n\t\t\t\t\tthis.store.getPersonMonthTaskState(projectChecked[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onClose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonCheckAllChange = (type, e) => {\r\n\t\tthis.setState({\r\n\t\t\t[type + 'Indeterminate']: false,\r\n\t\t\t[type + 'CheckAll']: e.target.checked,\r\n\t\t\t[type + 'Checked']: e.target.checked ? mobx.toJS(this.store[type + \"List\"]).map(item => item.id) : [],\r\n\t\t}, () => {\r\n\t\t\t// 联动项目\r\n\t\t\tif (type == \"project\") {\r\n\t\t\t\tthis.store.getProjectStagesByIds(this.state[type + \"Checked\"]);\r\n\t\t\t}\r\n\t\t\t// 联动人员\r\n\t\t\tif (type == \"person\") {\r\n\t\t\t\tif (e.target.checked) {\r\n\t\t\t\t\tthis.store.getPersonMonthTaskState(this.state[type + \"Checked\"][0]);\r\n\t\t\t\t\tthis.showDrawer();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onClose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tshowDrawer = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t});\r\n\t};\r\n\r\n\tonClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\r\n\tonSearch = (type, value) => {\r\n\t\tthis.setState({\r\n\t\t\t[type + 'Value']: _.trim(value)\r\n\t\t}, () => {\r\n\t\t\tlet dataArray = JSON.parse(JSON.stringify(mobx.toJS(this.store[type + 'List'])));\r\n\t\t\tlet filterData = dataArray.filter(item => (item[type == \"project\" ? \"name\" : \"realname\"]==null?\"\":item[type == \"project\" ? \"name\" : \"realname\"]).indexOf(this.state[type + 'Value']) > -1)\r\n\t\t\tthis.setState({\r\n\t\t\t\t[type + 'FilterData']: filterData\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetCurrentBell = (endTime, now) => {\r\n\t\tlet currentBell = null;\r\n\t\tconst bell_yellow = {fontSize: \"14px\", color: \"#e7b550\", marginRight: \"10px\"};\r\n\t\tconst bell_red = {fontSize: \"14px\", color: \"#c4382c\", marginRight: \"10px\"};\r\n\t\tconst bell_blue = {fontSize: \"14px\", color: \"#4da9de\", marginRight: \"10px\"};\r\n\t\tlet days = moment(now).diff(moment(endTime), 'days');\r\n\t\tif (days > 3) {\r\n\t\t\tcurrentBell = bell_red;\r\n\t\t} else if (days >= 2 && days <= 3) {\r\n\t\t\tcurrentBell = bell_yellow;\r\n\t\t} else {\r\n\t\t\tcurrentBell = bell_blue;\r\n\t\t}\r\n\t\treturn currentBell;\r\n\t}\r\n\r\n\t// 切换tab\r\n\tcallback = (key) => {\r\n\t\tthis.setState({\r\n\t\t\ttabKey: key\r\n\t\t});\r\n\t\tconst {personList} = this.store;\r\n\t\tconst {personChecked} = this.state;\r\n\t\tconst personSelect = mobx.toJS(personList).filter((item) => {   // 人员选中\r\n\t\t\treturn personChecked.includes(item.id)\r\n\t\t});\r\n\t\tconst obj = personSelect[key];\r\n\t\tthis.store.getPersonMonthTaskState(obj.id);\r\n\t}\r\n\r\n\t// 切换日期\r\n\tcheckDate = (date) => {\r\n\t\tconst current = date + 1;\r\n\t\tthis.setState({\r\n\t\t\tcurrentDay: current\r\n\t\t});\r\n\t}\r\n\r\n\t// 选择时间\r\n\thandleChange = (date, dateString) => {\r\n\t\tconst year = moment(date).year();\r\n\t\tconst month = moment(date).month() + 1;\r\n\t\tthis.setState({\r\n\t\t\tdate,\r\n\t\t\tdays: utils.fanDayByYearMonth(year, month), //当前月的天数\r\n\t\t\tcurrentDay: moment(date).date(), //当天日期\r\n\t\t}, () => {\r\n\t\t\tthis.store.yearMonth = moment(date).format(\"YYYYMM\");\r\n\t\t\tconst {projectChecked, personChecked} = this.state;\r\n\t\t\t// 联动项目\r\n\t\t\tif (projectChecked.length > 0) {\r\n\t\t\t\tthis.store.getProjectStagesByIds(projectChecked);\r\n\t\t\t}\r\n\t\t\t// 联动人员\r\n\t\t\tif (personChecked.length > 0) {\r\n\t\t\t\tthis.callback(\"0\")\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// tab切换\r\n\tcallback2 = (key) => {\r\n\t\tthis.setState({\r\n\t\t\ttabKey2: key\r\n\t\t});\r\n\t}\r\n\r\n\tonRef = (ref) => {\r\n\t\tthis.child = ref\r\n\t}\r\n\r\n\t// 人员模糊搜索\r\n\thandleSearch = (value) => {\r\n\t\tthis.child.onChange(value);\r\n\t}\r\n\r\n\thandPersonChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tpersonChecked: value\r\n\t\t}, () => {\r\n\t\t\tif (value.length > 0) {\r\n\t\t\t\tthis.showDrawer();\r\n\t\t\t\tconst {personList} = this.store;\r\n\t\t\t\tconst personSelect = mobx.toJS(personList).filter((item) => {   // 人员选中\r\n\t\t\t\t\treturn value.includes(item.id)\r\n\t\t\t\t})\r\n\t\t\t\tthis.store.getPersonMonthTaskState(personSelect[0].id);\r\n\t\t\t} else {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {yearMonth, projectStages, projectList, personList, personMonthTask} = this.store;\r\n\t\tconst {tabKey2, tabKey, date, currentDay, days, projectCheckAll, projectIndeterminate, projectChecked, personChecked, projectValue, projectFilterData} = this.state;\r\n\r\n\t\tlet isFilter = projectValue == \"\" || projectValue == null;\r\n\t\tconst activeData = isFilter ? mobx.toJS(projectList) : projectFilterData;  // 当前数据\r\n\t\tconst personSelect = mobx.toJS(personList).filter((item) => {   // 人员选中\r\n\t\t\treturn personChecked.includes(item.id)\r\n\t\t})\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'dataIndex',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tkey: 'dataIndex',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '项目',\r\n\t\t\t\tdataIndex: 'projectName',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tkey: 'projectName',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '任务',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '进度',\r\n\t\t\t\tdataIndex: 'rate',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tkey: 'rate',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\treturn <span style={this.getCurrentBell(record.endTime, record.now)}>{text}%</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst dataSource = mobx.toJS(personMonthTask).filter((mitem) => {\r\n\t\t\tlet day = currentDay <= 9 ? '0' + currentDay : currentDay;\r\n\t\t\treturn yearMonth + day >= moment(mitem.beginTime).format(\"YYYYMMDD\") && yearMonth + day <= moment(mitem.endTime).format(\"YYYYMMDD\")\r\n\t\t}).map((item, index) => {\r\n\t\t\treturn Object.assign(item, {dataIndex: index + 1})\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div className=\"con_bottom\">\r\n\t\t\t\t\t<Breadcrumb separator=\">\" style={{margin: '0'}}>\r\n\t\t\t\t\t\t<Breadcrumb.Item href={\"#/bpm/progresslist\"}>项目看板</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item>{tabKey2 == 'uuu' ? \"资源统计\" : \"日程排期\"}</Breadcrumb.Item>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Tabs className={\"item_tabs\"} activeKey={tabKey2} onChange={this.callback2}>\r\n\t\t\t\t\t<TabPane tab=\"资源统计\" key=\"uuu\">\r\n\t\t\t\t\t\t<Row style={{\r\n\t\t\t\t\t\t\tborderTop: '1px solid #EBEBEB',\r\n\t\t\t\t\t\t\tpaddingTop: '10px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<Col span=\"6\">\r\n\t\t\t\t\t\t\t\t<Affix offsetTop={60}>\r\n\t\t\t\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\t\t\t\tautoHide\r\n\t\t\t\t\t\t\t\t\t\tautoHideTimeout={1000}\r\n\t\t\t\t\t\t\t\t\t\tautoHideDuration={200}\r\n\t\t\t\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t\t\t\t\tautoHeightMin={0}\r\n\t\t\t\t\t\t\t\t\t\tautoHeightMax={'calc(100vh - 180px)'}\r\n\t\t\t\t\t\t\t\t\t\tthumbMinSize={30}\r\n\t\t\t\t\t\t\t\t\t\tuniversal={true}>\r\n\t\t\t\t\t\t\t\t\t<DingtalkTree\r\n\t\t\t\t\t\t\t\t\t\tuserSearch={true}\r\n\t\t\t\t\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\t\t\tshowLine={false}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Scrollbars>\r\n\t\t\t\t\t\t\t\t</Affix>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span=\"18\"\r\n\t\t\t\t\t\t\t     style={{borderLeft: '1px solid #EBEBEB', minHeight: '350px', paddingLeft: '15px'}}>\r\n\t\t\t\t\t\t\t\t<DingtalkRight\r\n\t\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"日程排期\" key=\"yyy\">\r\n\t\t\t\t\t\t<div className=\"w clearfix\" style={{\r\n\t\t\t\t\t\t\tborderTop: '1px solid #EBEBEB',\r\n\t\t\t\t\t\t\tpaddingTop: '10px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"fl\" style={{width: '250px', display: 'block'}}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\theight: 'calc(50vh - 140px)',\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0 15px',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tindeterminate={projectIndeterminate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCheckAllChange.bind(this, 'project')}\r\n\t\t\t\t\t\t\t\t\t\tchecked={projectCheckAll}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t项目列表\r\n\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t<HeaderSearch\r\n\t\t\t\t\t\t\t\t\t\tclassName={`action search calendar_search`}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={\"\"}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={[]}\r\n\t\t\t\t\t\t\t\t\t\tonSearch={value => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.onSearch('project', value);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonPressEnter={value => {\r\n\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\t\t\t\theight: 'calc(50vh - 180px)',\r\n\t\t\t\t\t\t\t\t\t\tborderTop: '1px dashed #EBEBEB',\r\n\t\t\t\t\t\t\t\t\t\tborderBottom: '1px dashed #EBEBEB',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\t\t\t\tautoHide\r\n\t\t\t\t\t\t\t\t\t\tautoHideTimeout={1000}\r\n\t\t\t\t\t\t\t\t\t\tautoHideDuration={200}\r\n\t\t\t\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t\t\t\t\tautoHeightMin={0}\r\n\t\t\t\t\t\t\t\t\t\tautoHeightMax={'calc(50vh - 180px)'}\r\n\t\t\t\t\t\t\t\t\t\tthumbMinSize={30}\r\n\t\t\t\t\t\t\t\t\t\tuniversal={true}>\r\n\t\t\t\t\t\t\t\t\t\t{activeData.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Checkbox key={'calendar' + index}\r\n\t\t\t\t\t\t\t\t\t\t\t                 val={item}\r\n\t\t\t\t\t\t\t\t\t\t\t                 checked={projectChecked.includes(item.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t                 value={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t                 className=\"mycalendar_check\"\r\n\t\t\t\t\t\t\t\t\t\t\t                 onChange={this.onChange.bind(this, 'project')}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"mycalendar_span\" title={item.name}>{item.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Scrollbars>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\t\t\theight: 'calc(50vh - 140px)',\r\n\t\t\t\t\t\t\t\t\tpadding: '0 15px',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<span style={{marginRight: '8px'}}>人员列表</span>\r\n\t\t\t\t\t\t\t\t\t<HeaderSearch\r\n\t\t\t\t\t\t\t\t\t\tclassName={`action search calendar_search`}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={\"\"}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={[]}\r\n\t\t\t\t\t\t\t\t\t\tonSearch={value => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleSearch(value);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonPressEnter={value => {\r\n\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\t\t\t\theight: 'calc(50vh - 155px)',\r\n\t\t\t\t\t\t\t\t\t\tborderTop: '1px dashed #EBEBEB',\r\n\t\t\t\t\t\t\t\t\t\tborderBottom: '1px dashed #EBEBEB',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\t\t\t\t\tautoHide\r\n\t\t\t\t\t\t\t\t\t\t\tautoHideTimeout={1000}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHideDuration={200}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t\t\t\t\t\tautoHeightMin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHeightMax={'calc(50vh - 155px)'}\r\n\t\t\t\t\t\t\t\t\t\t\tthumbMinSize={30}\r\n\t\t\t\t\t\t\t\t\t\t\tuniversal={true}>\r\n\t\t\t\t\t\t\t\t\t\t\t<DingtalkTree\r\n\t\t\t\t\t\t\t\t\t\t\t\tuserSearch={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowLine={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandPersonChange={this.handPersonChange}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Scrollbars>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"fl\"\r\n\t\t\t\t\t\t\t     style={{\r\n\t\t\t\t\t\t\t\t     display: 'block',\r\n\t\t\t\t\t\t\t\t     borderLeft: '1px solid #EBEBEB',\r\n\t\t\t\t\t\t\t\t     minHeight: '150px',\r\n\t\t\t\t\t\t\t\t     padding: '15px 15px 15px 30px',\r\n\t\t\t\t\t\t\t\t     width: 'calc(100% - 250px)',\r\n\t\t\t\t\t\t\t\t     overflow: 'auto',\r\n\t\t\t\t\t\t\t     }}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\t\t\t\ttop: '-15px',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"tc\">\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '16px',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#333'\r\n\t\t\t\t\t\t\t\t\t\t}}>{moment(date).format('YYYY年MM月DD日')} {\"星期\" + chinese[moment(date).day()]} </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"pr\" style={{top: '7px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"calendar_DatePicker\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop: '3px',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '10px'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}/>\r\n\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\t\tleft: '1px',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop: '-8px',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '60px',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '60px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '24px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#FFF'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"calendar\"/>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ProjectCalendar\r\n\t\t\t\t\t\t\t\t\tdays={days}\r\n\t\t\t\t\t\t\t\t\tcurrentDay={currentDay}\r\n\t\t\t\t\t\t\t\t\tprojectStages={mobx.toJS(projectStages)}\r\n\t\t\t\t\t\t\t\t\tyearMonth={yearMonth}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={!this.state.visible ? \"hidden\" : \"active_drawer\"}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tzIndex: '998',\r\n\t\t\t\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\t\t\t\twidth: '30%',\r\n\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\t\ttop: '0',\r\n\t\t\t\t\t\t\t\tright: '0',\r\n\t\t\t\t\t\t\t\tborder: '1px solid #ebedf0',\r\n\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\tbackground: '#fafafa',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\t\tonClose={this.onClose}\r\n\t\t\t\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\tgetContainer={false}\r\n\t\t\t\t\t\t\t\tstyle={{position: 'absolute'}}\r\n\t\t\t\t\t\t\t\tbodyStyle={{\r\n\t\t\t\t\t\t\t\t\tpadding: '0 0 0 20px'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t\tactiveKey={tabKey}\r\n\t\t\t\t\t\t\t\t\tonTabClick={this.callback}\r\n\t\t\t\t\t\t\t\t\ttabPosition={'top'}\r\n\t\t\t\t\t\t\t\t\tstyle={{marginLeft: '10px',marginRight: '20px', minHeight: \"300px\", height: \"auto\"}}>\r\n\t\t\t\t\t\t\t\t\t{personSelect.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<TabPane tab={`${item.realname}`} key={index} val={item}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Table columns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t       pagination={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t       size=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t       bordered={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t       dataSource={dataSource}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</ConfigProvider>\r\n\t\t\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t<ul style={{position: 'absolute', top: '50px', left: '10px'}}>\r\n\t\t\t\t\t\t\t\t\t{[...Array(days).keys()].map(i => (\r\n\t\t\t\t\t\t\t\t\t\t<li key={i}\r\n\t\t\t\t\t\t\t\t\t\t    className={currentDay == (i + 1) ? \"pointer personMonthTask_li_active\" : \"pointer personMonthTask_li\"}\r\n\t\t\t\t\t\t\t\t\t\t    onClick={this.checkDate.bind(this, i)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{i + 1}\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tonClick={this.onClose}\r\n\t\t\t\t\t\t\t\t\ttitle={\"收起\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"pointer\"\r\n\t\t\t\t\t\t\t\t\tstyle={{position: 'absolute', bottom: '10px', left: '30px'}}\r\n\t\t\t\t\t\t\t\t\ttype=\"double-right\"/>\r\n\t\t\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{personSelect.length > 0 && !this.state.visible ?\r\n\t\t\t\t\t\t\t<Affix offsetBottom={'20px'} style={{position: 'fixed', right: '25px', bottom: '10px'}}>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tonClick={this.showDrawer}\r\n\t\t\t\t\t\t\t\t\ttitle={\"展开\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"pointer\"\r\n\t\t\t\t\t\t\t\t\ttype=\"double-left\"/>\r\n\t\t\t\t\t\t\t</Affix> : null}\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/bpm/MyCalendar.js","/*\r\n* 项目看板store\r\n*/\r\nimport {observable, action} from 'mobx';\r\nimport Config from '@/config';\r\nimport {requestPost} from \"@/utils/api\";\r\nimport Schemas from \"@/utils/Schemas/bpm\";\r\nimport moment from 'moment';\r\nimport emitter from \"@/utils/events\";\r\nimport authorizationSchemas from \"@/utils/Schemas/authorization\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport okrSchemas from \"@/utils/Schemas/okr\";\r\n\r\nclass BpmStore {\r\n\t@observable maxHeight=0;\r\n\t@observable projectBoardList = [];  // 项目看板列表(未完成)\r\n\t@observable projectBoardParams = {\r\n\t\tbeginTime: moment().startOf('year').valueOf(),\r\n\t\tendTime:moment().endOf(\"year\").valueOf(),\r\n\t\ttext:''\r\n\t};\r\n    @observable allProjectList = []; // 全部项目明细列表 state 完成100，关闭200 阶段1-7\r\n    @observable allProjectParams = { //明细查询参数\r\n\t\tbeginTime: moment().startOf('year').valueOf(),\r\n\t\tendTime:moment().endOf(\"year\").valueOf(),\r\n\t\ttext:'',\r\n\t\tproducts:[],\r\n\t\tstate:[],\r\n        masterIds:[],\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\t@observable allProjectTotal = 0;\r\n\t@observable myTaskRunningNum = 0;\r\n\t@observable dealyWarnningList = []; //进度延迟预警列表\r\n\r\n    @observable productProportion = []; //产品占比\r\n    @observable topContractAmount = []; //项目订单排名\r\n    @observable currentTaskList = []; //获取当前任务列表\r\n    @observable currentTaskParams = { //获取当前任务列表参数 当前（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t\tstate:1,\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\r\n\t@observable dealyWarnningParams = { //获取当前任务列表参数 当前（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t\tstate:1,\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\t@observable hasMore = true;\r\n\r\n\t@observable currentTaskTotal = 0;\r\n\t//@observable unTaskTotal = 0;  // 未完成\r\n\r\n    @observable deliverRate=null; //交付完成率\r\n\t@observable moneyBackRate=null; //回款完成率\r\n\r\n\t@observable projectStage=[  // 项目的不同阶段\r\n\t\t{\"stageId\":\"1\", \"name\":\"项目信息\"},\r\n\t\t{\"stageId\":\"9\", \"name\":\"项目评估\"},\r\n\t\t{\"stageId\":\"2\", \"name\":\"方案设计\"},\r\n\t\t{\"stageId\":\"3\", \"name\":\"投标准备\"},\r\n\t\t{\"stageId\":\"4\", \"name\":\"合同签订\"},\r\n\t\t{\"stageId\":\"5\", \"name\":\"实施过程\"},\r\n\t\t{\"stageId\":\"6\", \"name\":\"交付验收\"},\r\n\t\t{\"stageId\":\"10\", \"name\":\"实施交付\"},\r\n\t\t{\"stageId\":\"7\", \"name\":\"开票收款\"},\r\n\t\t{\"stageId\":\"8\", \"name\":\"产品设计\"},\r\n\t];\r\n\r\n\t@observable projectStatus=[  // 项目状态\r\n\t\t{\"text\":\"项目信息\", \"value\":\"项目信息\"},\r\n\t\t{\"text\":\"项目评估\", \"value\":\"项目评估\"},\r\n\t\t{\"text\":\"方案设计\", \"value\":\"方案设计\"},\r\n\t\t{\"text\":\"投标准备\", \"value\":\"投标准备\"},\r\n\t\t{\"text\":\"合同签订\", \"value\":\"合同签订\"},\r\n\t\t{\"text\":\"实施过程\", \"value\":\"实施过程\"},\r\n\t\t{\"text\":\"交付验收\", \"value\":\"交付验收\"},\r\n\t\t{\"text\":\"实施交付\", \"value\":\"实施交付\"},\r\n\t\t{\"text\":\"开票收款\", \"value\":\"开票收款\"},\r\n\t\t{\"text\":\"全部完成\", \"value\":\"全部完成\"},\r\n\t\t{\"text\":\"产品设计\", \"value\":\"产品设计\"},\r\n\t\t{\"text\":\"中途关闭\", \"value\":\"中途关闭\"},\r\n\t];\r\n\r\n\t@observable productTyleList = [];\r\n\t@observable masterList = [];\r\n\t@observable masterIds = [];\r\n\t@observable projectBoardListDone = false;\r\n\r\n\r\n    // 项目看板列表(未完成)查询\r\n\t@action\r\n\tgetProjectBoardList() {\r\n\t\treturn requestPost('getProjectBoardList', Config.bpm.getProjectBoardList, Schemas.bpm.getProjectBoardList, this.projectBoardParams).then((res) => {\r\n\t\t\tthis.projectBoardList = Object.assign([], res);\r\n\t\t\tthis.projectBoardListDone = true;\r\n\r\n\t\t});\r\n    }\r\n\r\n    // 全部项目明细列表查询\r\n\t@action\r\n\tgetAllProjectList() {\r\n\t\treturn requestPost('getAllProjectList', Config.bpm.getAllProjectList, Schemas.bpm.getAllProjectList, this.allProjectParams).then((res) => {\r\n\t\t\tthis.allProjectList =  Object.assign([], typeof(res.body)!==\"undefined\" ? res.body.map((item, index)=>{\r\n\t\t\t\treturn item\r\n\t\t\t}):[]);\r\n\t\t\tthis.allProjectParams.pageIndex = res.pageIndex;\r\n\t\t\tthis.allProjectParams.pageSize = res.pageSize;\r\n\t\t\tthis.allProjectTotal = res.totalCount;\r\n\t\t});\r\n    }\r\n\r\n    // 获取产品占比\r\n\t@action\r\n\tgetProductProportion() {\r\n\t\treturn requestPost('getProductProportion', Config.bpm.getProductProportion, Schemas.bpm.getProductProportion).then((res) => {\r\n\t\t\tthis.productProportion = Object.assign([], res);\r\n\t\t});\r\n    }\r\n\r\n    // 获取项目订单排名\r\n\t@action\r\n\tgetTopContractAmountList() {\r\n\t\treturn requestPost('getTopContractAmountList', Config.bpm.getTopContractAmountList, Schemas.bpm.getTopContractAmountList).then((res) => {\r\n\t\t\tthis.topContractAmount = Object.assign([], res);\r\n\t\t});\r\n    }\r\n\r\n    // 获取当前任务（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t@action\r\n\tgetCurrentTaskList() {\r\n\t\treturn requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, this.currentTaskParams).then((res) => {\r\n\t\t\tthis.currentTaskList = Object.assign([], res.body);\r\n\t\t\tif(this.currentTaskParams.state==1) { //进度延迟预警\r\n\t\t\t\tthis.dealyWarnningList = Object.assign([], res.body);\r\n\t\t\t}\r\n\r\n\t\t\t// if(this.currentTaskParams.state==2) {\r\n\t\t\t// \temitter.emit(\"getMytaskNum\", res.totalCount);\r\n\t\t\t// }\r\n\r\n\t\t\tthis.currentTaskParams.pageIndex = res.pageIndex;\r\n\t\t\tthis.currentTaskParams.pageSize = res.pageSize;\r\n\t\t\tthis.currentTaskTotal = res.totalCount;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取当前任务（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t@action\r\n\tgetWarnningList() {\r\n\t\treturn requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, this.dealyWarnningParams).then((res) => {\r\n\t\t\tif (res && res['body'].length > 0) {\r\n\t\t\t\tlet tempData = this.dealyWarnningList;\r\n\t\t\t\tthis.dealyWarnningList = tempData.concat(res['body'])\r\n\t\t\t\tthis.dealyWarnningParams.pageIndex = this.dealyWarnningParams.pageIndex+1;\r\n\t\t\t} else {\r\n\t\t\t\tthis.hasMore = false;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n    // 获取进行中/已完成总数\r\n    @action\r\n    getListData(param) {\r\n        return requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, param).then((res) => {\r\n            return res;\r\n        });\r\n    }\r\n\r\n    // 获取交付完成率\r\n\t@action\r\n\tgetDeliverRate() {\r\n\t\treturn requestPost('getDeliverRate', Config.bpm.getDeliverRate, Schemas.bpm.getDeliverRate).then((res) => {\r\n\t\t\tthis.deliverRate = res;\r\n\t\t});\r\n    }\r\n\r\n    // 获取回款完成率\r\n\t@action\r\n\tgetMoneyBackRate() {\r\n\t\treturn requestPost('getMoneyBackRate', Config.bpm.getMoneyBackRate, Schemas.bpm.getMoneyBackRate).then((res) => {\r\n\t\t\tthis.moneyBackRate = res;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取我的任务数\r\n\t@action\r\n\tgetMyTaskCount() {\r\n\t\treturn requestPost('getMyTaskCount', Config.bpm.getMyTaskCount, Schemas.bpm.getMyTaskCount).then((res) => {\r\n\t\t\temitter.emit(\"getMytaskNum\",  res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable products = [];\r\n\t// 获取产品类型\r\n\t@action\r\n\tgetProductTypeList() {\r\n\t\treturn requestPost('getProductTypeList', Config.bpm.getProductTypeList, Schemas.bpm.getProductTypeList).then((res) => {\r\n\t\t\tthis.productTyleList = Object.assign([], res.map(item=>{\r\n\t\t\t\treturn {text:item.typeName, value:item.typeName}\r\n\t\t\t}));\r\n\t\t\tthis.products = Object.assign([], res)\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取负责人列表\r\n\t@action\r\n\tgetMasterList() {\r\n\t\treturn requestPost('getMasterList', Config.bpm.getMasterList, Schemas.bpm.getMasterList).then((res) => {\r\n\t\t\tthis.masterList = Object.assign([], res.map(item=>{\r\n\t\t\t\treturn {text:item.userName, value:item.userName}\r\n\t\t\t}));\r\n\t\t\tthis.masterIds =  Object.assign([], res.map(item=>{\r\n\t\t\t\treturn Object.assign({}, {id:item.userId, typeName:item.userName})\r\n\t\t\t}));\r\n\t\t});\r\n\t}\r\n\r\n\t@observable personList=[];// 人员\r\n\t// 获取人员数据\r\n\t@action\r\n\tgetUserInfoListByRoleCode() {\r\n\t\treturn requestPost('getUserInfoListByRoleCode', Config.authorization.getUserInfoListByRoleCode, authorizationSchemas.authorization.getUserInfoListByRoleCode, {\r\n\t\t\tappId: \"bocspace\",\r\n\t\t\tcode: \"bocspace.group\",\r\n\t\t\tpageIndex: 1,     // 暂时处理\r\n\t\t\tpageSize: 10000,    // 暂时这样处理\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.personList = Object.assign([], res.body);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable projectList= []; //日历项目\r\n\t// 日历项目列表\r\n\t@action\r\n\tgetCalendarProjectList() {\r\n\t\treturn requestPost('getCalendarProjectList', Config.bpm.getCalendarProjectList, Schemas.bpm.getCalendarProjectList, {}).then((res)=>{\r\n\t\t\tthis.projectList = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable yearMonth = ''; // 当前月份\r\n\t@observable personMonthTask = []\r\n\t// 人员列表\r\n\t@action\r\n\tgetPersonMonthTaskState(param) {\r\n\t\treturn requestPost('getPersonMonthTaskState', Config.bpm.getPersonMonthTaskState, Schemas.bpm.getPersonMonthTaskState, {\r\n\t\t\tyearMonth: this.yearMonth,\r\n\t\t\tuserId: param\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.personMonthTask = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable projectStages = []; // 项目信息\r\n\t// 获取项目全部状态信息通过ids\r\n\t@action\r\n\tgetProjectStagesByIds(param) {\r\n\t\treturn requestPost('getProjectStagesByIds', Config.bpm.getProjectStagesByIds, Schemas.bpm.getProjectStagesByIds, {\r\n\t\t\tyearMonth: this.yearMonth,\r\n\t\t\tprojectIds: param\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.projectStages = Object.assign([], res.data==null?[]:res.data);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取钉钉的部门\r\n\t@action\r\n\tgetDepartment() {\r\n\t\treturn requestPost('getDepartment', Config.authorization.getDepartment, authorizationSchemas.authorization.getDepartment, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tpid: '1'\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取钉钉部门的用户列表\r\n\t@action\r\n\tgetUserInfoListByDingtalk(param) {\r\n\t\treturn requestPost('getUserInfoListByDingtalk', Config.authorization.getUserInfoListByDingtalk, authorizationSchemas.authorization.getUserInfoListByDingtalk, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 100,\r\n\t\t\tdepId: param\r\n\t\t});\r\n\t}\r\n    // 获取全部部门与人员\r\n\t@action\r\n\tgetDepartmentAndUsers(name) {\r\n\t\treturn requestPost('getDepartmentAndUsers', Config.authorization.getDepartmentAndUsers, authorizationSchemas.authorization.getDepartmentAndUsers, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tname: name\r\n\t\t});\r\n\t}\r\n\r\n\t@observable personParams = {  // 参数\r\n\t\tids: [],\r\n\t\tbeginTime: moment().startOf('day').valueOf(),\r\n\t    endTime: moment().endOf(\"day\").valueOf()\r\n\t}\r\n\t@observable personResources = []; // 日程数据\r\n\t// 人员日程排期\r\n\t@action\r\n\tgetPersonScheduleResources() {\r\n\t\treturn requestPost('getPersonScheduleResources', Config.bpm.getPersonScheduleResources, Schemas.bpm.getPersonScheduleResources, Object.assign({}, this.personParams))\r\n\t\t\t  .then((res)=>{\r\n\t\t\t\t  this.personResources = Object.assign([], res.data==null?[]:res.data);\r\n\t\t\t  });\r\n\t}\r\n\r\n\t@observable state = [];\r\n\t// 获取产品类型\r\n\t@action\r\n\tgetAllStages() {\r\n\t\treturn requestPost('getAllStages', Config.bpm.getAllStages, Schemas.bpm.getAllStages).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tthis.state = Object.assign([], res.map((item)=> {\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttypeName: item.stageName\r\n\t\t\t\t\t})\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@observable ossData = {\r\n\t\t\"securityToken\": \"\",\r\n\t\t\"accessKeyId\": \"\",\r\n\t\t\"accessKeySecret\": \"\",\r\n\t\t\"expiration\": null\r\n\t}; // 阿里云上传参数\r\n\r\n\t// 获取大文件上传sts\r\n\tgetSts() {\r\n\t\treturn requestPost('getSts', Config.bpm.getSts, bpmSchemas.bpm.getSts, {})\r\n\t\t.then((res) => {\r\n\t\t\tlet str = typeof res == \"string\" ? JSON.parse(res) : res;\r\n\t\t\tif (str) {\r\n\t\t\t\tthis.ossData = Object.assign({}, str);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@observable weeksData = []; // 当年所有的周数据\r\n\t@observable activeweeks = {}; // 当前周\r\n\t@observable userId = \"\"; // 人员id\r\n\t@observable userName = \"\"; // 人员name\r\n\t@observable weekData = []; // 当前周数据\r\n\t@observable monthData = []; // 当前月数据\r\n\t@observable seasonData = []; // 当前季数据\r\n\t@observable yearData = []; // 当前年数据\r\n\t@observable defaultWeeksData = []; // 当前周数据默认\r\n\t@observable okrAtts = []; // okr附件\r\n\t@observable okrComments = []; // okr评论\r\n\r\n\t// 返回查询年的周数据\r\n\tgetWeeks(param) {\r\n\t\treturn requestPost('getWeeks', Config.okr.getWeeks, okrSchemas.okr.getWeeks, {\r\n\t\t\tyear: param\r\n\t\t})\r\n\t}\r\n\r\n    // 获取周明细\r\n\tgetWeekDetails(param) {\r\n\t\treturn requestPost('getWeekDetails', Config.okr.getWeekDetails, okrSchemas.okr.getWeekDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.weekData = Object.assign([], res);\r\n\t\t\tthis.defaultWeeksData = Object.assign([], res);;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取月明细\r\n\tgetMonthDetails(param) {\r\n\t\treturn requestPost('getMonthDetails', Config.okr.getMonthDetails, okrSchemas.okr.getMonthDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.monthData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取季明细\r\n\tgetSeasonDetails(param) {\r\n\t\treturn requestPost('getSeasonDetails', Config.okr.getSeasonDetails, okrSchemas.okr.getSeasonDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.seasonData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取年明细\r\n\tgetYearDetails(param) {\r\n\t\treturn requestPost('getYearDetails', Config.okr.getYearDetails, okrSchemas.okr.getYearDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.yearData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存周明细\r\n\tsaveWeekDetails() {\r\n\t\treturn requestPost('saveWeekDetails', Config.okr.saveWeekDetails, okrSchemas.okr.saveWeekDetails, {\r\n\t\t\tlist: this.weekData,\r\n\t\t\tcode: this.activeweeks.id,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存月明细\r\n\tsaveMonthDetails() {\r\n\t\treturn requestPost('saveMonthDetails', Config.okr.saveMonthDetails, okrSchemas.okr.saveMonthDetails,{\r\n\t\t\tlist: this.monthData,\r\n\t\t\tcode: this.activeweeks.month,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存季明细\r\n\tsaveSeasonDetails(param) {\r\n\t\treturn requestPost('saveSeasonDetails', Config.okr.saveSeasonDetails, okrSchemas.okr.saveSeasonDetails, {\r\n\t\t\tlist: this.seasonData,\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存年明细\r\n\tsaveYearDetails(param) {\r\n\t\treturn requestPost('saveYearDetails', Config.okr.saveYearDetails, okrSchemas.okr.saveYearDetails, {\r\n\t\t\tlist: this.yearData,\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 获取评论的附件列表\r\n\tgetAtts(params) {\r\n\t\treturn requestPost('getAtts', Config.okr.getAtts, okrSchemas.okr.getAtts, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.okrAtts = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取评论内容\r\n\tgetComments(params) {\r\n\t\treturn requestPost('getComments', Config.okr.getComments, okrSchemas.okr.getComments, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.okrComments = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存附件\r\n\tsaveAtt(params) {\r\n\t\treturn requestPost('saveAtts', Config.okr.saveAtts, okrSchemas.okr.saveAtts, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tattachments: params.attachments\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存评论\r\n\tsaveComment(params) {\r\n\t\treturn requestPost('saveComment', Config.okr.saveComment, okrSchemas.okr.saveComment, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tcomment: params.comment\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除附件\r\n\tdelAtt(params) {\r\n\t\treturn requestPost('delAtt', Config.okr.delAtt, okrSchemas.okr.delAtt, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tattachmentId: params.attachmentId\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除评论\r\n\tdelComment(params) {\r\n\t\treturn requestPost('delComment', Config.okr.delComment, okrSchemas.okr.delComment, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tcommentId: params.commentId\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default BpmStore;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/bpm/BpmStore.js","let Config = {\r\n// OKR评定系统\r\n  okr: {\r\n    getWeeks: `query($year: Int) {\r\n\t\tgetWeeks(year: $year)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tname\r\n\t\t\tmonth\r\n\t\t\tmonthName\r\n\t\t\tisDefault\r\n\t\t\tweekMonthName\r\n\t\t}\r\n\t}`, // 返回查询年的周数据\r\n\r\n    getWeekDetails: `query($code: Int, $userId: String) {\r\n\t\tgetWeekDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tweekId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tkeyResult\r\n\t\t\tworkItems\r\n\t\t\tassociationDescription\r\n\t\t\tresults\r\n\t\t}\r\n\t}`, // 获取周明细\r\n\r\n    getMonthDetails: `query($code: Int, $userId: String) {\r\n\t\tgetMonthDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tmonthId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tkeyResult\r\n\t\t\tworkItems\r\n\t\t\tassociationDescription\r\n\t\t\tresults\r\n\t\t}\r\n\t}`, // 获取月明细\r\n\r\n    getSeasonDetails: `query($code: Int, $userId: String) {\r\n\t\tgetSeasonDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tseasonId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tobjective\r\n\t\t\tuniformity\r\n\t\t\tkeyResult\r\n\t\t\tdepend\r\n\t\t\tdependencyDescription\r\n\t\t\tconfidenceLevel\r\n\t\t\tcompletion\r\n\t\t\tscore\r\n\t\t}\r\n\t}`, // 获取季明细\r\n\r\n    getYearDetails: `query($code: Int, $userId: String) {\r\n\t\tgetYearDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tyearId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tobjective\r\n\t\t\tuniformity\r\n\t\t\tkeyResult\r\n\t\t\tdepend\r\n\t\t\tdependencyDescription\r\n\t\t\tconfidenceLevel\r\n\t\t\tcompletion\r\n\t\t\tscore\r\n\t\t}\r\n\t}`, // 获取年明细\r\n\r\n    saveWeekDetails: `mutation($list: [InputWeekDetail], $code: Int, $userId: String) {\r\n\t\tsaveWeekDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存周明细\r\n\r\n    saveMonthDetails: `mutation($list: [InputMonthDetail], $code: Int, $userId: String) {\r\n\t\tsaveMonthDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存月明细\r\n\r\n    saveSeasonDetails: `mutation($list: [InputSeasonDetail], $code: Int, $userId: String) {\r\n\t\tsaveSeasonDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存季明细\r\n\r\n    saveYearDetails: `mutation($list: [InputYearDetail], $code: Int, $userId: String) {\r\n\t\tsaveYearDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存年明细\r\n\r\n    getAtts: `query($type: String, $code: Int, $userId: String) {\r\n\t\tgetAtts(type: $type, code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\ttype\r\n\t\t\ttypeId\r\n\t\t\ttypeUserId\r\n\t\t\tuserId\r\n\t\t\tfileId\r\n\t\t\tfileName\r\n\t\t\tfileType\r\n\t\t\tfilePath\r\n\t\t\tcreateTime\r\n\t\t}\r\n\t}`, // 获取评论的附件列表\r\n\r\n    getComments: `query($type: String, $code: Int, $userId: String) {\r\n\t\tgetComments(type: $type, code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\ttype\r\n\t\t\ttypeId\r\n\t\t\ttypeUserId\r\n\t\t\tuserId\r\n\t\t\ttext\r\n\t\t\tcreateTime\r\n\t\t\tuserName\r\n\t\t}\r\n\t}`, // 获取评论内容\r\n\r\n    saveAtts: `mutation($type: String, $code: Int, $userId: String, $attachments: [InputAttachment]) {\r\n\t\tsaveAtts(type: $type, code: $code, userId: $userId, attachments: $attachments)\r\n\t}`, // 保存附件\r\n\r\n    saveComment: `mutation($type: String, $code: Int, $userId: String, $comment: InputComment) {\r\n\t\tsaveComment(type: $type, code: $code, userId: $userId, comment: $comment)\r\n\t}`, // 保存评论\r\n\r\n    delAtt: `mutation($type: String, $code: Int, $userId: String, $attachmentId: String) {\r\n\t\tdelAtt(type: $type, code: $code, userId: $userId, attachmentId: $attachmentId)\r\n\t}`, // 删除附件\r\n\r\n    delComment: `mutation($type: String, $code: Int, $userId: String, $commentId: String) {\r\n\t\tdelComment(type: $type, code: $code, userId: $userId, commentId: $commentId)\r\n\t}`, // 删除评论\r\n\r\n    getWeekAndMonthDetails: `query($weekCode: Int, $userId: String) {\r\n\t\tgetWeekAndMonthDetails(weekCode: $weekCode, userId: $userId)\r\n\t\t{\r\n\t\t\tweekDetail\r\n\t\t\t{\r\n\t\t\t\tid\r\n\t\t\t\tweekId\r\n\t\t\t\tuserId\r\n\t\t\t\torders\r\n\t\t\t\tkeyResult\r\n\t\t\t\tworkItems\r\n\t\t\t\tassociationDescription\r\n\t\t\t\tresults\r\n\t\t\t}\r\n\t\t\tmonthDetail\r\n\t\t\t{\r\n\t\t\t\tid\r\n\t\t\t\tmonthId\r\n\t\t\t\tuserId\r\n\t\t\t\torders\r\n\t\t\t\tkeyResult\r\n\t\t\t\tworkItems\r\n\t\t\t\tassociationDescription\r\n\t\t\t\tresults\r\n\t\t\t}\r\n\t\t}\r\n\t}`, // 获取周和月明细\r\n\r\n    saveWeekAndMonthDetails: `mutation($weeks: [InputWeekDetail], $months: [InputMonthDetail], $weekCode: Int, $userId: String) {\r\n\t\tsaveWeekAndMonthDetails(weeks: $weeks, months: $months, weekCode: $weekCode, userId: $userId)\r\n\t}`, // 保存周月明细\r\n\r\n  }\r\n}\r\nexport default Config;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/Schemas/okr.js","import { AutoComplete, Icon, Input } from 'antd';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport  './index.css';\nexport default class HeaderSearch extends Component {\n  inputRef = null;\n  static defaultProps = {\n    defaultActiveFirstOption: false,\n    onPressEnter: () => {},\n    onSearch: () => {},\n    onChange: () => {},\n    className: '',\n    placeholder: '',\n    dataSource: [],\n    defaultOpen: false,\n    onVisibleChange: () => {},\n  };\n\n  static getDerivedStateFromProps(props) {\n    if ('open' in props) {\n      return {\n        searchMode: props.open,\n      };\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchMode: props.defaultOpen,\n      value: props.defaultValue,\n    };\n    this.debouncePressEnter = debounce(this.debouncePressEnter, 500, {\n      leading: true,\n      trailing: false,\n    });\n  }\n\n  onKeyDown = e => {\n    if (e.key === 'Enter') {\n      this.debouncePressEnter();\n    }\n  };\n  onChange = value => {\n    if (typeof value === 'string') {\n      const { onSearch, onChange } = this.props;\n      this.setState({\n        value,\n      });\n\n      if (onSearch) {\n        onSearch(value);\n      }\n\n      if (onChange) {\n        onChange(value);\n      }\n    }\n  };\n  enterSearchMode = () => {\n    const { onVisibleChange } = this.props;\n    onVisibleChange(true);\n    this.setState(\n      {\n        searchMode: true,\n      },\n      () => {\n        const { searchMode } = this.state;\n\n        if (searchMode && this.inputRef) {\n          this.inputRef.focus();\n        }\n      },\n    );\n  };\n  leaveSearchMode = () => {\n    this.setState({\n      searchMode: false,\n    });\n  };\n  debouncePressEnter = () => {\n    const { onPressEnter } = this.props;\n    const { value } = this.state;\n    onPressEnter(value || '');\n  };\n\n  render() {\n    const { className, defaultValue, placeholder, open, ...restProps } = this.props;\n    const { searchMode, value } = this.state;\n    delete restProps.defaultOpen; // for rc-select not affected\n\n    const inputClass = classNames('headerSearch input', {\n      ['headerSearch input2']: searchMode,\n    });\n    return (\n      <span\n        className={classNames(className, 'headerSearch')}\n        onClick={this.enterSearchMode}\n        onTransitionEnd={({ propertyName }) => {\n          if (propertyName === 'width' && !searchMode) {\n            const { onVisibleChange } = this.props;\n            onVisibleChange(searchMode);\n          }\n        }}\n      >\n        <Icon type=\"search\" key=\"Icon\" />\n        <AutoComplete\n          key=\"AutoComplete\"\n          {...restProps}\n          className={inputClass}\n          value={value}\n          onChange={this.onChange}\n        >\n          <Input\n            ref={node => {\n              this.inputRef = node;\n            }}\n            defaultValue={defaultValue}\n            aria-label={placeholder}\n            placeholder={placeholder}\n            onKeyDown={this.onKeyDown}\n            onBlur={this.leaveSearchMode}\n          />\n        </AutoComplete>\n      </span>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/HeaderSearch/index.jsx","/*\r\n* 钉钉部门树组件\r\n* dangw@bocspace.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {Tree, Input, message} from 'antd';\r\nimport _ from 'lodash';\r\n\r\nconst {TreeNode} = Tree;\r\nconst {Search} = Input;\r\nlet dataList = [];\r\n\r\n@observer\r\nclass DingtalkTree extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\texpandedKeys: [],\r\n\t\t\tautoExpandParent: true,\r\n\t\t\tcheckedKeys: [],\r\n\t\t\ttreeData: [],\r\n\t\t\tsearchValue: '',\r\n\t\t\tfilterTreeData: [], // 过滤树\r\n\t\t\tparent: [], //父节点\r\n\t\t\tselectedKeys: [], // 选中\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// 获取数据\r\n\t\tthis.store.getDepartmentAndUsers(\"\").then((res) => {\r\n\t\t\t// 记录父亲节点\r\n\t\t\tlet parent = [];\r\n\t\t\tres.forEach((item,index)=>{\r\n\t\t\t\tif (item.userInfos == null) {\r\n\t\t\t\t\tparent.push(item.id)\r\n\t\t\t\t} else if (Array.isArray(item.userInfos)) {\r\n\t\t\t\t\tparent.push(item.id)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tres.map((item) => {\r\n\t\t\t\tif (item.userInfos == null) {\r\n\t\t\t\t\t// 删除userInfos == null\r\n\t\t\t\t\titem.key = item.id;\r\n\t\t\t\t\titem.title = item.name;\r\n\t\t\t\t\tdelete item.userInfos;\r\n\t\t\t\t} else if (Array.isArray(item.userInfos)) {\r\n\t\t\t\t\tconst userInfos = item.userInfos;\r\n\t\t\t\t\titem.key = item.id;\r\n\t\t\t\t\titem.title = item.name;\r\n\t\t\t\t\t// 转换userInfos To children\r\n\t\t\t\t\titem.children = userInfos.map(mitem => Object.assign({}, {\r\n\t\t\t\t\t\tkey: mitem.id,\r\n\t\t\t\t\t\ttitle: mitem.realname,\r\n\t\t\t\t\t\tisLeaf: true\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst treeData = this.transFormTree(res);\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: treeData,\r\n\t\t\t\tparent: parent,\r\n\t\t\t\tselectedKeys: this.store.userId!=undefined?[this.store.userId]:[],\r\n\t\t\t\texpandedKeys: this.store.userId!=undefined?[this.store.userId]:[],\r\n\t\t\t}, () => {\r\n\t\t\t\tdataList = []; // 初始化状态\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 将数据转换为json树\r\n\ttransFormTree = (data) => {\r\n\t\tlet result = [];\r\n\t\tif (!Array.isArray(data)) {\r\n\t\t\treturn result\r\n\t\t}\r\n\t\tlet map = {};\r\n\t\tdata.forEach(item => {\r\n\t\t\tmap[item.id] = item;\r\n\t\t});\r\n\t\tdata.forEach(item => {\r\n\t\t\tlet parent = map[item.parentId];\r\n\t\t\tif (parent) {\r\n\t\t\t\t(parent.children || (parent.children = [])).push(item);\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// 展开\r\n\tonExpand = expandedKeys => {\r\n\t\tthis.setState({\r\n\t\t\texpandedKeys,\r\n\t\t\tautoExpandParent: false,\r\n\t\t});\r\n\t};\r\n\r\n\t// 选中\r\n\tonCheck = (checkedKeys) => {\r\n\t\t// 模糊搜索状态\r\n\t\tconst {searchValue, parent} = this.state;\r\n\t\tlet isSearch = searchValue==null||searchValue==\"\"||searchValue==-1?true:false;  // true 正常选择  false 模糊搜索\r\n        let array = [];\r\n\t\t// 过滤checkedKeys\r\n\t\tif (isSearch==false) {  // 模糊\r\n\t\t\tarray = checkedKeys.filter((item)=>{\r\n\t\t\t \treturn !parent.includes(item)\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tarray = checkedKeys;\r\n\t\t}\r\n\t\t// 去重\r\n\t\tlet params = Array.from(new Set([...this.state.checkedKeys, ...array]));\r\n\r\n\t\tthis.setState({checkedKeys: isSearch?array:params}, () => {\r\n\t\t\tconst {userSearch} = this.props;\r\n\t\t\tif (userSearch) { // 是使用\r\n\t\t\t\tlet personParams = JSON.parse(JSON.stringify(this.store.personParams));\r\n\t\t\t\tthis.store.personParams = Object.assign(personParams, {\r\n\t\t\t\t\tids: Object.assign([], this.state.checkedKeys)\r\n\t\t\t\t});\r\n\t\t\t\tthis.store.getPersonScheduleResources();\r\n\t\t\t} else {  // 未使用\r\n\t\t\t\t// 将\r\n\t\t\t\tthis.props.handPersonChange(this.state.checkedKeys);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\trenderTreeNodes = data =>\r\n\t\tdata.map(item => {\r\n\t\t\tlet {searchValue} = this.state;\r\n\t\t\tconst index = item.title.indexOf(searchValue);\r\n\t\t\tconst beforeStr = item.title.substr(0, index);\r\n\t\t\tconst afterStr = item.title.substr(index + searchValue.length);\r\n\t\t\tconst title =\r\n\t\t\t\tindex > -1 ? (\r\n\t\t\t\t\t<span>\r\n              {beforeStr}\r\n\t\t\t\t\t\t<span style={{color: '#f50'}}>{searchValue}</span>\r\n\t\t\t\t\t\t{afterStr}\r\n            </span>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span>{item.title}</span>\r\n\t\t\t\t);\r\n\r\n\t\t\tif (item.children) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TreeNode title={title} key={item.key} dataRef={item}>\r\n\t\t\t\t\t\t{this.renderTreeNodes(item.children)}\r\n\t\t\t\t\t</TreeNode>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn <TreeNode key={item.key} title={item.title}\r\n\t\t\t                 className={searchValue !== \"\" && item.title.includes(searchValue) ? \"active_search\" : \"\"}\r\n\t\t\t                 isLeaf={item.isLeaf} dataRef={item}/>;\r\n\t\t});\r\n\r\n\tonChange = (e) => {\r\n\t\tconst {userSearch} = this.props;\r\n\t\tconst value = userSearch ? e.target.value : e;  // 是否使用\r\n\t\tconst val = _.trim(value);\r\n\t\tif (val !== '') {  // 模糊搜索name不为空\r\n\t\t\tthis.store.getDepartmentAndUsers(val).then((res) => {\r\n\t\t\t\t// 已选中的keys 筛选中的keys\r\n\t\t\t\tif (Array.isArray(res)) {\r\n\t\t\t\t\tres.map((item) => {\r\n\t\t\t\t\t\tif (item.userInfos == null) {\r\n\t\t\t\t\t\t\t// 删除userInfos == null\r\n\t\t\t\t\t\t\titem.key = item.id;\r\n\t\t\t\t\t\t\titem.title = item.name;\r\n\t\t\t\t\t\t\tdelete item.userInfos;\r\n\t\t\t\t\t\t} else if (Array.isArray(item.userInfos)) {\r\n\t\t\t\t\t\t\tconst userInfos = item.userInfos;\r\n\t\t\t\t\t\t\titem.key = item.id;\r\n\t\t\t\t\t\t\titem.title = item.name;\r\n\t\t\t\t\t\t\t// 转换userInfos To children\r\n\t\t\t\t\t\t\titem.children = userInfos.map(mitem => Object.assign({}, {\r\n\t\t\t\t\t\t\t\tkey: mitem.id,\r\n\t\t\t\t\t\t\t\ttitle: mitem.realname,\r\n\t\t\t\t\t\t\t\tisLeaf: true\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst filterTreeData = this.transFormTree(res);\r\n                    const expandedKeys = dataList.map((item) => {\r\n\t\t\t\t\t\tif (item.title.indexOf(val) > -1) {\r\n\t\t\t\t\t\t\treturn this.getParentKey(item.title, filterTreeData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\texpandedKeys,\r\n\t\t\t\t\t\tsearchValue: val,\r\n\t\t\t\t\t\tautoExpandParent: true,\r\n\t\t\t\t\t\tfilterTreeData: filterTreeData,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tsearchValue: -1,\r\n\t\t\t\tautoExpandParent: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tgenerateList = (data) => {\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst node = data[i];\r\n\t\t\tconst key = node.key;\r\n\t\t\tdataList.push({key, title: node.title});\r\n\t\t\tif (node.children) {\r\n\t\t\t\tthis.generateList(node.children);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetParentKey = (title, tree) => {\r\n\t\tlet parentKey;\r\n\t\tfor (let i = 0; i < tree.length; i++) {\r\n\t\t\tconst node = tree[i];\r\n\t\t\tif (node.children) {\r\n\t\t\t\tif (node.children.some(item => item.title === title)) {\r\n\t\t\t\t\tparentKey = node.key;\r\n\t\t\t\t} else if (this.getParentKey(title, node.children)) {\r\n\t\t\t\t\tparentKey = this.getParentKey(title, node.children);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parentKey;\r\n\t}\r\n\r\n\t// 选中\r\n\tonSelect = (selectedKeys, info) => {\r\n        const {node} = info;\r\n        const {props} = node;\r\n        const {dataRef} = props;\r\n\t\tif (dataRef.parentId==undefined) { // 父亲节点不可点击\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedKeys: Object.assign([], selectedKeys)\r\n\t\t\t},()=>{\r\n\t\t\t\t// 触发右侧事件\r\n\t\t\t\t//console.log('selected', selectedKeys, dataRef);\r\n\t\t\t\tthis.props.handleSelect(dataRef);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t//message.warn(\"请选择人员\")\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {searchValue,treeData, expandedKeys, autoExpandParent, checkedKeys, filterTreeData, selectedKeys} = this.state;\r\n\t\tthis.generateList(treeData);\r\n\t\tconst {userSearch, showLine} = this.props;\r\n\t\tconst data = searchValue==null||searchValue==\"\"||searchValue==-1?treeData:filterTreeData;\r\n\r\n\t\treturn <div>\r\n\t\t\t<div className={userSearch ? \"tc mb10\" : \"hidden\"}>\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"输入姓名搜索\"\r\n\t\t\t\t\tonChange={(e) => this.onChange(e)}\r\n\t\t\t\t\tstyle={{width: '80%'}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<Tree\r\n\t\t\t\tonExpand={this.onExpand}\r\n\t\t\t\texpandedKeys={expandedKeys}\r\n\t\t\t\tautoExpandParent={autoExpandParent}\r\n\t\t\t\tonCheck={this.onCheck}\r\n\t\t\t\tcheckedKeys={checkedKeys}\r\n\t\t\t\tcheckable={!showLine}\r\n\t\t\t\tshowLine={showLine}\r\n\t\t\t\tonSelect={showLine?this.onSelect:null}\r\n\t\t\t\tselectedKeys={selectedKeys}\r\n\t\t\t>\r\n\t\t\t\t{this.renderTreeNodes(data)}\r\n\t\t\t</Tree>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport default DingtalkTree;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bpm/DingtalkTree.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".headerSearch .anticon-search {\\r\\n  font-size: 16px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n.headerSearch .input {\\r\\n  width: 0;\\r\\n  background: transparent;\\r\\n  border-radius: 0;\\r\\n  transition: width 0.3s, margin-left 0.3s;\\r\\n}\\r\\n.headerSearch .input .ant-select-selection {\\r\\n  background: transparent;\\r\\n}\\r\\n.headerSearch .input input {\\r\\n  padding-right: 0;\\r\\n  padding-left: 0;\\r\\n  border: 0;\\r\\n  box-shadow: none !important;\\r\\n}\\r\\n.headerSearch .input,\\r\\n.headerSearch .input:hover,\\r\\n.headerSearch .input:focus {\\r\\n  border-bottom: 1px solid #d9d9d9;\\r\\n}\\r\\n.headerSearch .input.show {\\r\\n  width: 210px;\\r\\n  margin-left: 8px;\\r\\n}\\r\\n.headerSearch .input2 {\\r\\n  width: 210px;\\r\\n  margin-left: 8px;\\r\\n  background: transparent;\\r\\n  border-radius: 0;\\r\\n  transition: width 0.3s, margin-left 0.3s;\\r\\n}\\r\\n.headerSearch .input2 .ant-select-selection {\\r\\n  background: transparent;\\r\\n}\\r\\n.headerSearch .input2 input {\\r\\n  padding-right: 0;\\r\\n  padding-left: 0;\\r\\n  border: 0;\\r\\n  box-shadow: none !important;\\r\\n}\\r\\n.headerSearch .input2,\\r\\n.headerSearch .input2:hover,\\r\\n.headerSearch .input2:focus {\\r\\n  border-bottom: 1px solid #d9d9d9;\\r\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/components/HeaderSearch/index.css\n// module id = 1803\n// module chunks = 2 24","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HeaderSearch/index.css\n// module id = 1804\n// module chunks = 2 24","/*钉钉右侧表格\n* dangw@bocspace.com\n* */\nimport React from 'react';\nimport {observer} from 'mobx-react';\nimport {Affix, ConfigProvider, DatePicker, Radio, Table} from 'antd';\nimport moment from 'moment';\nimport * as mobx from 'mobx';\nconst {RangePicker} = DatePicker;\nconst customizeRenderEmpty = () => (\n\t<div style={{ textAlign: 'center',padding: '50px 0'}}>\n\t\t<img\n\t\t\twidth='150px'\n\t\t\theight=\"100px\"\n\t\t\tsrc='./images/not_found.png' />\n\t\t<p style={{\n\t\t\tfontSize:'14px',\n\t\t\tfontFamily:'PingFangSC-Regular,PingFang S',\n\t\t\tfontWeight: '400',\n\t\t\tcolor: 'rgba(75,80,81,1)'\n\t\t}}>暂无数据</p>\n\t</div>\n);\n\n@observer\nclass DingtalkRight extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.store = this.props.store;\n\t\tthis.state = {\n\t\t\tvalue: \"day\", // 默认\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet personParams = JSON.parse(JSON.stringify(this.store.personParams));\n\t\tthis.store.personParams = Object.assign(personParams, {\n\t\t\tbeginTime: moment().startOf('day').valueOf(),\n\t\t\tendTime: moment().endOf(\"day\").valueOf()\n\t\t});\n\t\tthis.store.getPersonScheduleResources();\n\t}\n\n\tonChangeTimeRange = (dates, dateStrings) => {\n\t\tthis.setState({\n\t\t\tvalue: \"\",\n\t\t}, ()=>{\n\t\t\tlet personParams = JSON.parse(JSON.stringify(this.store.personParams));\n\t\t\tthis.store.personParams = Object.assign(personParams, {\n\t\t\t\t\"beginTime\": moment(dateStrings[0]).valueOf(),\n\t\t\t\t\"endTime\": moment(dateStrings[1]).valueOf(),\n\t\t\t});\n\t\t\tthis.store.getPersonScheduleResources();\n\t\t});\n\t}\n\n\t// 查询日程\n\tonChange = e => {\n\t\tthis.setState({\n\t\t\tvalue: e.target.value,\n\t\t}, () => {\n\t\t\tlet personParams = JSON.parse(JSON.stringify(this.store.personParams));\n\t\t\tthis.store.personParams = Object.assign(personParams, {\n\t\t\t\t\"beginTime\": moment().startOf(e.target.value).valueOf(),\n\t\t\t\t\"endTime\": moment().endOf(e.target.value).valueOf()\n\t\t\t});\n\t\t\tthis.store.getPersonScheduleResources();\n\t\t});\n\t};\n\n\trender() {\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: '人员',\n\t\t\t\tdataIndex: 'name',\n\t\t\t\tkey: 'name',\n\t\t\t\talign: 'center',\n\t\t\t\twidth: '14%',\n\t\t\t\tclassName: 'vt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '有效工时',\n\t\t\t\tdataIndex: 'effectiveHours',\n\t\t\t\tkey: 'effectiveHours',\n\t\t\t\talign: 'center',\n\t\t\t\twidth: '14%',\n\t\t\t\tclassName: 'vt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '已排工时',\n\t\t\t\tdataIndex: 'arrangeHours',\n\t\t\t\tkey: 'arrangeHours',\n\t\t\t\talign: 'center',\n\t\t\t\twidth: '14%',\n\t\t\t\tclassName: 'vt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '平均剩余（h）',\n\t\t\t\tdataIndex: 'surplusHours',\n\t\t\t\tkey: 'surplusHours',\n\t\t\t\talign: 'center',\n\t\t\t\twidth: '14%',\n\t\t\t\tclassName: 'vt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '最多空闲（h）',\n\t\t\t\tdataIndex: 'availableHours',\n\t\t\t\tkey: 'availableHours',\n\t\t\t\twidth: '14%',\n\t\t\t\talign: 'center',\n\t\t\t\tclassName: 'vt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '已用工时',\n\t\t\t\talign: 'center',\n\t\t\t\tchildren: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '有效投入',\n\t\t\t\t\t\tdataIndex: 'effectiveTime',\n\t\t\t\t\t\tkey: 'effectiveTime',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '沉默投入',\n\t\t\t\t\t\tdataIndex: 'silenceTime',\n\t\t\t\t\t\tkey: 'silenceTime',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t];\n\t\tconst {value} = this.state;\n\t\tconst {personParams, personResources} = this.store;\n\t\tconst {beginTime, endTime} = personParams;\n\t\treturn <div>\n\t\t\t<Affix offsetTop={60}>\n\t\t\t\t<div style={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\tbackgroundColor: '#FFF',\n\t\t\t\t\tpaddingBottom: '15px'\n\t\t\t\t}}>\n\t\t\t\t\t<Radio.Group onChange={this.onChange} value={value} buttonStyle=\"solid\">\n\t\t\t\t\t\t<Radio.Button value=\"day\">今日</Radio.Button>\n\t\t\t\t\t\t<Radio.Button value=\"week\">本周</Radio.Button>\n\t\t\t\t\t\t<Radio.Button value=\"month\">本月</Radio.Button>\n\t\t\t\t\t\t<Radio.Button value=\"year\">全年</Radio.Button>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t\t<RangePicker\n\t\t\t\t\t\tclassName=\"ml30\"\n\t\t\t\t\t\tstyle={{width: '250px'}}\n\t\t\t\t\t\tallowClear={false}\n\t\t\t\t\t\tvalue={[moment(beginTime), moment(endTime)]}\n\t\t\t\t\t\tonChange={this.onChangeTimeRange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Table columns={columns}\n\t\t\t\t       dataSource={[]}\n\t\t\t\t       size={\"small\"}\n\t\t\t\t       pagination={false}\n\t\t\t\t       className=\"ci_table2 ci_table5 ci_table6\"\n\t\t\t\t       bordered/>\n\t\t\t</Affix>\n\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\n\t\t\t\t<Table\n\t\t\t\t\tclassName=\"mt15\"\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\tdataSource={mobx.toJS(personResources)}\n\t\t\t\t\tbordered\n\t\t\t\t\tsize={\"small\"}\n\t\t\t\t\tshowHeader={false}\n\t\t\t\t\tpagination={false}\n\t\t\t\t\tclassName=\"ci_table2 ci_table5\"\n\t\t\t\t\trowClassName={(record, index) => {\n\t\t\t\t\t\tlet className = index % 2 ? 'deep_gray' : 'shallow_gray';\n\t\t\t\t\t\treturn className\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</ConfigProvider>\n\t\t</div>;\n\t}\n}\n\nexport default DingtalkRight;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bpm/DingtalkRight.js","/*\r\n* 项目日历组件\r\n* */\r\nimport React from 'react';\r\nimport moment from \"moment\";\r\nimport * as mobx from 'mobx';\r\nimport {Popover} from \"antd\";\r\n\r\n// 延迟颜色\r\nconst colors = {0: '#EEF7FF', 1: '#4da9de', 2: '#e7b550', 3: '#c4382c', };\r\n\r\nexport default class ProjectCalendar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdays: 1,\r\n\t\t\tcurrentDay: 2,\r\n\t\t\tCANVAS_WIDTH: 15 * 76,\r\n\t\t\tCANVAS_HEIGHT: 32 * 44,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst {projectStages} = nextProps;\r\n\t\tvar width;\r\n\t\tif (projectStages.length>=15) {\r\n\t\t\twidth = projectStages.length*76;\r\n\t\t} else {\r\n\t\t\twidth = 15 * 76;\r\n\t\t}\r\n\t\tvar GRID_WIDTH = 76;\r\n\t\tvar GRID_HEIGHT = 44;\r\n\t\tconst current = Number(nextProps.days)+1;\r\n\t\tconst currentDay = Number(nextProps.currentDay)+1;\r\n\t\tthis.setState({\r\n\t\t\tCANVAS_WIDTH:width ,\r\n\t\t\tCANVAS_HEIGHT: (current) * 44,\r\n\t\t\tdays: current,\r\n\t\t\tcurrentDay: currentDay\r\n\t\t}, () => {\r\n\t\t\tconst {CANVAS_WIDTH, CANVAS_HEIGHT} = this.state;\r\n\t\t\tthis.drawGrid(CANVAS_WIDTH, CANVAS_HEIGHT, GRID_WIDTH, GRID_HEIGHT);\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {projectStages} = this.props;\r\n\t\tvar width;\r\n\t\tif (projectStages.length>=15) {\r\n\t\t\twidth = projectStages.length*76;\r\n\t\t} else {\r\n\t\t\twidth = 15 * 76;\r\n\t\t}\r\n\t\tvar GRID_WIDTH = 76;\r\n\t\tvar GRID_HEIGHT = 44;\r\n\t\tconst current = Number(this.props.days)+1;\r\n\t\tconst currentDay = Number(this.props.currentDay)+1;\r\n\t\tthis.setState({\r\n\t\t\tCANVAS_WIDTH: width,\r\n\t\t\tCANVAS_HEIGHT: (current) * 44,\r\n\t\t\tdays: current,\r\n\t\t\tcurrentDay: currentDay\r\n\t\t}, () => {\r\n\t\t\tconst {CANVAS_WIDTH, CANVAS_HEIGHT} = this.state;\r\n\t\t\tthis.drawGrid(CANVAS_WIDTH, CANVAS_HEIGHT, GRID_WIDTH, GRID_HEIGHT);\r\n\t\t});\r\n\t}\r\n\r\n\t//绘制网格\r\n\tdrawGrid = (CANVAS_WIDTH, CANVAS_HEIGHT, GRID_WIDTH, GRID_HEIGHT) => {\r\n\t\tvar rows = parseInt(CANVAS_WIDTH / GRID_WIDTH);\r\n\t\t//var cols=parseInt(CANVAS_HEIGHT/GRID_HEIGHT);\r\n\t\tvar cols = parseInt(this.state.days);\r\n\t\tfor (var i = 0; i < rows; ++i) {\r\n\t\t\tfor (var j = 0; j < cols; ++j) {\r\n\t\t\t\tthis.drawRect(i, j, GRID_WIDTH, GRID_HEIGHT);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    //绘制矩形\r\n\tdrawRect = (i, j, GRID_WIDTH, GRID_HEIGHT) => {\r\n\t\tvar drawing = document.getElementById(\"drawing\");\r\n\t\tif (!drawing.getContext) return false;\r\n\t\tvar context = drawing.getContext(\"2d\");\r\n\t\tcontext.lineWidth = 0.4;\r\n\t\tcontext.strokeStyle = \"lightgrey\";\r\n\t\tcontext.strokeRect(i * 76, j * 44, GRID_WIDTH, GRID_HEIGHT);\r\n\t}\r\n\r\n\t// 鼠标移入\r\n    onMouseOver = (key) => {\r\n\t    console.log(key, '移入')\r\n        //let ele = document.querySelector(\".\"+key);\r\n\t    var ele = document.getElementById(key);\r\n\t    ele.style.display=\"block\";\r\n    }\r\n\r\n    // 鼠标移出\r\n    onMouseOut = (key) => {\r\n       console.log(key, '移出')\r\n       // let ele = document.querySelector(\".\"+key);\r\n\t    var ele = document.getElementById(key);\r\n\t    ele.style.display=\"none\";\r\n    }\r\n\r\n    // 鼠标移动\r\n    onMouseMove = (key, offsetTop, eve) => {\r\n\t    console.log(key, eve, '移动')\r\n        //let ele = document.querySelector(\".\"+key);\r\n\t    var ele = document.getElementById(key);\r\n\t    let e=eve||window.event;\r\n        ele.style.left=e.offsetX+5+\"px\";\r\n        ele.style.top= e.offsetY+5+\r\n            offsetTop+\"px\"; // 因为p的定位相对于大框，offset的坐标相对于事件源，不够，需要加上事件源相对于大框的left和top；+5是为了让p和h错开，这样p就不会一直闪烁了。\r\n    }\r\n\r\n\trender() {\r\n\t\tconst {CANVAS_WIDTH, CANVAS_HEIGHT, days, currentDay} = this.state;\r\n\t\tconst {projectStages, yearMonth} = this.props;\r\n\t\tconst current =  moment().format(\"YYYYMM\");\r\n\t\tconst date = moment().date();//343\r\n\t\treturn (\r\n\t\t\t<div className=\"pr\" style={{width: CANVAS_WIDTH, height:'calc(100vh - 340px)', paddingLeft:'25px'}}>\r\n\t\t\t\t{/*x轴坐标*/}\r\n\t\t\t\t<ul className=\"projectCalendar_row\">\r\n\t\t\t\t\t{projectStages&&projectStages.map((item, index) => {\r\n\t\t\t\t\t\treturn <li key={'row' + index} title={item.name}>\r\n\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t\t{/*y轴坐标*/}\r\n\t\t\t\t<ul className=\"projectCalendar_col\">\r\n\t\t\t\t\t{[...Array(days-1).keys()].map(i => (\r\n\t\t\t\t\t\t<li key={'col' + i}\r\n\t\t\t\t\t\t    style={{color: (yearMonth==current)&&(date)==(i+1)?\"#FB602D\":\"#333\"}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i + 1}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t\t{/*定位当前基准线*/}\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: CANVAS_WIDTH,\r\n\t\t\t\t\t\theight: '2px',\r\n\t\t\t\t\t\tbackgroundColor: '#FB602D',\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tleft: '25px',\r\n\t\t\t\t\t\ttop: (date+1) * 44 + \"px\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={yearMonth==current?\"projectCalendar_baseline\":\"hidden\"}></div>\r\n\t\t\t\t{/*canvas画布*/}\r\n\t\t\t\t<canvas id=\"drawing\" style={{overflowX: 'auto'}} width={CANVAS_WIDTH} height={CANVAS_HEIGHT}></canvas>\r\n\t\t\t\t{/*挂载内容*/}\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\twidth: CANVAS_WIDTH,\r\n\t\t\t\t\theight: CANVAS_HEIGHT,\r\n\t\t\t\t\tposition: 'absolute', top: '0', left: '0'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{projectStages && projectStages.map((item, index) => {\r\n\t\t\t\t\t\treturn (item.children && item.children.map((mitem, mindex) => {\r\n\t\t\t\t\t\t\t// 计算高度 判断跨月处理\r\n\t\t\t\t\t\t\tconst month = Number(yearMonth);  // 记录日历切换的月份\r\n\t\t\t\t\t\t\tconst beginMonth = mitem.beginTime==0?month:moment(mitem.beginTime).format(\"YYYYMM\");  // 记录开始时间的年月\r\n\t\t\t\t\t\t\tconst endMonth = mitem.endTime==0?month:moment(mitem.endTime).format(\"YYYYMM\");  // 记录开始时间的月份\r\n\t\t\t\t\t\t\tlet end = endMonth>month?moment(yearMonth+ (this.state.days-1)):mitem.endTime; // 结束日期大于当前的年月\r\n\t\t\t\t\t\t\tlet begin = beginMonth<month?moment(yearMonth+'01'):mitem.beginTime;   // 开始日期小于当前的年月\r\n\t\t\t\t\t\t\tlet days = mitem.beginTime==0?1:moment(end).diff(moment(begin), 'days');\r\n\t\t\t\t\t\t\t// 计算开始时间的天数\r\n\t\t\t\t\t\t\tlet startDay = mitem.beginTime==0?moment(mitem.endTime).date()-1:(beginMonth<month?1:moment(mitem.beginTime).date());\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Popover content={<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth:'200px',\r\n\t\t\t\t\t\t\t\t\t\tbackground: '#FFF',\r\n\t\t\t\t\t\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign:'left',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0px 5px',\r\n\t\t\t\t\t\t\t\t\t\tzIndex:'9999'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tid={mitem.id}>\r\n\t\t\t\t\t\t\t\t\t<p>当前阶段：{mitem.stageName}</p>\r\n\t\t\t\t\t\t\t\t\t<p>开始时间：{moment(mitem.beginTime).format(\"YYYY-MM-DD\")}</p>\r\n\t\t\t\t\t\t\t\t\t<p>结束时间：{moment(mitem.endTime).format(\"YYYY-MM-DD\")}</p>\r\n\t\t\t\t\t\t\t\t\t{mitem.rate==null||mitem.rate==0?null:<p>当前进度:{mitem.rate}%</p>}\r\n\t\t\t\t\t\t\t\t</div>}>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={mitem.id}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"project_div\"\r\n                                       // onMouseOver={()=>this.onMouseOver(mitem.id)}\r\n                                       // onMouseMove={()=>{this.onMouseMove(mitem.id, (startDay-1)*44, event)}}\r\n                                       // onMouseOut={()=>this.onMouseOut(mitem.id)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\ttop: (startDay+1)*44+'px',  // 距离x轴   index 开始时间合计\r\n\t\t\t\t\t\t\t\t\t\t\tleft: index*76+25+'px', // 距离y轴   index 开始时间合计\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '76px',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 44 * days + 'px',  // 时间差值\r\n\t\t\t\t\t\t\t\t\t\t\tzIndex: 8+mindex+1, // 覆盖层级问题\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ellsis\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tzIndex:'999'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>{mitem.stageName}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tzIndex:'888',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: colors[mitem.taskState],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: mitem.rate+\"%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"project_progress\"></div>\r\n                                        <div\r\n                                            style={{\r\n                                                width:'200px',\r\n                                                background: '#FFF',\r\n                                                margin: 0,\r\n                                                display: 'none',\r\n                                                position: 'absolute',\r\n                                                left: 0,\r\n                                                top:0,\r\n                                                textAlign:'left',\r\n                                                color: '#333',\r\n                                                padding: '3px 15px',\r\n                                                zIndex:'9999'\r\n                                            }}\r\n                                            id={mitem.id}>\r\n                                            <p>当前阶段：{mitem.stageName}</p>\r\n                                            <p>开始时间：{moment(mitem.beginTime).format(\"YYYY-MM-DD\")}</p>\r\n                                            <p>结束时间：{moment(mitem.endTime).format(\"YYYY-MM-DD\")}</p>\r\n                                            {mitem.rate==null||mitem.rate==0?null:<p>当前进度:{mitem.rate}%</p>}\r\n                                        </div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Popover>\r\n                            )\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bpm/ProjectCalendar.js"],"sourceRoot":""}