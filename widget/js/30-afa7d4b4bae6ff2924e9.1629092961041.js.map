{"version":3,"sources":["webpack:///./src/containers/weekNews/Schedule.js","webpack:///./src/components/weekNews/LeftTree.js","webpack:///./src/components/weekNews/ProEditTable.js","webpack:///./src/components/weekNews/Technological.js","webpack:///./src/store/weekNews/ScheduleStore.js"],"names":["mobx","TabPane","Tabs","EditableContext","React","createContext","EditableRow","form","index","props","EditableFormRow","Form","create","EditableCell","state","editing","save","record","handleSave","validateFields","error","values","e","currentTarget","id","saveDate","date","dateString","hasOwnProperty","valueOf","saveDate2","disabledStartDate","startValue","endTime","disabledEndDate","endValue","beginTime","renderCell","children","dataIndex","title","numberTostring","format","subExpectResources","undefined","margin","getFieldDecorator","rules","required","message","initialValue","input","node","minHeight","width","editable","restProps","Component","customizeRenderEmpty","textAlign","padding","fontSize","fontFamily","fontWeight","color","Schedule","observer","callback","key","setState","scrollToAnchor","row","expect","JSON","parse","stringify","store","quantities","units","expectSource","findIndex","item","newRow","Object","assign","toString","splice","param","params","saveExpect","then","res","getExpectById","rowId","rowObj","expectResource","resources","filter","handleAddd","addDirectoryTree","success","getDirectoryTreeByProjectId","onClickRow","onClick","onReset","setRowClassName","resetFields","updateData","dataSource","subExpects","handleSubmit","map","startsWith","mitem","expect2","handleCancle","onRef","ref","child","updateState","data","anchorName","anchorElement","document","getElementById","scrollIntoView","block","err","console","log","updateNew","ScheduleStore","search","location","projectId","url","query","parojectName","name","localStorage","setItem","getItem","pathname","match","path","directoryTree","isDisable","columns","align","components","body","cell","column","col","onCell","buttonLayout","labelCol","xs","sm","wrapperCol","toJS","borderLeft","paddingLeft","Index","TreeNode","Tree","DirectoryTree","confirm","Modal","DingtalkTree","visible","vis","dataRef","fetching","text","pageIndex","companyData","expandedKeys","selectedKeys","getCompanyList","formItemLayout","span","isShow","expectId","isStandard","onSelect","onExpand","renderTreeNodes","handleOk","handleCancel","position","fetchCompany","setCheckNum","companyScroll","taskName","handleOk2","handleCal","handleChange","value","val","taskId","persist","target","scrollTop","offsetHeight","scrollHeight","nextScrollPage","old","getTaskPage","preventDefault","validateFieldsAndScroll","saveDirectoryTree","parentId","onRightClick","_this","handleDel","okText","cancelText","content","onOk","delDirectoryTree","onCancel","createNode","type","warn","bind","keys","event","obj","saveExpectDirectoryTree","leftTree","Option","Select","spec","manufacturer","handleDelete","ProEditTable","handleAdd","addData","source","newData","quantity","nextProps","nextContext","disabled","fixed","render","cursor","colu","TextArea","Input","Technological","limitDecimals","reg","isNaN","Number","replace","String","handLeChange","fields","marginTop","technology","minRows","transFormTree","result","Array","isArray","forEach","parent","push","Config","xmgl","Schemas","treeData","Promise","resolve","pageSize","observable","action"],"mappings":"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","file":"js/30-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\r\n* 施工排期\r\n* dangw@bocspce.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {Breadcrumb, Form, Row, Col, Button, Tabs, Table, Input, DatePicker, InputNumber, message, ConfigProvider,} from 'antd';\r\nimport ScheduleStore from \"store/weekNews/ScheduleStore\";\r\nimport LeftTree from \"components/weekNews/LeftTree\";\r\nimport ProEditTable from \"components/weekNews/ProEditTable\";\r\nimport Technological from \"components/weekNews/Technological\";\r\nimport moment from 'moment';\r\nimport url from 'url';\r\nimport * as mobx from \"mobx\";\r\n\r\nconst {TabPane} = Tabs;\r\nconst EditableContext = React.createContext();\r\nconst EditableRow = ({form, index, ...props}) => (\r\n\t<EditableContext.Provider value={form}>\r\n\t\t<tr {...props} />\r\n\t</EditableContext.Provider>\r\n);\r\n\r\nconst EditableFormRow = Form.create()(EditableRow);\r\n\r\nclass EditableCell extends React.Component {\r\n\tstate = {\r\n\t\tediting: true,\r\n\t};\r\n\tsave = e => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (error && error[e.currentTarget.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete values[\"beginTime\"];\r\n\t\t\tdelete values[\"endTime\"];\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t};\r\n\t//日期格式保存\r\n\tsaveDate = (date, dateString) => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (values.hasOwnProperty('beginTime')) {\r\n\t\t\t\tvalues[\"beginTime\"] = moment(dateString, 'YYYY-MM-DD').valueOf();\r\n\t\t\t}\r\n\t\t\tdelete values[\"endTime\"];\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t}\r\n\tsaveDate2 = (date, dateString) => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (values.hasOwnProperty('endTime')) {\r\n\t\t\t\tvalues[\"endTime\"] = moment(dateString, 'YYYY-MM-DD').valueOf();\r\n\t\t\t}\r\n\t\t\tdelete values[\"beginTime\"];\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t}\r\n\t//设置开始日期不能选择的时间\r\n\tdisabledStartDate = startValue => {\r\n\t\tconst {record} = this.props;\r\n\t\tif (!startValue || !record.endTime) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn startValue.valueOf() > record.endTime.valueOf()\r\n\t}\r\n\t//设置结束不能选择的时间\r\n\tdisabledEndDate = endValue => {\r\n\t\tconst {record} = this.props;\r\n\t\tif (!endValue || !record.beginTime) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn endValue.valueOf() <= record.beginTime.valueOf()\r\n\t}\r\n\trenderCell = form => {\r\n\t\tthis.form = form;\r\n\t\tconst {children, dataIndex, record, title} = this.props;\r\n\t\tconst {editing} = this.state;\r\n\t\tif (dataIndex == 'beginTime') { // 开始日期\r\n\t\t\t// 日期时间戳转换字符串\r\n\t\t\tconst numberTostring = record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(record[dataIndex]).format('YYYY-MM-DD');\r\n\t\t\treturn editing && record.subExpectResources == undefined ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\trules: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(numberTostring, \"YYYY-MM-DD\")\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\tonChange={this.saveDate}\r\n\t\t\t\t\t\t//设置开始日期\r\n\t\t\t\t\t\tdisabledDate={this.disabledStartDate}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(numberTostring).format(\"YYYY-MM-DD\")}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'endTime') { // 截止日期\r\n\t\t\t// 日期时间戳转换字符串\r\n\t\t\tconst numberTostring = record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(record[dataIndex]).format('YYYY-MM-DD');\r\n\t\t\treturn editing && record.subExpectResources == undefined ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\trules: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(numberTostring, \"YYYY-MM-DD\")\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\tonChange={this.saveDate2}\r\n\t\t\t\t\t\t//设置结束不能选择的时间\r\n\t\t\t\t\t\tdisabledDate={this.disabledEndDate}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(numberTostring).format(\"YYYY-MM-DD\")}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'quantities') {  // 总量\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tstyle={{width: '177px'}}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonPressEnter={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {   // 单位\r\n\t\t\treturn editing && record.subExpectResources == undefined ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tstyle={{width: '177px'}}\r\n\t\t\t\t\t\t\tonPressEnter={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t\tplaceholder=\"请输入\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teditable,\r\n\t\t\tdataIndex,\r\n\t\t\ttitle,\r\n\t\t\trecord,\r\n\t\t\tindex,\r\n\t\t\thandleSave,\r\n\t\t\tchildren,\r\n\t\t\t...restProps\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<td {...restProps}>\r\n\t\t\t\t{editable ? (\r\n\t\t\t\t\t<EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tchildren\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无数据</p>\r\n\t</div>\r\n);\r\n\r\n\r\n@observer\r\nclass Schedule extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = new ScheduleStore()\r\n\t\tthis.state = {\r\n\t\t\tkey: \"1\",\r\n\t\t\trowId: \"\",\r\n\t\t\trowObj: {}, // 点击时保存当前行数据\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet search = this.props.location.search;\r\n\t\tconst projectId = url.parse(search, true).query.projectId;\r\n\t\tconst parojectName = url.parse(search, true).query.name;\r\n\t\tif (projectId !== undefined) {\r\n\t\t\tthis.store.projectId = projectId;\r\n\t\t\tthis.store.parojectName = parojectName;\r\n\t\t\tlocalStorage.setItem(\"projectId\", projectId);\r\n\t\t\tlocalStorage.setItem(\"projectName\", parojectName);\r\n\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t} else {\r\n\t\t\tthis.store.projectId = localStorage.getItem(\"projectId\");\r\n\t\t\tthis.store.parojectName = localStorage.getItem(\"projectName\");\r\n\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\r\n\t}\r\n\r\n\tcallback = (key) => {\r\n\t\tthis.setState({\r\n\t\t\tkey\r\n\t\t}, () => {\r\n\t\t\tif (key == \"2\") {\r\n\t\t\t\tthis.scrollToAnchor(\"ziyuan\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thandleSave = (row) => {\r\n\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\tconst {subExpectResources} = row;\r\n\t\tif (subExpectResources == undefined) { // 任务\r\n\t\t\tconst {quantities, units, beginTime, endTime} = row;\r\n\t\t\tlet expectSource = JSON.parse(JSON.stringify(this.store.expectSource));\r\n\t\t\tconst index = expectSource.findIndex(item => row.id === item.id);\r\n\t\t\tconst item = expectSource[index];\r\n\t\t\tlet newRow = Object.assign(row, {\"quantities\": typeof row.quantities == \"string\" ? row.quantities : row.quantities.toString()});\r\n\t\t\texpectSource.splice(index, 1, {\r\n\t\t\t\t...item,\r\n\t\t\t\t...newRow\r\n\t\t\t});\r\n\t\t\t//同步数据\r\n\t\t\tthis.store.expectSource = Object.assign([], expectSource);\r\n\t\t\tthis.store.expect = Object.assign(expect, newRow);\r\n\t\t\tif (quantities !== null && quantities !== \"\" && units !== null && units !== \"\" && beginTime !== \"\" && beginTime !== null && endTime !== null && endTime !== \"\") { // 重查\r\n\t\t\t\tconst param = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t\t\tconst params = Object.assign(param, {id: this.store.id})\r\n\t\t\t\tthis.store.saveExpect(params).then((res) => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tthis.store.getExpectById();\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\trowId: row.id,\r\n\t\t\t\t\t\t\trowObj: row\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\tthis.store.expectResource = Object.assign([], expect.resources == null ? [] : expect.resources);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\t\t// 拆分任务\r\n\t\t\tlet expectSource = JSON.parse(JSON.stringify(this.store.expectSource));\r\n\t\t\tconst index = expectSource.findIndex(item => row.id === item.id);\r\n\t\t\tconst item = expectSource[index];\r\n\t\t\tlet newRow = Object.assign(row, {\"quantities\": typeof row.quantities == \"string\" ? row.quantities : row.quantities.toString()});\r\n\t\t\texpectSource.splice(index, 1, {\r\n\t\t\t\t...item,\r\n\t\t\t\t...newRow\r\n\t\t\t});\r\n\t\t\t//同步数据\r\n\t\t\tthis.store.expectSource = Object.assign([], expectSource);\r\n\t\t\tthis.store.expect = Object.assign(expect, {\r\n\t\t\t\t\"subExpects\": expectSource.filter((item) => item.subExpectResources !== undefined)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleAddd = () => {\r\n\t\tthis.store.addDirectoryTree().then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 选中行\r\n\tonClickRow = (record) => {\r\n\t\treturn {\r\n\t\t\tonClick: () => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\trowId: record.id,\r\n\t\t\t\t\trowObj: record\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tconst {subExpectResources} = record;\r\n\t\t\t\t\tif (subExpectResources == undefined) { // 任务\r\n\t\t\t\t\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t\t\t\t\tthis.store.expectResource = Object.assign([], expect.resources == null ? [] : expect.resources);\r\n\t\t\t\t\t} else {  // 拆分任务\r\n\t\t\t\t\t\tthis.store.expectResource = Object.assign([], record.subExpectResources == null ? [] : record.subExpectResources);\r\n\t\t\t\t\t\tthis.onReset();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tsetRowClassName = (record) => {\r\n\t\treturn record.id === this.state.rowId ? 'clickRowStyl' : '';\r\n\t}\r\n\r\n\tonReset = () => {\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 资源更新数据\r\n\tupdateData = (dataSource) => {\r\n\t\tconst {rowObj} = this.state;\r\n\t\tif (rowObj.subExpectResources == undefined) { // 任务\r\n\t\t\tthis.store.expectResource = Object.assign([], dataSource);\r\n\t\t\tthis.store.expect[\"resources\"] = Object.assign([], dataSource);\r\n\t\t} else {  // 拆分任务\r\n\t\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t\tconst subExpects = expect.subExpects;\r\n\t\t\tconst index = subExpects.findIndex(item => rowObj.id === item.id);\r\n\t\t\tconst item = subExpects[index];\r\n\t\t\tlet newRow = Object.assign(item, {\"subExpectResources\": dataSource});\r\n\t\t\tsubExpects[index] = newRow;\r\n\t\t\tthis.store.expect = Object.assign(expect, {\"subExpects\": subExpects});\r\n\t\t}\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = () => {\r\n\t\t// 处理保存数据\r\n\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t// 任务的资源\r\n\t\tlet resources = expect.resources == null ? [] : expect.resources.map((item) => {\r\n\t\t\tif (item.id.startsWith(\"!\")) {\r\n\t\t\t\treturn Object.assign(item, {id: \"\"});\r\n\t\t\t} else {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// 拆分任务的资源\r\n\t\tlet subExpects = expect.subExpects == null ? [] : expect.subExpects.map((item) => {\r\n\t\t\treturn Object.assign(item, {\r\n\t\t\t\t\"subExpectResources\": item.subExpectResources == null ? [] : item.subExpectResources.map((mitem) => {\r\n\t\t\t\t\tif (mitem.id.startsWith(\"!\")) {\r\n\t\t\t\t\t\treturn Object.assign(mitem, {id: \"\"});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn mitem;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst params = Object.assign(expect, {\r\n\t\t\t\"resources\": resources,\r\n\t\t\t\"subExpects\": subExpects\r\n\t\t});\r\n\r\n\t\tthis.store.saveExpect(params).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"保存成功\");\r\n\t\t\t\tthis.store.getExpectById();\r\n\t\t\t\tlet expect2 = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\trowId: \"\",\r\n\t\t\t\t\trowObj: Object.assign({})\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.store.expectResource = Object.assign([], expect2.resources == null ? [] : expect2.resources);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.store.getExpectById();\r\n\t\tthis.store.expectResource = [];\r\n\t\tthis.setState({\r\n\t\t\trowId: \"\"\r\n\t\t});\r\n\t\tthis.onReset();\r\n\t}\r\n\r\n\tonRef = (ref) => {\r\n\t\tthis.child = ref\r\n\t}\r\n\r\n\tupdateState = (data) => {\r\n\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\tthis.store.expect = Object.assign(expect, {\"technology\": data});\r\n\t}\r\n\r\n\t// 锚点定位\r\n\tscrollToAnchor = (anchorName) => {\r\n\t\tif (anchorName) {\r\n\t\t\ttry {\r\n\t\t\t\tlet anchorElement = document.getElementById(anchorName);\r\n\t\t\t\tif (anchorElement) {\r\n\t\t\t\t\tanchorElement.scrollIntoView({block: 'start'});\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(\"scrollToAnchorERR=>\" + err);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNew = (record) =>{\r\n\t\tthis.setState({\r\n\t\t\trowId: record.id,\r\n\t\t\trowObj: record\r\n\t\t}, () => {\r\n\t\t\tconst {subExpectResources} = record;\r\n\t\t\tif (subExpectResources == undefined) { // 任务\r\n\t\t\t\tlet expect = JSON.parse(JSON.stringify(this.store.expect));\r\n\t\t\t\tthis.store.expectResource = Object.assign([], expect.resources == null ? [] : expect.resources);\r\n\t\t\t} else {  // 拆分任务\r\n\t\t\t\tthis.store.expectResource = Object.assign([], record.subExpectResources == null ? [] : record.subExpectResources);\r\n\t\t\t\tthis.onReset();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet pathname = this.props.match.path;\r\n\t\tconst {key} = this.state;\r\n\t\tconst {expect, directoryTree, expectSource, expectResource, id} = this.store;\r\n\t\tconst isDisable = id == \"\" || id == null ? true : false;\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '开始时间',\r\n\t\t\t\tdataIndex: 'beginTime',\r\n\t\t\t\tkey: 'beginTime',\r\n\t\t\t\teditable: !isDisable,\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '25%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '结束时间',\r\n\t\t\t\tdataIndex: 'endTime',\r\n\t\t\t\tkey: 'endTime',\r\n\t\t\t\teditable: !isDisable,\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '25%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '总量',\r\n\t\t\t\tdataIndex: 'quantities',\r\n\t\t\t\tkey: 'quantities',\r\n\t\t\t\teditable: !isDisable,\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '25%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '单位',\r\n\t\t\t\tdataIndex: 'units',\r\n\t\t\t\tkey: 'units',\r\n\t\t\t\teditable: !isDisable,\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '25%'\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst components = {\r\n\t\t\tbody: {\r\n\t\t\t\trow: EditableFormRow,\r\n\t\t\t\tcell: EditableCell,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst column = columns.map(col => {\r\n\t\t\tif (!col.editable) {\r\n\t\t\t\treturn col;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...col,\r\n\t\t\t\tonCell: record => ({\r\n\t\t\t\t\trecord,\r\n\t\t\t\t\teditable: col.editable,\r\n\t\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\t\ttitle: col.title,\r\n\t\t\t\t\thandleSave: this.handleSave,\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\t\tconst buttonLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: 24,\r\n\t\t\t\tsm: 0\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: 24,\r\n\t\t\t\tsm: 24\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"con_bottom\">\r\n\t\t\t\t\t<Breadcrumb separator=\">\" style={{margin: '0'}}>\r\n\t\t\t\t\t\t<Breadcrumb.Item href=\"#/bpm/construction\">施工过程</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item>排期</Breadcrumb.Item>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\t\t\t<Row className=\"mt10\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span=\"5\" className=\"tc\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" onClick={this.handleAddd}>新增目录</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Col span=\"5\">\r\n\t\t\t\t\t\t<LeftTree\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\tdirectoryTree={mobx.toJS(directoryTree)}\r\n\t\t\t\t\t\t\tonReset={this.onReset}\r\n\t\t\t\t\t\t\tonClickRow={this.updateNew}\r\n\t\t\t\t\t\t\tcallback={this.callback}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span=\"19\" style={{borderLeft: '1px solid #EBEBEB', minHeight: '350px', paddingLeft: '5px'}}>\r\n\t\t\t\t\t\t<Tabs activeKey={key} onChange={this.callback} className=\"schedule_tabs\">\r\n\t\t\t\t\t\t\t<TabPane tab=\"任务排期\" key=\"1\"/>\r\n\t\t\t\t\t\t\t<TabPane tab=\"资源安排\" key=\"2\"/>\r\n\t\t\t\t\t\t\t<TabPane tab=\"工艺工法\" key=\"3\"/>\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t{key != \"3\" ? <ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\t\t\t\tcolumns={column}\r\n\t\t\t\t\t\t\t\tdataSource={mobx.toJS(expectSource)}\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\tbordered={true}\r\n\t\t\t\t\t\t\t\tclassName=\"mb15\"\r\n\t\t\t\t\t\t\t\tonRow={this.onClickRow}\r\n\t\t\t\t\t\t\t\trowClassName={this.setRowClassName}\r\n\t\t\t\t\t\t\t\trowKey={record => record.id}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div id=\"ziyuan\">\r\n\t\t\t\t\t\t\t\t<ProEditTable\r\n\t\t\t\t\t\t\t\t\tdataSource={mobx.toJS(expectResource)}\r\n\t\t\t\t\t\t\t\t\tupdateData={this.updateData}\r\n\t\t\t\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\t\t\t\tdisabled={isDisable}\r\n\t\t\t\t\t\t\t\t/></div>\r\n\t\t\t\t\t\t</ConfigProvider> : <Technological\r\n\t\t\t\t\t\t\tdisabled={isDisable}\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\texpect={mobx.toJS(expect)}\r\n\t\t\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col span=\"24\" className=\"tc\" style={{'margin': '30px 0'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item  {...buttonLayout}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isDisable}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleSubmit}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t'padding': '24px 32px',\r\n\t\t\t\t\t\t\t\t\t\t\t'lineHeight': '0',\r\n\t\t\t\t\t\t\t\t\t\t\t'fontSize': '16px'\r\n\t\t\t\t\t\t\t\t\t\t}}>保存</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isDisable}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleCancle}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t'marginLeft': '30px',\r\n\t\t\t\t\t\t\t\t\t\t\t'padding': '24px 32px',\r\n\t\t\t\t\t\t\t\t\t\t\t'lineHeight': '0',\r\n\t\t\t\t\t\t\t\t\t\t\t'fontSize': '16px'\r\n\t\t\t\t\t\t\t\t\t\t}}>取消</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nconst Index = Form.create({})(Schedule);\r\nexport default Index;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/weekNews/Schedule.js","/*\r\n* 左树组件\r\n* dangw@bocspace.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {Tree, Input, message, Popover, Modal, Form, Spin, Select, AutoComplete} from 'antd'\r\nimport {observable} from \"mobx\";\r\n\r\nconst {TreeNode, DirectoryTree} = Tree;\r\nconst {confirm} = Modal;\r\n\r\n@observer\r\nclass DingtalkTree extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tvis: false,\r\n\t\t\tdataRef: {}, // 修改数据\r\n\t\t\tfetching: false,\r\n\t\t\ttext: \"\", //关键字\r\n\t\t\tpageIndex: 1,\r\n\t\t\tcompanyData: [],\r\n\t\t\texpandedKeys: [],\r\n\t\t\tselectedKeys: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\ttext: \"\", //关键字\r\n\t\t\tpageIndex: 1,\r\n\t\t}, () => {\r\n\t\t\tthis.getCompanyList(); // 调用api方法\r\n\t\t})\r\n\t}\r\n\r\n\tsetCheckNum = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tlet data = JSON.parse(JSON.stringify(this.state.dataRef));\r\n\t\tconst param = Object.assign(data, {name: val.taskName, taskId: val.id})\r\n\t\tthis.setState({\r\n\t\t\tdataRef: param\r\n\t\t});\r\n\t}\r\n\r\n\tcompanyScroll = e => {\r\n\t\te.persist();\r\n\t\tconst {target} = e;\r\n\t\tif (target.scrollTop + target.offsetHeight === target.scrollHeight) {\r\n\t\t\tconst {pageIndex, text} = this.state;\r\n\t\t\tconst nextScrollPage = pageIndex + 1;\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageIndex: nextScrollPage\r\n\t\t\t}, () => {\r\n\t\t\t\tconst {text, pageIndex, companyData} = this.state;\r\n\t\t\t\tconst old = JSON.parse(JSON.stringify(companyData))\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tpageIndex,\r\n\t\t\t\t\ttext\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.getTaskPage(params).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tcompanyData: [...old, ...res.body]\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfetchCompany = value => {\r\n\t\tthis.setState({companyData: [], text: value == undefined ? \"\" : value, fetching: true, pageIndex: 1}, () => {\r\n\t\t\tthis.getCompanyList(); // 关键字模糊查询api\r\n\t\t});\r\n\t};\r\n\r\n\tgetCompanyList = () => {\r\n\t\tconst {pageIndex, text} = this.state;\r\n\t\tconst params = {\r\n\t\t\tpageIndex,\r\n\t\t\ttext\r\n\t\t}\r\n\t\tthis.store.getTaskPage(params).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcompanyData: Object.assign([], typeof (res.body) !== \"undefined\" && res.body !== null ? res.body : [])\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleOk = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFieldsAndScroll((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\tconst {dataRef} = this.state;\r\n\t\t\t\tlet data = JSON.parse(JSON.stringify(dataRef));\r\n\t\t\t\tlet param;\r\n\t\t\t\tif (data.isStandard == null || data.isStandard == false) {  //补\r\n\t\t\t\t\tparam = Object.assign(data, {name: values[\"name\"]})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparam = data;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.saveDirectoryTree(param).then((res) => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t\t\t\t\tthis.props.form.resetFields();\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tvisible: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (data.parentId !== null) {\r\n\t\t\t\t\t\t\tthis.onExpand([data.parentId])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = e => {\r\n\t\tthis.props.form.resetFields();\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\r\n\t// 右键编辑\r\n\tonRightClick = (dataRef) => {\r\n\t\tlet _this = this;\r\n\t\t//const {props} = event.node;\r\n\t\t//const {dataRef} = props;\r\n\t\t_this.setState({\r\n\t\t\tvisible: true,\r\n\t\t\tdataRef: Object.assign({}, dataRef)\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\tokText: '确定',\r\n\t\t\tcancelText: '取消',\r\n\t\t\ttitle: '您确定要删除吗?',\r\n\t\t\tcontent: ' ',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delDirectoryTree(param.id)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.getDirectoryTreeByProjectId();\r\n\r\n\t\t\t\t\t\tif (param.parentId !== null) {\r\n\t\t\t\t\t\t\t_this.onExpand([param.parentId])\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this.setState({\r\n\t\t\t\t\t\t\tselectedKeys: []\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.props.callback(\"1\");\r\n\r\n\t\t\t\t\t\t// 重置数据\r\n\t\t\t\t\t\t_this.store.id = \"\";\r\n\t\t\t\t\t\t_this.store.expect = Object.assign({}, {\r\n\t\t\t\t\t\t\t\"id\":null,\r\n\t\t\t\t\t\t\t\"task\":null,\r\n\t\t\t\t\t\t\t\"name\":null,\r\n\t\t\t\t\t\t\t\"projectId\":null,\r\n\t\t\t\t\t\t\t\"quantities\":null,\r\n\t\t\t\t\t\t\t\"units\":null,\r\n\t\t\t\t\t\t\t\"technology\":null,\r\n\t\t\t\t\t\t\t\"technologyId\":null,\r\n\t\t\t\t\t\t\t\"beginTime\":0,\r\n\t\t\t\t\t\t\t\"endTime\":0,\r\n\t\t\t\t\t\t\t\"remark\":null,\r\n\t\t\t\t\t\t\t\"resources\":null,\r\n\t\t\t\t\t\t\t\"subExpects\":null\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.store.expectSource = Object.assign([]);\r\n\t\t\t\t\t\t_this.store.expectResource = Object.assign([]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\tif (param.parentId !== null) {\r\n\t\t\t\t\t_this.onExpand([param.parentId])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 创建\r\n\tcreateNode = (item, type) => {\r\n\t\tlet param = {};\r\n\t\tif (type == \"1\") {  // 上级\r\n\t\t\tif (item.parentId == null) {\r\n\t\t\t\tmessage.warn(\"该节点不能创建上级目录\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tparam = Object.assign(item, {name: \"目录名称\"});\r\n\t\t} else if (type == \"2\") { // 下级\r\n\t\t\tif (item.id == null) {\r\n\t\t\t\tmessage.warn(\"该节点不能创建下级目录\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tparam = Object.assign(item, {id: null, parentId: item.id, name: \"目录名称\"});\r\n\t\t} else if (type == \"3\") { // 同级\r\n\t\t\tdelete item.children;\r\n\t\t\tparam = Object.assign(item, {id: null, parentId: item.parentId, name: \"目录名称\"});\r\n\t\t} else { // 所属任务\r\n\t\t\tparam = Object.assign({}, item, {id: null, parentId: item.id, name: \"任务名称\"});\r\n\t\t}\r\n\t\tif (type == \"4\") {  // 所属任务\r\n\t\t\tthis.setState({\r\n\t\t\t\tvis: true,\r\n\t\t\t\tdataRef: Object.assign({}, param)\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.store.saveDirectoryTree(param).then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t\t\t\tif (item.id !== null) {\r\n\t\t\t\t\t\tthis.onExpand([item.id])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trenderTreeNodes = data =>\r\n\t\tdata.map(item => {\r\n\t\t\tif (item.children) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TreeNode title={item.expectId == null || item.expectId == \"\" ? <Popover placement=\"right\"\r\n\t\t\t\t\t                                                                         content={<div>\r\n\t\t\t\t\t\t                                                                         <p className={item.parentId == null ? \"hidden\" : \"pointer schedule_node\"}\r\n\t\t\t\t\t\t                                                                            onClick={this.createNode.bind(this, item, '1')}>新建上级目录</p>\r\n\t\t\t\t\t\t                                                                         <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                                                                            onClick={this.createNode.bind(this, item, '2')}>新建下级目录</p>\r\n\t\t\t\t\t\t                                                                         <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                                                                            onClick={this.createNode.bind(this, item, '3')}>新建同级目录</p>\r\n\t\t\t\t\t\t                                                                         <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                                                                            onClick={this.createNode.bind(this, item, '4')}>新建所属任务</p>\r\n\t\t\t\t\t\t                                                                         <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                                                                            onClick={this.handleDel.bind(this, item)}>删除</p>\r\n\t\t\t\t\t\t                                                                         <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                                                                            onClick={this.onRightClick.bind(this, item)}>重命名</p>\r\n\t\t\t\t\t                                                                         </div>}>\r\n\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t</Popover> : <Popover placement=\"right\"\r\n\t\t\t\t\t                      content={<div>\r\n\t\t\t\t\t\t                      <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                         onClick={this.handleDel.bind(this, item)}>删除</p>\r\n\t\t\t\t\t\t                      <p className=\"pointer schedule_node\"\r\n\t\t\t\t\t\t                         onClick={this.onRightClick.bind(this, item)}>重命名</p>\r\n\t\t\t\t\t                      </div>}>\r\n\t\t\t\t\t\t<span>{item.name} {item.isStandard ? <span className=\"schedule_span\">标</span> :\r\n\t\t\t\t\t\t\t<span className=\"schedule_span\">补</span>}</span>\r\n\t\t\t\t\t</Popover>} key={item.id} dataRef={item}>\r\n\t\t\t\t\t\t{this.renderTreeNodes(item.children)}\r\n\t\t\t\t\t</TreeNode>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn (<TreeNode title={item.expectId == null || item.expectId == \"\" ? <Popover placement=\"right\"\r\n\t\t\t                                                                                 content={<div>\r\n\t\t\t\t                                                                                 <p className={item.parentId == null ? \"hidden\" : \"pointer schedule_node\"}\r\n\t\t\t\t                                                                                    onClick={this.createNode.bind(this, item, '1')}>新建上级目录</p>\r\n\t\t\t\t                                                                                 <p className=\"pointer schedule_node\"\r\n\t\t\t\t                                                                                    onClick={this.createNode.bind(this, item, '2')}>新建下级目录</p>\r\n\t\t\t\t                                                                                 <p className=\"pointer schedule_node\"\r\n\t\t\t\t                                                                                    onClick={this.createNode.bind(this, item, '3')}>新建同级目录</p>\r\n\t\t\t\t                                                                                 <p className=\"pointer schedule_node\"\r\n\t\t\t\t                                                                                    onClick={this.createNode.bind(this, item, '4')}>新建所属任务</p>\r\n\t\t\t\t                                                                                 <p className=\"pointer schedule_node\"\r\n\t\t\t\t                                                                                    onClick={this.handleDel.bind(this, item)}>删除</p>\r\n\t\t\t\t                                                                                 <p className=\"pointer schedule_node\"\r\n\t\t\t\t                                                                                    onClick={this.onRightClick.bind(this, item)}>重命名</p>\r\n\t\t\t                                                                                 </div>}>\r\n\t\t\t\t\t<span>{item.name}</span>\r\n\t\t\t\t</Popover> : <Popover placement=\"right\"\r\n\t\t\t                          content={<div>\r\n\t\t\t\t                          <p className=\"pointer schedule_node\"\r\n\t\t\t\t                             onClick={this.handleDel.bind(this, item)}>删除</p>\r\n\t\t\t\t                          <p className=\"pointer schedule_node\"\r\n\t\t\t\t                             onClick={this.onRightClick.bind(this, item)}>重命名</p>\r\n\t\t\t                          </div>}>\r\n\t\t\t\t\t\t<span>{item.name} {item.isStandard ? <span className=\"schedule_span\">标</span> :\r\n\t\t\t\t\t\t\t<span className=\"schedule_span\">补</span>}</span>\r\n\t\t\t\t</Popover>} key={item.id} {...item}\r\n\t\t\t                  dataRef={item}></TreeNode>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\tonSelect = (keys, event) => {\r\n\t\tconst {props} = event.node;\r\n\t\tconst {dataRef} = props;\r\n\t\tconst {id, expectId} = dataRef;\r\n\t\tif (expectId == null) {\r\n\t\t\t//message.warn(\"目录不能操作，请重试任务\");\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tthis.props.onReset();\r\n\t\t\tthis.props.form.resetFields();\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedKeys: keys\r\n\t\t\t});\r\n\t\t\tthis.store.id = expectId;\r\n\t\t\tthis.store.getExpectById().then((res) => {\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\t\"id\": res.id,\r\n\t\t\t\t\t\"quantities\": res.quantities,\r\n\t\t\t\t\t\"units\": res.units,\r\n\t\t\t\t\t\"beginTime\": res.beginTime,\r\n\t\t\t\t\t\"endTime\": res.endTime\r\n\t\t\t\t};\r\n\t\t\t\tthis.props.onClickRow(obj);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleChange = (value, e) => {\r\n\t\tif (value === undefined) return false;\r\n\t\tconst {val} = e.props;\r\n\t\tlet data = JSON.parse(JSON.stringify(this.state.dataRef));\r\n\t\tlet param;\r\n\t\tif (val == undefined) {\r\n\t\t\tparam = Object.assign(data, {name: value, taskId: \"\"})\r\n\t\t} else {\r\n\t\t\tparam = Object.assign(data, {name: val.taskName, taskId: val.id})\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tdataRef: param\r\n\t\t});\r\n\t}\r\n\r\n\thandleCal = () => {\r\n\t\tthis.setState({\r\n\t\t\tvis: false\r\n\t\t});\r\n\t}\r\n\r\n\thandleOk2 = () => {\r\n\t\tlet data = JSON.parse(JSON.stringify(this.state.dataRef));\r\n\t\tthis.store.saveExpectDirectoryTree(data).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\tthis.store.getDirectoryTreeByProjectId();\r\n\t\t\t\tif (data.parentId !== null) {\r\n\t\t\t\t\tthis.onExpand([data.parentId])\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tselectedKeys: [res.id]\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 定位\r\n\t\t\t\tconst {expectId} = res;\r\n\t\t\t\tthis.store.id = expectId;\r\n\t\t\t\tthis.store.getExpectById().then((res) => {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\"id\": res.id,\r\n\t\t\t\t\t\t\"quantities\": res.quantities,\r\n\t\t\t\t\t\t\"units\": res.units,\r\n\t\t\t\t\t\t\"beginTime\": res.beginTime,\r\n\t\t\t\t\t\t\"endTime\": res.endTime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.props.onClickRow(obj);\r\n\t\t\t\t});\r\n\t\t\t\tthis.props.onReset();\r\n\r\n\t\t\t\tthis.handleCal();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonExpand = (keys) => {\r\n\t\tthis.setState({\r\n\t\t\texpandedKeys: Object.assign([], keys)\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {directoryTree} = this.props;\r\n\t\tconst {visible, dataRef, fetching, companyData, vis, expandedKeys, selectedKeys} = this.state;\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 8},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 16},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst isShow = dataRef && (dataRef.expectId == null || dataRef.expectId == \"\") || (dataRef.expectId !== \"\" && (dataRef.isStandard == false || dataRef.isStandard == null)) ? true : false;\r\n\t\treturn <div>\r\n\t\t\t<DirectoryTree\r\n\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\tselectedKeys={selectedKeys}\r\n\t\t\t\t//onRightClick={this.onRightClick}\r\n\t\t\t\tonExpand={this.onExpand}\r\n\t\t\t\texpandedKeys={expandedKeys}\r\n\t\t\t\tdefaultExpandAll\r\n\t\t\t>{this.renderTreeNodes(directoryTree)}</DirectoryTree>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"修改\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t{isShow ? <Form.Item label=\"名称\">\r\n\t\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\t\tinitialValue: dataRef.name,\r\n\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '请输入',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t</Form.Item> : <Form.Item label=\"名称\">\r\n\t\t\t\t\t\t<div id=\"companyDiv\" style={{position: 'relative'}}>\r\n\t\t\t\t\t\t\t{getFieldDecorator('name33', {\r\n\t\t\t\t\t\t\t\tinitialValue: dataRef.name,\r\n\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tmessage: '请输入',\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})(<Select\r\n\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\r\n\t\t\t\t\t\t\t\t\tnotFoundContent={fetching ? <Spin size=\"small\"/> : null}\r\n\t\t\t\t\t\t\t\t\tonSearch={this.fetchCompany}\r\n\t\t\t\t\t\t\t\t\tonChange={this.setCheckNum}\r\n\t\t\t\t\t\t\t\t\tonPopupScroll={this.companyScroll}\r\n\t\t\t\t\t\t\t\t\tfilterOption={false}\r\n\t\t\t\t\t\t\t\t\tgetPopupContainer={() => document.getElementById('companyDiv')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{companyData && companyData.map(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value={item.taskName} key={item.id} title={item.taskName} val={item}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.taskName}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t\t{/*新增所属任务*/}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"新增所属任务\"\r\n\t\t\t\tvisible={vis}\r\n\t\t\t\tonOk={this.handleOk2}\r\n\t\t\t\tonCancel={this.handleCal}\r\n\t\t\t>\r\n\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t<Form.Item label=\"名称\">\r\n\t\t\t\t\t\t<div id=\"companyDiv2\" style={{position: 'relative'}}>\r\n\t\t\t\t\t\t\t{getFieldDecorator('name55', {\r\n\t\t\t\t\t\t\t\tinitialValue: dataRef.name,\r\n\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tmessage: '请输入',\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})(<AutoComplete\r\n\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\r\n\t\t\t\t\t\t\t\t\tnotFoundContent={fetching ? <Spin size=\"small\"/> : null}\r\n\t\t\t\t\t\t\t\t\tonSearch={this.fetchCompany}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tonSelect={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tonPopupScroll={this.companyScroll}\r\n\t\t\t\t\t\t\t\t\tfilterOption={false}\r\n\t\t\t\t\t\t\t\t\tgetPopupContainer={() => document.getElementById('companyDiv2')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{companyData && companyData.map(item => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<AutoComplete.Option value={item.taskName} key={item.id} title={item.taskName}\r\n\t\t\t\t\t\t\t\t\t\t\t                     val={item}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.taskName}\r\n\t\t\t\t\t\t\t\t\t\t\t</AutoComplete.Option>)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</AutoComplete>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nconst leftTree = Form.create({})(DingtalkTree);\r\nexport default leftTree;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/weekNews/LeftTree.js","/*\r\n* 可编辑表格\r\n* */\r\nimport React from 'react';\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tIcon,\r\n\tTable,\r\n\tPopconfirm,\r\n\tConfigProvider,\r\n\tInputNumber,\r\n\tSelect\r\n} from 'antd';\r\nimport {v4 as uuidv4} from 'uuid';\r\n\r\nconst {Option} = Select;\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无数据</p>\r\n\t</div>\r\n);\r\n\r\nconst EditableContext = React.createContext();\r\nconst EditableRow = ({form, index, ...props}) => (\r\n\t<EditableContext.Provider value={form}>\r\n\t\t<tr {...props} />\r\n\t</EditableContext.Provider>\r\n);\r\nconst EditableFormRow = Form.create()(EditableRow);\r\n\r\nclass EditableCell extends React.Component {\r\n\tstate = {\r\n\t\tediting: true,\r\n\t};\r\n\r\n\tsave = e => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (error && error[e.currentTarget.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (values.type !== \"料\") {\r\n\t\t\t\tvalues.spec = \"\";\r\n\t\t\t\tvalues.manufacturer = \"\";\r\n\t\t\t}\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t};\r\n\r\n\trenderCell = form => {\r\n\t\tthis.form = form;\r\n\t\tconst {children, dataIndex, record, title, handleDelete} = this.props;\r\n\t\tconst {editing} = this.state;\r\n\t\tif (dataIndex == 'quantity') {  // 数字\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tdefaultValue={record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex]}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'type') {  // 类型\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tdafaultValue={record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex]}\r\n\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\tonSelect={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}>\r\n\t\t\t\t\t\t\t<Option value=\"人\">人员</Option>\r\n\t\t\t\t\t\t\t<Option value=\"机\">机械</Option>\r\n\t\t\t\t\t\t\t<Option value=\"料\">材料</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'name') {  // 文本\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tdefaultValue={record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex]}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t/*<div className=\"pr\">\r\n\r\n\r\n\t\t\t\t\t\t</div>*/\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif (record[\"type\"] == \"料\") {\r\n\t\t\t\treturn <div>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel=\"规格型号\"\r\n\t\t\t\t\t\tstyle={{margin: 0}}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"spec\", {\r\n\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\tinitialValue: record[\"spec\"] == null || record[\"spec\"] == 0 ? \"\" : record[\"spec\"],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tdafaultValue={record[\"spec\"] == null || record[\"spec\"] == 0 ? \"\" : record[\"spec\"]}\r\n\t\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel=\"供应商\"\r\n\t\t\t\t\t\tstyle={{margin: 0}}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"manufacturer\", {\r\n\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\tinitialValue: record[\"manufacturer\"] == null || record[\"manufacturer\"] == 0 ? \"\" : record[\"manufacturer\"],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tdafaultValue={record[\"manufacturer\"] == null || record[\"manufacturer\"] == 0 ? \"\" : record[\"manufacturer\"]}\r\n\t\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</div>\r\n\t\t\t} else {\r\n\t\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tdafaultValue={record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex]}\r\n\t\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t) : (<div\r\n\t\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teditable,\r\n\t\t\tdataIndex,\r\n\t\t\ttitle,\r\n\t\t\trecord,\r\n\t\t\tindex,\r\n\t\t\thandleSave,\r\n\t\t\tchildren,\r\n\t\t\t...restProps\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<td {...restProps}>\r\n\t\t\t\t{editable ? (\r\n\t\t\t\t\t<EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tchildren\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProEditTable extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdataSource: [],\r\n\t\t\taddData: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\ttype: \"\",\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tunits: \"\",\r\n\t\t\t\tcontent: \"\",\r\n\t\t\t\tquantity: \"\",\r\n\t\t\t\tspec: \"\",\r\n\t\t\t\tmanufacturer: \"\"\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps, nextContext) {\r\n\t\tif (JSON.stringify(nextProps.dataSource) != JSON.stringify(this.props.dataSource)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataSource: nextProps.dataSource\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonReset = () => {\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\tdataSource: this.props.dataSource\r\n\t\t});\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tconst {dataSource, addData} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tconst newData = Object.assign(addData, {id: \"!\" + uuidv4()});\r\n\t\tconsole.log(newData, '新增')\r\n\t\tthis.setState({\r\n\t\t\tdataSource: [...source, newData],\r\n\t\t}, () => {\r\n\t\t\tconsole.log(this.state.dataSource, 'all')\r\n\t\t\tthis.props.updateData(this.state.dataSource);\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDelete = (record) => {\r\n\t\tconst {id} = record;\r\n\t\tconsole.log(record, '删除')\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tthis.setState({\r\n\t\t\tdataSource: source.filter(item => item.id !== id)\r\n\t\t}, () => {\r\n\t\t\tthis.props.updateData(this.state.dataSource);\r\n\t\t});\r\n\t};\r\n\r\n\t// 保存\r\n\thandleSave = (row) => {\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tconst index = source.findIndex(item => row.id === item.id);\r\n\t\tconst item = source[index];\r\n\t\tlet newRow = Object.assign(row, {\"quantity\": typeof row.quantity == \"string\" ? row.quantity : row.quantity.toString()});\r\n\t\tsource.splice(index, 1, {\r\n\t\t\t...item,\r\n\t\t\t...newRow,\r\n\t\t});\r\n\t\tthis.setState({dataSource: source}, () => {\r\n\t\t\tthis.props.updateData(this.state.dataSource);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst {disabled} = this.props;\r\n\t\tconst components = {\r\n\t\t\tbody: {\r\n\t\t\t\trow: EditableFormRow,\r\n\t\t\t\tcell: EditableCell,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '资源名称',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: !disabled,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '资源类型',\r\n\t\t\t\tdataIndex: 'type',\r\n\t\t\t\tkey: 'type',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: !disabled,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '数量',\r\n\t\t\t\tdataIndex: 'quantity',\r\n\t\t\t\tkey: 'quantity',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: !disabled,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '备注',\r\n\t\t\t\tdataIndex: 'content',\r\n\t\t\t\tkey: 'content',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: !disabled,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tdataIndex: 'app',\r\n\t\t\t\tkey: 'app',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '60px',\r\n\t\t\t\tfixed: 'right',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\treturn <Popconfirm title=\"确定要删除吗?\" onConfirm={() => disabled?null:this.handleDelete(record)}>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmargin: '16px 0',\r\n\t\t\t\t\t\t\t\tcolor: '#4BA4BE',\r\n\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\tfontSize: '18px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"minus-circle\"/>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst colu = columns.map(col => {\r\n\t\t\tif (!col.editable) {\r\n\t\t\t\treturn col;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...col,\r\n\t\t\t\tonCell: record => ({\r\n\t\t\t\t\trecord,\r\n\t\t\t\t\teditable: col.editable,\r\n\t\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\t\ttitle: col.title,\r\n\t\t\t\t\thandleSave: this.handleSave,\r\n\t\t\t\t\thandleDelete: this.handleDelete,\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\trowClassName={() => 'editable-row'}\r\n\t\t\t\t\tclassName=\"mt10\"\r\n\t\t\t\t\tpagination={false}\r\n\t\t\t\t\tcolumns={colu}\r\n\t\t\t\t\tsize={\"middle\"}\r\n\t\t\t\t\tbordered={true}\r\n\t\t\t\t\tdataSource={dataSource}\r\n\t\t\t\t\trowKey={record => record.id}\r\n\t\t\t\t/>\r\n\t\t\t\t<Icon\r\n\t\t\t\t\tclassName={disabled?\"hidden\":\"\"}\r\n\t\t\t\t\tonClick={this.handleAdd}\r\n\t\t\t\t\tstyle={{margin: '16px 0', color: '#4BA4BE', fontSize: '18px'}}\r\n\t\t\t\t\ttype=\"plus-circle\"/>\r\n\t\t\t</ConfigProvider>)\r\n\t}\r\n}\r\n\r\nconst Index = Form.create({})(ProEditTable);\r\nexport default Index;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/weekNews/ProEditTable.js","/*\r\n* 工艺工法\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {Form, Input, InputNumber, Row, Col} from 'antd';\r\n\r\nconst {TextArea} = Input;\r\n\r\n\r\n@observer\r\nclass Technological extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\thandLeChange = ({ target: { value } }) => {\r\n\t\tthis.props.updateState(value);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 4},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 18},\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst fields = this.props.expect;\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst {disabled} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t<Form.Item label=\"补充内容\"\r\n\t\t\t\t           labelCol={{\r\n\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t           sm: {span: 2},\r\n\t\t\t\t           }}\r\n\t\t\t\t           wrapperCol={{\r\n\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t           sm: {span: 21},\r\n\t\t\t\t           }}\r\n\t\t\t\t           style={{marginTop: 10}}>\r\n\t\t\t\t\t{getFieldDecorator('technology', {\r\n\t\t\t\t\t\tinitialValue: fields.technology,\r\n\t\t\t\t\t\trules: [{required: false, message: '请输入补充内容'}],\r\n\t\t\t\t\t})(<TextArea\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tonChange={this.handLeChange}\r\n\t\t\t\t\t\tvalue={fields.technology}\r\n\t\t\t\t\t\tautosize={{minRows: 4}}/>)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Technological);\r\nexport default form;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/weekNews/Technological.js","/*\r\n* 施工排期 store\r\n*/\r\nimport {observable, action} from 'mobx';\r\nimport Config from '@/config';\r\nimport {requestPost} from 'utils/api';\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\n\r\n// 将数据转换为json树\r\nfunction transFormTree(data) {\r\n\tlet result = [];\r\n\tif (!Array.isArray(data)) {\r\n\t\treturn result\r\n\t}\r\n\tlet map = {};\r\n\tdata.forEach(item => {\r\n\t\tmap[item.id] = item;\r\n\t});\r\n\tdata.forEach(item => {\r\n\t\tlet parent = map[item.parentId];\r\n\t\tif (parent) {\r\n\t\t\t(parent.children || (parent.children = [])).push(item);\r\n\t\t} else {\r\n\t\t\tresult.push(item);\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nclass ScheduleStore {\r\n\t@observable projectId = \"\";\r\n\t@observable parojectName = \"\";\r\n\t@observable directoryTree = []; // 目录树\r\n\t@observable expect = {\r\n\t\t\"id\":null,\r\n\t\t\"task\":null,\r\n\t\t\"name\":null,\r\n\t\t\"projectId\":null,\r\n\t\t\"quantities\":null,\r\n\t\t\"units\":null,\r\n\t\t\"technology\":null,\r\n\t\t\"technologyId\":null,\r\n\t\t\"beginTime\":0,\r\n\t\t\"endTime\":0,\r\n\t\t\"remark\":null,\r\n\t\t\"resources\":null,\r\n\t\t\"subExpects\":null\r\n\t}; // 施工计划\r\n\t@observable expectSource = [];  // 任务\r\n\t@observable expectResource = [];  // 资源\r\n\t@observable id = \"\";  // 选中的id\r\n\r\n\t// 根据ID获取目录树\r\n\t@action\r\n\tgetDirectoryTreeByProjectId() {\r\n\t\treturn requestPost('getDirectoryTreeByProjectId', Config.xmgl.getDirectoryTreeByProjectId, Schemas.xmgl.getDirectoryTreeByProjectId, {projectId: this.projectId})\r\n\t\t.then((res) => {\r\n\t\t\tif (Array.isArray(res.data)) {\r\n\t\t\t\tconst treeData = transFormTree(res.data);\r\n\t\t\t\tthis.directoryTree = Object.assign([], treeData);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 根据项目ID添加一个目录树\r\n\t@action\r\n\taddDirectoryTree() {\r\n\t\treturn requestPost('addDirectoryTree', Config.xmgl.addDirectoryTree, Schemas.xmgl.addDirectoryTree, {\r\n\t\t\tprojectId: this.projectId\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存修改目录树\r\n\t@action\r\n\tsaveDirectoryTree(param) {\r\n\t\treturn requestPost('saveDirectoryTree', Config.xmgl.saveDirectoryTree, Schemas.xmgl.saveDirectoryTree, {directoryTree:param})\r\n\t}\r\n\r\n\t// 保存修改目录任务\r\n\t@action\r\n\tsaveExpectDirectoryTree(param) {\r\n\t\treturn requestPost('saveExpectDirectoryTree', Config.xmgl.saveExpectDirectoryTree, Schemas.xmgl.saveExpectDirectoryTree, {directoryTree:param})\r\n\t}\r\n\r\n\t// 获取施工计划\r\n\t@action\r\n\tgetExpectById() {\r\n\t\treturn requestPost('getExpectById', Config.xmgl.getExpectById, Schemas.xmgl.getExpectById, {id:this.id})\r\n\t\t.then((res) => {\r\n\t\t\tlet data = [];\r\n\t\t\tlet obj = {\"id\": res.id, \"quantities\": res.quantities,\"units\": res.units,\"beginTime\":res.beginTime,\"endTime\":res.endTime};\r\n\t\t\tdata.push(obj);\r\n\t\t\tlet subExpects = res.subExpects==null?[]:res.subExpects;\r\n\t\t\tthis.expectSource = [...data, ...subExpects];\r\n            this.expect = Object.assign(res, {\r\n\t            resources: res.resources==null?[]:res.resources,\r\n\t            subExpects: res.subExpects==null?[]:res.subExpects\r\n            });\r\n            return new Promise((resolve)=>{\r\n            \tresolve(res);\r\n            });\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存施工计划\r\n\t@action\r\n\tsaveExpect(params) {\r\n\t\treturn requestPost('saveExpect', Config.xmgl.saveExpect, Schemas.xmgl.saveExpect, {expect: params})\r\n\t}\r\n\r\n\t// 删除树\r\n\t@action\r\n\tdelDirectoryTree(params) {\r\n\t\treturn requestPost('delDirectoryTree', Config.xmgl.delDirectoryTree, Schemas.xmgl.delDirectoryTree, {id: params})\r\n\t}\r\n\r\n    // 标准任务\r\n\t@action\r\n\tgetTaskPage(params) {\r\n\t\treturn requestPost('getTaskPage', Config.xmgl.getTaskPage, Schemas.xmgl.getTaskPage, {text: params.text, pageIndex: params.pageIndex, pageSize:10})\r\n\t}\r\n}\r\n\r\nexport default ScheduleStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/weekNews/ScheduleStore.js"],"sourceRoot":""}