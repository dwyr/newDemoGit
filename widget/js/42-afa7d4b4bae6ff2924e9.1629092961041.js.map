{"version":3,"sources":["webpack:///./src/containers/bpm/MyTask.js","webpack:///./src/store/bpm/BpmStore.js?77c3**","webpack:///./src/utils/Schemas/okr.js?8697**"],"names":["mobx","TabPane","Tabs","customizeRenderEmpty","textAlign","padding","fontSize","fontFamily","fontWeight","color","MyTask","withRouter","observer","props","state","activeKey","bredacrumbItems","totalCount","getIncompleteTask","store","currentTaskParams","Object","assign","pageIndex","pageSize","getCurrentTaskList","getCompletedTask","getListData","then","res","setState","onShowSizeChange","current","onChange","pageNumber","tabsOnchange","key","toJS","backProgressList","history","push","BpmStore","loadPageInfo","urlObj","columns","title","dataIndex","align","render","text","format","record","address","projectType","url","pid","projectId","id","actionName","isEdit","rate","e","linkItems","map","item","index","label","currentTaskTotal","currentTaskList","inCom","Com","total","React","Component","Config","bpm","getProjectBoardList","Schemas","projectBoardParams","projectBoardList","projectBoardListDone","getAllProjectList","allProjectParams","allProjectList","body","allProjectTotal","getProductProportion","productProportion","getTopContractAmountList","topContractAmount","dealyWarnningList","dealyWarnningParams","length","tempData","concat","hasMore","param","getDeliverRate","deliverRate","getMoneyBackRate","moneyBackRate","getMyTaskCount","emitter","emit","getProductTypeList","productTyleList","typeName","value","products","getMasterList","masterList","userName","masterIds","userId","authorization","getUserInfoListByRoleCode","authorizationSchemas","appId","code","personList","getCalendarProjectList","projectList","getPersonMonthTaskState","yearMonth","personMonthTask","getProjectStagesByIds","projectIds","projectStages","data","getDepartment","appid","getUserInfoListByDingtalk","depId","name","getDepartmentAndUsers","getPersonScheduleResources","personParams","personResources","getAllStages","stageName","getSts","bpmSchemas","str","JSON","parse","ossData","okr","getWeeks","okrSchemas","year","getWeekDetails","weekData","defaultWeeksData","getMonthDetails","monthData","getSeasonDetails","seasonData","getYearDetails","yearData","saveWeekDetails","list","activeweeks","saveMonthDetails","month","saveSeasonDetails","saveYearDetails","params","getAtts","type","okrAtts","getComments","okrComments","saveAtts","attachments","saveComment","comment","delAtt","attachmentId","delComment","commentId","observable","beginTime","startOf","valueOf","endTime","endOf","action","ids","getWeekAndMonthDetails","saveWeekAndMonthDetails"],"mappings":";;;;;;;;;;;;;;YAAA;;;;;;AAIA;;;;AACA;;AACA;;;;AACA;;AACA;;AACA;;IAAYA,I;;AACZ;;;;;;;;;;;;;;IACOC,O,GAAWC,U,CAAXD,O;;AACP,IAAME,uBAAuB,SAAvBA,oBAAuB;AAAA,QAC5B;AAAA;AAAA,IAAK,OAAO,EAACC,WAAW,QAAZ,EAAsBC,SAAS,QAA/B,EAAZ;AACC;AACC,UAAM,OADP;AAEC,WAAO,OAFR;AAGC,QAAI,wBAHL,GADD;AAKC;AAAA;AAAA,KAAG,OAAO;AACTC,eAAU,MADD;AAETC,iBAAY,+BAFH;AAGTC,iBAAY,KAHH;AAITC,YAAO;AAJE,KAAV;AAAA;AAAA;AALD,EAD4B;AAAA,CAA7B;;IAiBMC,M,OAFLC,0B,eACAC,mB;;;AAEA,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8GACZA,KADY;;AAAA,QAKnBC,KALmB,GAKX;AACPC,cAAW,GADJ,EACS;AAChBC,oBAAiB,CAAC,EAAC,SAAS,MAAV,EAAkB,QAAQ,EAA1B,EAAD,EAAgC,EAAC,SAAS,MAAV,EAAkB,QAAQ,UAA1B,EAAhC,CAFV;AAGPC,eAAY,CAHL,CAGQ;AAHR,GALW;;AAAA,QAqBnBC,iBArBmB,GAqBC,YAAM;AACzB,SAAKC,KAAL,CAAWC,iBAAX,GAA+BC,OAAOC,MAAP,CAAc,EAAd,EAAkB;AAChDR,WAAO,CADyC;AAEhDS,eAAW,CAFqC;AAGhDC,cAAU;AAHsC,IAAlB,CAA/B;AAKA,SAAKL,KAAL,CAAWM,kBAAX;AACA,GA5BkB;;AAAA,QA+BnBC,gBA/BmB,GA+BA,YAAM;AACxB,SAAKP,KAAL,CAAWQ,WAAX,CAAuB;AACtBJ,eAAW,CADW;AAEtBC,cAAU,EAFY;AAGtBV,WAAO;AAHe,IAAvB,EAIGc,IAJH,CAIQ,UAACC,GAAD,EAAS;AAChB,UAAKC,QAAL,CAAc;AACbb,iBAAYY,IAAIZ;AADH,KAAd;AAGA,IARD;AASA,GAzCkB;;AAAA,QA2CnBc,gBA3CmB,GA2CA,UAACC,OAAD,EAAUR,QAAV,EAAuB;AACzC,SAAKL,KAAL,CAAWC,iBAAX,CAA6BG,SAA7B,GAAyC,CAAzC;AACA,SAAKJ,KAAL,CAAWC,iBAAX,CAA6BI,QAA7B,GAAwCA,QAAxC;AACA,OAAI,MAAKV,KAAL,CAAWC,SAAX,IAAwB,GAA5B,EAAiC;AAChC,UAAKI,KAAL,CAAWC,iBAAX,CAA6BN,KAA7B,GAAqC,CAArC;AACA,IAFD,MAEO;AACN,UAAKK,KAAL,CAAWC,iBAAX,CAA6BN,KAA7B,GAAqC,CAArC;AACA;AACD,SAAKK,KAAL,CAAWM,kBAAX;AACA,GApDkB;;AAAA,QAsDnBQ,QAtDmB,GAsDR,UAACC,UAAD,EAAgB;AAC1B,SAAKf,KAAL,CAAWC,iBAAX,CAA6BG,SAA7B,GAAyCW,UAAzC;AACA,SAAKf,KAAL,CAAWM,kBAAX;AACA,GAzDkB;;AAAA,QA2DnBU,YA3DmB,GA2DJ,UAACC,GAAD,EAAS;AACvB,SAAKN,QAAL,CAAc;AACbf,eAAWqB;AADE,IAAd,EAEG,YAAM;AACR,UAAKjB,KAAL,CAAWC,iBAAX,GAA+BC,OAAOC,MAAP,CAActB,KAAKqC,IAAL,CAAU,MAAKlB,KAAL,CAAWC,iBAArB,CAAd,EAAuD;AACrFG,gBAAW,CAD0E;AAErFC,eAAU;AAF2E,KAAvD,CAA/B;AAIA,QAAIY,OAAO,CAAX,EAAc;AAAG;AAChB,WAAKjB,KAAL,CAAWC,iBAAX,CAA6BN,KAA7B,GAAqC,CAArC;AACA,WAAKK,KAAL,CAAWM,kBAAX;;AAEA,WAAKN,KAAL,CAAWQ,WAAX,CAAuB;AACtBJ,iBAAW,CADW;AAEtBC,gBAAU,EAFY;AAGtBV,aAAO;AAHe,MAAvB,EAIGc,IAJH,CAIQ,UAACC,GAAD,EAAS;AAChB,YAAKC,QAAL,CAAc;AACbb,mBAAYY,IAAIZ;AADH,OAAd;AAGA,MARD;AASA,KAbD,MAaO;AACN,WAAKE,KAAL,CAAWC,iBAAX,CAA6BN,KAA7B,GAAqC,CAArC;AACA,WAAKK,KAAL,CAAWM,kBAAX;;AAEA,WAAKN,KAAL,CAAWQ,WAAX,CAAuB;AACtBJ,iBAAW,CADW;AAEtBC,gBAAU,EAFY;AAGtBV,aAAO;AAHe,MAAvB,EAIGc,IAJH,CAIQ,UAACC,GAAD,EAAS;AAChB,YAAKC,QAAL,CAAc;AACbb,mBAAYY,IAAIZ;AADH,OAAd;AAGA,MARD;AASA;AACD,IAlCD;AAmCA,GA/FkB;;AAAA,QAkGnBqB,gBAlGmB,GAkGA,YAAM;AACxB,SAAKzB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,mBAAxB;AACA,GApGkB;;AAElB,QAAKrB,KAAL,GAAa,IAAIsB,kBAAJ,EAAb;AAFkB;AAGlB;;;;sCAQmB;AACnB,QAAKC,YAAL;AACA;;;iCAEc;AACd,QAAKxB,iBAAL;AACA,QAAKQ,gBAAL;AACA;;AAED;;;AAUA;;;AAmEA;;;;2BAKS;AAAA;;AAAA,gBACyC,KAAKZ,KAD9C;AAAA,OACDE,eADC,UACDA,eADC;AAAA,OACgBD,SADhB,UACgBA,SADhB;AAAA,OAC2BE,UAD3B,UAC2BA,UAD3B;;AAER,OAAM0B,SAAS,EAAC,GAAG,YAAJ,EAAkB,GAAG,OAArB,EAA8B,GAAG,eAAjC,EAAkD,GAAG,YAArD,EAAmE,GAAG,YAAtE,EAAf;AACA,OAAIC,UAAU,CACb,EAACC,OAAO,IAAR,EAAcC,WAAW,MAAzB,EAAiCC,OAAO,MAAxC,EADa,EAEb,EAACF,OAAO,MAAR,EAAgBC,WAAW,aAA3B,EAA0CC,OAAO,MAAjD,EAFa,EAGb,EAACF,OAAO,MAAR,EAAgBC,WAAW,SAA3B,EAAsCC,OAAO,QAA7C,EAAuDC,QAAQ,gBAACC,IAAD,EAAU;AAAC,YAAQ;AAAA;AAAA;AAAOA,cAAQ,CAAR,IAAaA,QAAQ,IAArB,GAA4B,EAA5B,GAAiC,sBAAOA,IAAP,EAAaC,MAAb,CAAoB,YAApB;AAAxC,MAAR;AAA2F,KAArK,EAHa,EAIb,EAACL,OAAO,MAAR,EAAgBC,WAAW,MAA3B,EAAmCC,OAAO,QAA1C,EAAoDC,QAAQ,gBAACC,IAAD,EAAOE,MAAP,EAAkB;AAAM,YAAQ;AAAA;AAAA;AAAOF,UAAP;AAAA;AAAA,MAAR;AAA8B,KAAlH,EAJa,EAKb,EAACJ,OAAO,IAAR,EAAcC,WAAW,EAAzB,EAA6BC,OAAO,QAApC;AACCC,YAAQ,gBAACC,IAAD,EAAOE,MAAP,EAAkB;AACzB,SAAIC,UAAUT,OAAOQ,OAAOE,WAAd,CAAd;AACA;AACA,SAAIC,MAAMH,OAAOI,GAAP,IAAc,IAAd,aACDH,OADC,mBACoBD,OAAOK,SAD3B,YAC2CL,OAAOM,EADlD,aAC4DN,OAAOI,GADnE,eACgFJ,OAAOE,WADvF,aAGDD,OAHC,mBAGoBD,OAAOK,SAH3B,YAG2CL,OAAOM,EAHlD,eAG8DN,OAAOE,WAH/E;AAIA,SAAIK,aAAa,EAAjB;AACA,SAAIC,SAAS,EAAb;AACA,SAAIR,OAAOS,IAAP,IAAe,GAAnB,EAAwB;AACvBF,mBAAa,IAAb;AACAC,eAAS,CAAT;AACA,MAHD,MAGO;AACND,mBAAa,IAAb;AACAC,eAAS,CAAT;AACA;AACD,YAAQ;AAAA;AAAA,QAAG,SAAS,iBAACE,CAAD,EAAO;AAC1B,eAAKhD,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwBc,MAAI,UAAJ,GAAeK,MAAvC;AACA,QAFO;AAEJD;AAFI,MAAR;AAGA;AApBF,IALa,CAAd;AA4BA,OAAMI,YAAY9C,gBAAgB+C,GAAhB,CAAoB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACtD,QAAIA,SAAS,CAAb,EAAgB;AACf,YACC;AAAC,sBAAD,CAAY,IAAZ;AAAA;AACC;AAAA;AAAA,SAAG,MAAK,oBAAR;AAA8BD,YAAKE;AAAnC;AADD,MADD;AAKA,KAND,MAMO;AACN,YACC;AAAC,sBAAD,CAAY,IAAZ;AAAA;AACC;AAAA;AAAA,SAAG,MAAK,oBAAR,EAA6B,SAAS,OAAK5B,gBAA3C;AAA8D0B,YAAKE;AAAnE;AADD,MADD;AAKA;AACD,IAdiB,CAAlB;AA/BQ,gBA8CuD,KAAK/C,KA9C5D;AAAA,OA8CDgD,gBA9CC,UA8CDA,gBA9CC;AAAA,OA8CiBC,eA9CjB,UA8CiBA,eA9CjB;AAAA,OA8CkChD,iBA9ClC,UA8CkCA,iBA9ClC;;AA+CR,OAAIiD,QAAQtD,aAAa,GAAb,GAAmBoD,gBAAnB,GAAsClD,UAAlD,CA/CQ,CA+CsD;AAC9D,OAAIqD,MAAMvD,aAAa,GAAb,GAAmBoD,gBAAnB,GAAsClD,UAAhD,CAhDQ,CAgDoD;AAC5D,UACC;AAAA;AAAA;AACC;AAAA;AAAA,OAAK,WAAU,YAAf;AACC;AAAC,sBAAD;AAAA,QAAY,WAAU,GAAtB;AACE6C;AADF;AADD,KADD;AAMC;AAAA;AAAA,OAAK,WAAU,MAAf;AACC;AAAC,gBAAD;AAAA,QAAM,WAAW/C,SAAjB,EAA4B,UAAU,KAAKoB,YAA3C;AACC;AAAC,cAAD;AAAA;AACC,aAAK;AAAA;AAAA;AAAO,mBAAUkC,KAAV,GAAkB;AAAzB,SADN;AAEC,aAAI,GAFL;AAGC;AAAC,4BAAD;AAAA,UAAgB,aAAalE,oBAA7B;AACC,sCAAC,WAAD;AACC,oBAAU,SADX;AAEC,kBAASyC,OAFV;AAGC,qBAAY5C,KAAKqC,IAAL,CAAU+B,eAAV,CAHb;AAIC,eAAK,QAJN;AAKC,qBAAY;AALb,UADD;AAQC,sCAAC,gBAAD;AACC,oBAAU,SADX;AAEC,8BAFD;AAGC,2BAAkB,KAAKrC,gBAHxB;AAIC,mBAAU,KAAKE,QAJhB;AAKC,gBAAOkC,gBALR;AAMC,8BAND;AAOC,kBAASnE,KAAKqC,IAAL,CAAUjB,iBAAV,EAA6BG,SAPvC;AAQC,oBAAW;AAAA,6BAAcgD,KAAd;AAAA;AARZ;AARD;AAHD,OADD;AAwBC;AAAC,cAAD;AAAA;AACC,aAAK;AAAA;AAAA;AAAO,mBAAUD,GAAV,GAAgB;AAAvB,SADN;AAEC,aAAI,GAFL;AAGC;AAAC,4BAAD;AAAA,UAAgB,aAAanE,oBAA7B;AACC,sCAAC,WAAD;AACC,oBAAU,SADX;AAEC,kBAASyC,OAFV;AAGC,qBAAY5C,KAAKqC,IAAL,CAAU+B,eAAV,CAHb;AAIC,eAAK,QAJN;AAKC,qBAAY;AALb,UADD;AAQC,sCAAC,gBAAD;AACC,oBAAU,SADX;AAEC,8BAFD;AAGC,2BAAkB,KAAKrC,gBAHxB;AAIC,mBAAU,KAAKE,QAJhB;AAKC,gBAAOkC,gBALR;AAMC,8BAND;AAOC,kBAASnE,KAAKqC,IAAL,CAAUjB,iBAAV,EAA6BG,SAPvC;AAQC,oBAAW;AAAA,6BAAcgD,KAAd;AAAA;AARZ;AARD;AAHD;AAxBD;AADD;AAND,IADD;AA2DA;;;;EAnNmBC,gBAAMC,S;;kBAuNZ/D,M;;;;;;;;;;;;;;;;qqBCpPf;;;;;AAGA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEM+B,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAE+B;AAMA;AAaA;;AAEG;AACA;AACF;;AAerC;;AAEiC;AACD;;;;;;AAoC7B;wCAEmB;AAAA;;AACrB,UAAO,sBAAY,qBAAZ,EAAmCiC,iBAAOC,GAAP,CAAWC,mBAA9C,EAAmEC,cAAQF,GAAR,CAAYC,mBAA/E,EAAoG,KAAKE,kBAAzG,EAA6HlD,IAA7H,CAAkI,UAACC,GAAD,EAAS;AACjJ,UAAKkD,gBAAL,GAAwB1D,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAxB;AACA,UAAKmD,oBAAL,GAA4B,IAA5B;AAEA,IAJM,CAAP;AAKG;;AAED;;;;sCAEiB;AAAA;;AACnB,UAAO,sBAAY,mBAAZ,EAAiCN,iBAAOC,GAAP,CAAWM,iBAA5C,EAA+DJ,cAAQF,GAAR,CAAYM,iBAA3E,EAA8F,KAAKC,gBAAnG,EAAqHtD,IAArH,CAA0H,UAACC,GAAD,EAAS;AACzI,WAAKsD,cAAL,GAAuB9D,OAAOC,MAAP,CAAc,EAAd,EAAkB,OAAOO,IAAIuD,IAAX,KAAmB,WAAnB,GAAiCvD,IAAIuD,IAAJ,CAASrB,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAe;AACrG,YAAOD,IAAP;AACA,KAFyE,CAAjC,GAEtC,EAFoB,CAAvB;AAGA,WAAKkB,gBAAL,CAAsB3D,SAAtB,GAAkCM,IAAIN,SAAtC;AACA,WAAK2D,gBAAL,CAAsB1D,QAAtB,GAAiCK,IAAIL,QAArC;AACA,WAAK6D,eAAL,GAAuBxD,IAAIZ,UAA3B;AACA,IAPM,CAAP;AAQG;;AAED;;;;yCAEoB;AAAA;;AACtB,UAAO,sBAAY,sBAAZ,EAAoCyD,iBAAOC,GAAP,CAAWW,oBAA/C,EAAqET,cAAQF,GAAR,CAAYW,oBAAjF,EAAuG1D,IAAvG,CAA4G,UAACC,GAAD,EAAS;AAC3H,WAAK0D,iBAAL,GAAyBlE,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAzB;AACA,IAFM,CAAP;AAGG;;AAED;;;;6CAEwB;AAAA;;AAC1B,UAAO,sBAAY,0BAAZ,EAAwC6C,iBAAOC,GAAP,CAAWa,wBAAnD,EAA6EX,cAAQF,GAAR,CAAYa,wBAAzF,EAAmH5D,IAAnH,CAAwH,UAACC,GAAD,EAAS;AACvI,WAAK4D,iBAAL,GAAyBpE,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAzB;AACA,IAFM,CAAP;AAGG;;AAED;;;;uCAEkB;AAAA;;AACpB,UAAO,sBAAY,oBAAZ,EAAkC6C,iBAAOC,GAAP,CAAWlD,kBAA7C,EAAiEoD,cAAQF,GAAR,CAAYlD,kBAA7E,EAAiG,KAAKL,iBAAtG,EAAyHQ,IAAzH,CAA8H,UAACC,GAAD,EAAS;AAC7I,WAAKuC,eAAL,GAAuB/C,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIuD,IAAtB,CAAvB;AACA,QAAG,OAAKhE,iBAAL,CAAuBN,KAAvB,IAA8B,CAAjC,EAAoC;AAAE;AACrC,YAAK4E,iBAAL,GAAyBrE,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIuD,IAAtB,CAAzB;AACA;;AAED;AACA;AACA;;AAEA,WAAKhE,iBAAL,CAAuBG,SAAvB,GAAmCM,IAAIN,SAAvC;AACA,WAAKH,iBAAL,CAAuBI,QAAvB,GAAkCK,IAAIL,QAAtC;AACA,WAAK2C,gBAAL,GAAwBtC,IAAIZ,UAA5B;AACA,IAbM,CAAP;AAcA;;AAED;;;;oCAEkB;AAAA;;AACjB,UAAO,sBAAY,oBAAZ,EAAkCyD,iBAAOC,GAAP,CAAWlD,kBAA7C,EAAiEoD,cAAQF,GAAR,CAAYlD,kBAA7E,EAAiG,KAAKkE,mBAAtG,EAA2H/D,IAA3H,CAAgI,UAACC,GAAD,EAAS;AAC/I,QAAIA,OAAOA,IAAI,MAAJ,EAAY+D,MAAZ,GAAqB,CAAhC,EAAmC;AAClC,SAAIC,WAAW,OAAKH,iBAApB;AACA,YAAKA,iBAAL,GAAyBG,SAASC,MAAT,CAAgBjE,IAAI,MAAJ,CAAhB,CAAzB;AACA,YAAK8D,mBAAL,CAAyBpE,SAAzB,GAAqC,OAAKoE,mBAAL,CAAyBpE,SAAzB,GAAmC,CAAxE;AACA,KAJD,MAIO;AACN,YAAKwE,OAAL,GAAe,KAAf;AACA;AAED,IATM,CAAP;AAUA;;AAEE;;;;8BAEYC,K,EAAO;AACf,UAAO,sBAAY,oBAAZ,EAAkCtB,iBAAOC,GAAP,CAAWlD,kBAA7C,EAAiEoD,cAAQF,GAAR,CAAYlD,kBAA7E,EAAiGuE,KAAjG,EAAwGpE,IAAxG,CAA6G,UAACC,GAAD,EAAS;AACzH,WAAOA,GAAP;AACH,IAFM,CAAP;AAGH;;AAED;;;;mCAEc;AAAA;;AAChB,UAAO,sBAAY,gBAAZ,EAA8B6C,iBAAOC,GAAP,CAAWsB,cAAzC,EAAyDpB,cAAQF,GAAR,CAAYsB,cAArE,EAAqFrE,IAArF,CAA0F,UAACC,GAAD,EAAS;AACzG,WAAKqE,WAAL,GAAmBrE,GAAnB;AACA,IAFM,CAAP;AAGG;;AAED;;;;qCAEgB;AAAA;;AAClB,UAAO,sBAAY,kBAAZ,EAAgC6C,iBAAOC,GAAP,CAAWwB,gBAA3C,EAA6DtB,cAAQF,GAAR,CAAYwB,gBAAzE,EAA2FvE,IAA3F,CAAgG,UAACC,GAAD,EAAS;AAC/G,WAAKuE,aAAL,GAAqBvE,GAArB;AACA,IAFM,CAAP;AAGA;;AAED;;;;mCAEiB;AAChB,UAAO,sBAAY,gBAAZ,EAA8B6C,iBAAOC,GAAP,CAAW0B,cAAzC,EAAyDxB,cAAQF,GAAR,CAAY0B,cAArE,EAAqFzE,IAArF,CAA0F,UAACC,GAAD,EAAS;AACzGyE,qBAAQC,IAAR,CAAa,cAAb,EAA8B1E,GAA9B;AACA,IAFM,CAAP;AAGA;;;;AAGD;uCAEqB;AAAA;;AACpB,UAAO,sBAAY,oBAAZ,EAAkC6C,iBAAOC,GAAP,CAAW6B,kBAA7C,EAAiE3B,cAAQF,GAAR,CAAY6B,kBAA7E,EAAiG5E,IAAjG,CAAsG,UAACC,GAAD,EAAS;AACrH,WAAK4E,eAAL,GAAuBpF,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIkC,GAAJ,CAAQ,gBAAM;AACtD,YAAO,EAACd,MAAKe,KAAK0C,QAAX,EAAqBC,OAAM3C,KAAK0C,QAAhC,EAAP;AACA,KAFwC,CAAlB,CAAvB;AAGA,WAAKE,QAAL,GAAgBvF,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAhB;AACA,IALM,CAAP;AAMA;;AAED;;;;kCAEgB;AAAA;;AACf,UAAO,sBAAY,eAAZ,EAA6B6C,iBAAOC,GAAP,CAAWkC,aAAxC,EAAuDhC,cAAQF,GAAR,CAAYkC,aAAnE,EAAkFjF,IAAlF,CAAuF,UAACC,GAAD,EAAS;AACtG,YAAKiF,UAAL,GAAkBzF,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIkC,GAAJ,CAAQ,gBAAM;AACjD,YAAO,EAACd,MAAKe,KAAK+C,QAAX,EAAqBJ,OAAM3C,KAAK+C,QAAhC,EAAP;AACA,KAFmC,CAAlB,CAAlB;AAGA,YAAKC,SAAL,GAAkB3F,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIkC,GAAJ,CAAQ,gBAAM;AACjD,YAAO1C,OAAOC,MAAP,CAAc,EAAd,EAAkB,EAACmC,IAAGO,KAAKiD,MAAT,EAAiBP,UAAS1C,KAAK+C,QAA/B,EAAlB,CAAP;AACA,KAFmC,CAAlB,CAAlB;AAGA,IAPM,CAAP;AAQA;;;AAEyB;AAC1B;8CAE4B;AAAA;;AAC3B,UAAO,sBAAY,2BAAZ,EAAyCrC,iBAAOwC,aAAP,CAAqBC,yBAA9D,EAAyFC,wBAAqBF,aAArB,CAAmCC,yBAA5H,EAAuJ;AAC7JE,WAAO,UADsJ;AAE7JC,UAAM,gBAFuJ;AAG7J/F,eAAW,CAHkJ,EAG3I;AAClBC,cAAU,KAJmJ,CAIzI;AAJyI,IAAvJ,EAKJI,IALI,CAKC,UAACC,GAAD,EAAO;AACd,YAAK0F,UAAL,GAAkBlG,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIuD,IAAtB,CAAlB;AACA,IAPM,CAAP;AAQA;;;AAE4B;AAC7B;2CAEyB;AAAA;;AACxB,UAAO,sBAAY,wBAAZ,EAAsCV,iBAAOC,GAAP,CAAW6C,sBAAjD,EAAyE3C,cAAQF,GAAR,CAAY6C,sBAArF,EAA6G,EAA7G,EAAiH5F,IAAjH,CAAsH,UAACC,GAAD,EAAO;AACnI,YAAK4F,WAAL,GAAmBpG,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAnB;AACA,IAFM,CAAP;AAGA,G,CAE2B;;;;;AAE5B;0CAEwBmE,K,EAAO;AAAA;;AAC9B,UAAO,sBAAY,yBAAZ,EAAuCtB,iBAAOC,GAAP,CAAW+C,uBAAlD,EAA2E7C,cAAQF,GAAR,CAAY+C,uBAAvF,EAAgH;AACtHC,eAAW,KAAKA,SADsG;AAEtHV,YAAQjB;AAF8G,IAAhH,EAGJpE,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAK+F,eAAL,GAAuBvG,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAvB;AACA,IALM,CAAP;AAMA;;;AAE+B;AAChC;wCAEsBmE,K,EAAO;AAAA;;AAC5B,UAAO,sBAAY,uBAAZ,EAAqCtB,iBAAOC,GAAP,CAAWkD,qBAAhD,EAAuEhD,cAAQF,GAAR,CAAYkD,qBAAnF,EAA0G;AAChHF,eAAW,KAAKA,SADgG;AAEhHG,gBAAY9B;AAFoG,IAA1G,EAGJpE,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAKkG,aAAL,GAAqB1G,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAImG,IAAJ,IAAU,IAAV,GAAe,EAAf,GAAkBnG,IAAImG,IAAxC,CAArB;AACA,IALM,CAAP;AAMA;;AAED;;;;kCAEgB;AACf,UAAO,sBAAY,eAAZ,EAA6BtD,iBAAOwC,aAAP,CAAqBe,aAAlD,EAAiEb,wBAAqBF,aAArB,CAAmCe,aAApG,EAAmH;AACzHC,WAAO,UADkH;AAEzH3E,SAAK;AAFoH,IAAnH,CAAP;AAIA;;AAED;;;;4CAE0ByC,K,EAAO;AAChC,UAAO,sBAAY,2BAAZ,EAAyCtB,iBAAOwC,aAAP,CAAqBiB,yBAA9D,EAAyFf,wBAAqBF,aAArB,CAAmCiB,yBAA5H,EAAuJ;AAC7JD,WAAO,UADsJ;AAE7J3G,eAAW,CAFkJ;AAG7JC,cAAU,GAHmJ;AAI7J4G,WAAOpC;AAJsJ,IAAvJ,CAAP;AAMA;AACE;;;;wCAEmBqC,I,EAAM;AAC3B,UAAO,sBAAY,uBAAZ,EAAqC3D,iBAAOwC,aAAP,CAAqBoB,qBAA1D,EAAiFlB,wBAAqBF,aAArB,CAAmCoB,qBAApH,EAA2I;AACjJJ,WAAO,UAD0I;AAEjJG,UAAMA;AAF2I,IAA3I,CAAP;AAIA;;;AAOiC;AAClC;+CAE6B;AAAA;;AAC5B,UAAO,sBAAY,4BAAZ,EAA0C3D,iBAAOC,GAAP,CAAW4D,0BAArD,EAAiF1D,cAAQF,GAAR,CAAY4D,0BAA7F,EAAyHlH,OAAOC,MAAP,CAAc,EAAd,EAAkB,KAAKkH,YAAvB,CAAzH,EACH5G,IADG,CACE,UAACC,GAAD,EAAO;AACZ,YAAK4G,eAAL,GAAuBpH,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAImG,IAAJ,IAAU,IAAV,GAAe,EAAf,GAAkBnG,IAAImG,IAAxC,CAAvB;AACA,IAHG,CAAP;AAIA;;;;AAGD;iCAEe;AAAA;;AACd,UAAO,sBAAY,cAAZ,EAA4BtD,iBAAOC,GAAP,CAAW+D,YAAvC,EAAqD7D,cAAQF,GAAR,CAAY+D,YAAjE,EAA+E9G,IAA/E,CAAoF,UAACC,GAAD,EAAS;AACnG,QAAIA,GAAJ,EAAS;AACR,aAAKf,KAAL,GAAaO,OAAOC,MAAP,CAAc,EAAd,EAAkBO,IAAIkC,GAAJ,CAAQ,UAACC,IAAD,EAAS;AAC/C,aAAO3C,OAAOC,MAAP,CAAc,EAAd,EAAkB;AACxBmC,WAAIO,KAAKP,EADe;AAExBiD,iBAAU1C,KAAK2E;AAFS,OAAlB,CAAP;AAIA,MAL8B,CAAlB,CAAb;AAMA;AACD,IATM,CAAP;AAUA;;;AAOE;;AAEH;2BACS;AAAA;;AACR,UAAO,sBAAY,QAAZ,EAAsBjE,iBAAOC,GAAP,CAAWiE,MAAjC,EAAyCC,cAAWlE,GAAX,CAAeiE,MAAxD,EAAgE,EAAhE,EACNhH,IADM,CACD,UAACC,GAAD,EAAS;AACd,QAAIiH,MAAM,OAAOjH,GAAP,IAAc,QAAd,GAAyBkH,KAAKC,KAAL,CAAWnH,GAAX,CAAzB,GAA2CA,GAArD;AACA,QAAIiH,GAAJ,EAAS;AACR,aAAKG,OAAL,GAAe5H,OAAOC,MAAP,CAAc,EAAd,EAAkBwH,GAAlB,CAAf;AACA;AACD,IANM,CAAP;AAOA,G,CAE2B;AACE;AACL;AACE;AACA;AACC;AACC;AACF;AACQ;AACT;;;;AACI;;AAE9B;2BACS9C,K,EAAO;AACf,UAAO,sBAAY,UAAZ,EAAwBtB,iBAAOwE,GAAP,CAAWC,QAAnC,EAA6CC,cAAWF,GAAX,CAAeC,QAA5D,EAAsE;AAC5EE,UAAMrD;AADsE,IAAtE,CAAP;AAGA;;AAEE;;;;iCACYA,K,EAAO;AAAA;;AACrB,UAAO,sBAAY,gBAAZ,EAA8BtB,iBAAOwE,GAAP,CAAWI,cAAzC,EAAyDF,cAAWF,GAAX,CAAeI,cAAxE,EAAwF;AAC9FhC,UAAMtB,KADwF;AAE9FiB,YAAQ,KAAKA;AAFiF,IAAxF,EAGJrF,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAK0H,QAAL,GAAgBlI,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAhB;AACA,YAAK2H,gBAAL,GAAwBnI,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAxB,CAA+C;AAC/C,IANM,CAAP;AAOA;;AAED;;;;kCACgBmE,K,EAAO;AAAA;;AACtB,UAAO,sBAAY,iBAAZ,EAA+BtB,iBAAOwE,GAAP,CAAWO,eAA1C,EAA2DL,cAAWF,GAAX,CAAeO,eAA1E,EAA2F;AACjGnC,UAAMtB,KAD2F;AAEjGiB,YAAQ,KAAKA;AAFoF,IAA3F,EAGJrF,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAK6H,SAAL,GAAiBrI,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAjB;AACA,IALM,CAAP;AAMA;;AAED;;;;mCACiBmE,K,EAAO;AAAA;;AACvB,UAAO,sBAAY,kBAAZ,EAAgCtB,iBAAOwE,GAAP,CAAWS,gBAA3C,EAA6DP,cAAWF,GAAX,CAAeS,gBAA5E,EAA8F;AACpGrC,UAAMtB,KAD8F;AAEpGiB,YAAQ,KAAKA;AAFuF,IAA9F,EAGJrF,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAK+H,UAAL,GAAkBvI,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAlB;AACA,IALM,CAAP;AAMA;;AAED;;;;iCACemE,K,EAAO;AAAA;;AACrB,UAAO,sBAAY,gBAAZ,EAA8BtB,iBAAOwE,GAAP,CAAWW,cAAzC,EAAyDT,cAAWF,GAAX,CAAeW,cAAxE,EAAwF;AAC9FvC,UAAMtB,KADwF;AAE9FiB,YAAQ,KAAKA;AAFiF,IAAxF,EAGJrF,IAHI,CAGC,UAACC,GAAD,EAAO;AACd,YAAKiI,QAAL,GAAgBzI,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAhB;AACA,IALM,CAAP;AAMA;;AAED;;;;oCACkB;AACjB,UAAO,sBAAY,iBAAZ,EAA+B6C,iBAAOwE,GAAP,CAAWa,eAA1C,EAA2DX,cAAWF,GAAX,CAAea,eAA1E,EAA2F;AACjGC,UAAM,KAAKT,QADsF;AAEjGjC,UAAM,KAAK2C,WAAL,CAAiBxG,EAF0E;AAGjGwD,YAAQ,KAAKA;AAHoF,IAA3F,CAAP;AAKA;;AAED;;;;qCACmB;AAClB,UAAO,sBAAY,kBAAZ,EAAgCvC,iBAAOwE,GAAP,CAAWgB,gBAA3C,EAA6Dd,cAAWF,GAAX,CAAegB,gBAA5E,EAA6F;AACnGF,UAAM,KAAKN,SADwF;AAEnGpC,UAAM,KAAK2C,WAAL,CAAiBE,KAF4E;AAGnGlD,YAAQ,KAAKA;AAHsF,IAA7F,CAAP;AAKA;;AAED;;;;oCACkBjB,K,EAAO;AACxB,UAAO,sBAAY,mBAAZ,EAAiCtB,iBAAOwE,GAAP,CAAWkB,iBAA5C,EAA+DhB,cAAWF,GAAX,CAAekB,iBAA9E,EAAiG;AACvGJ,UAAM,KAAKJ,UAD4F;AAEvGtC,UAAMtB,KAFiG;AAGvGiB,YAAQ,KAAKA;AAH0F,IAAjG,CAAP;AAKA;;AAED;;;;kCACgBjB,K,EAAO;AACtB,UAAO,sBAAY,iBAAZ,EAA+BtB,iBAAOwE,GAAP,CAAWmB,eAA1C,EAA2DjB,cAAWF,GAAX,CAAemB,eAA1E,EAA2F;AACjGL,UAAM,KAAKF,QADsF;AAEjGxC,UAAMtB,KAF2F;AAGjGiB,YAAQ,KAAKA;AAHoF,IAA3F,CAAP;AAKA;;AAED;;;;0BACQqD,M,EAAQ;AAAA;;AACf,UAAO,sBAAY,SAAZ,EAAuB5F,iBAAOwE,GAAP,CAAWqB,OAAlC,EAA2CnB,cAAWF,GAAX,CAAeqB,OAA1D,EAAmE;AACzEC,UAAMF,OAAOE,IAD4D;AAEzElD,UAAMgD,OAAOhD,IAF4D;AAGzEL,YAAQ,KAAKA;AAH4D,IAAnE,EAIJrF,IAJI,CAIC,UAACC,GAAD,EAAO;AACd,YAAK4I,OAAL,GAAepJ,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAf;AACA,IANM,CAAP;AAOA;;AAED;;;;8BACYyI,M,EAAQ;AAAA;;AACnB,UAAO,sBAAY,aAAZ,EAA2B5F,iBAAOwE,GAAP,CAAWwB,WAAtC,EAAmDtB,cAAWF,GAAX,CAAewB,WAAlE,EAA+E;AACrFF,UAAMF,OAAOE,IADwE;AAErFlD,UAAMgD,OAAOhD,IAFwE;AAGrFL,YAAQ,KAAKA;AAHwE,IAA/E,EAIJrF,IAJI,CAIC,UAACC,GAAD,EAAO;AACd,YAAK8I,WAAL,GAAmBtJ,OAAOC,MAAP,CAAc,EAAd,EAAkBO,GAAlB,CAAnB;AACA,IANM,CAAP;AAOA;;AAED;;;;0BACQyI,M,EAAQ;AACf,UAAO,sBAAY,UAAZ,EAAwB5F,iBAAOwE,GAAP,CAAW0B,QAAnC,EAA6CxB,cAAWF,GAAX,CAAe0B,QAA5D,EAAsE;AAC5EJ,UAAMF,OAAOE,IAD+D;AAE5ElD,UAAMgD,OAAOhD,IAF+D;AAG5EL,YAAQ,KAAKA,MAH+D;AAI5E4D,iBAAaP,OAAOO;AAJwD,IAAtE,CAAP;AAMA;;AAED;;;;8BACYP,M,EAAQ;AACnB,UAAO,sBAAY,aAAZ,EAA2B5F,iBAAOwE,GAAP,CAAW4B,WAAtC,EAAmD1B,cAAWF,GAAX,CAAe4B,WAAlE,EAA+E;AACrFN,UAAMF,OAAOE,IADwE;AAErFlD,UAAMgD,OAAOhD,IAFwE;AAGrFL,YAAQ,KAAKA,MAHwE;AAIrF8D,aAAST,OAAOS;AAJqE,IAA/E,CAAP;AAMA;;AAED;;;;yBACOT,M,EAAQ;AACd,UAAO,sBAAY,QAAZ,EAAsB5F,iBAAOwE,GAAP,CAAW8B,MAAjC,EAAyC5B,cAAWF,GAAX,CAAe8B,MAAxD,EAAgE;AACtER,UAAMF,OAAOE,IADyD;AAEtElD,UAAMgD,OAAOhD,IAFyD;AAGtEL,YAAQ,KAAKA,MAHyD;AAItEgE,kBAAcX,OAAOW;AAJiD,IAAhE,CAAP;AAMA;;AAED;;;;6BACWX,M,EAAQ;AAClB,UAAO,sBAAY,YAAZ,EAA0B5F,iBAAOwE,GAAP,CAAWgC,UAArC,EAAiD9B,cAAWF,GAAX,CAAegC,UAAhE,EAA4E;AAClFV,UAAMF,OAAOE,IADqE;AAElFlD,UAAMgD,OAAOhD,IAFqE;AAGlFL,YAAQ,KAAKA,MAHqE;AAIlFkE,eAAWb,OAAOa;AAJgE,IAA5E,CAAP;AAMA;;;;8EAzeAC,gB;;;SAAqB,C;;oFACrBA,gB;;;SAA8B,E;;sFAC9BA,gB;;;SAAgC;AAChCC,cAAW,wBAASC,OAAT,CAAiB,MAAjB,EAAyBC,OAAzB,EADqB;AAEhCC,YAAQ,wBAASC,KAAT,CAAe,MAAf,EAAuBF,OAAvB,EAFwB;AAGhCtI,SAAK;AAH2B,G;;kFAK7BmI,gB;;;SAA4B,E;;oFAC5BA,gB;;;SAA8B,EAAE;AACnCC,cAAW,wBAASC,OAAT,CAAiB,MAAjB,EAAyBC,OAAzB,EADsB;AAEjCC,YAAQ,wBAASC,KAAT,CAAe,MAAf,EAAuBF,OAAvB,EAFyB;AAGjCtI,SAAK,EAH4B;AAIjC2D,aAAS,EAJwB;AAKjC9F,UAAM,EAL2B;AAM3BkG,cAAU,EANiB;AAO3BzF,cAAU,CAPiB;AAQjCC,aAAS;AARwB,G;;mFAUjC4J,gB;;;SAA6B,C;;oFAC7BA,gB;;;SAA8B,C;;qFAC9BA,gB;;;SAA+B,E;;qFAE5BA,gB;;;SAA+B,E;;sFAC/BA,gB;;;SAA+B,E;;oFAC/BA,gB;;;SAA6B,E;;sFAC7BA,gB;;;SAA+B,EAAE;AACpCtK,UAAM,CAD4B;AAE5BS,cAAU,CAFkB;AAGlCC,aAAS;AAHyB,G;;wFAMlC4J,gB;;;SAAiC,EAAE;AACnCtK,UAAM,CAD2B;AAE3BS,cAAU,CAFiB;AAGjCC,aAAS;AAHwB,G;;4EAKjC4J,gB;;;SAAqB,I;;qFAErBA,gB;;;SAA8B,C;;gFAG3BA,gB;;;SAAuB,I;;kFAC1BA,gB;;;SAAyB,I;;iFAEzBA,gB;;;SAAwB,CAAG;AAC3B,IAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EADwB,EAExB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EAFwB,EAGxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EAHwB,EAIxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EAJwB,EAKxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EALwB,EAMxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EANwB,EAOxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EAPwB,EAQxB,EAAC,WAAU,IAAX,EAAiB,QAAO,MAAxB,EARwB,EASxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EATwB,EAUxB,EAAC,WAAU,GAAX,EAAgB,QAAO,MAAvB,EAVwB,C;;kFAaxBA,gB;;;SAAyB,CAAG;AAC5B,IAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EADyB,EAEzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAFyB,EAGzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAHyB,EAIzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAJyB,EAKzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EALyB,EAMzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EANyB,EAOzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAPyB,EAQzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EARyB,EASzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EATyB,EAUzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAVyB,EAWzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAXyB,EAYzB,EAAC,QAAO,MAAR,EAAgB,SAAQ,MAAxB,EAZyB,C;;oFAezBA,gB;;;SAA6B,E;;+EAC7BA,gB;;;SAAwB,E;;8EACxBA,gB;;;SAAuB,E;;yFACvBA,gB;;;SAAkC,K;;wEAIlCM,Y,kKAUAA,Y,mKAaAA,Y,0KAQAA,Y,wKAQAA,Y,+JAmBAA,Y,wJAeGA,Y,uJAQHA,Y,4JAQAA,Y,4JAQAA,Y,oKAOAN,gB;;;SAAsB,E;;uEAEtBM,Y,6JAWAA,Y,qKAYAN,gB;;;SAAsB,E;;8EAEtBM,Y,kLAYAN,gB;;;SAAwB,E;;2EAExBM,Y,6KAOAN,gB;;;SAAuB,E;;oFACvBA,gB;;;SAA6B,E;;4EAE7BM,Y,kLAUAN,gB;;;SAA2B,E;;0EAE3BM,Y,gKAWAA,Y,oKASAA,Y,4KAUAA,Y,+KAQAN,gB;;;SAA0B,EAAG;AAC7BO,QAAK,EADqB;AAE1BN,cAAW,wBAASC,OAAT,CAAiB,KAAjB,EAAwBC,OAAxB,EAFe;AAGvBC,YAAS,wBAASC,KAAT,CAAe,KAAf,EAAsBF,OAAtB;AAHc,G;;oFAK1BH,gB;;;SAA6B,E;;+EAE7BM,Y,6KAQAN,gB;;;SAAmB,E;;iEAEnBM,Y,iKAcAN,gB;;;SAAqB;AACrB,oBAAiB,EADI;AAErB,kBAAe,EAFM;AAGrB,sBAAmB,EAHE;AAIrB,iBAAc;AAJO,G;;8EAkBrBA,gB;;;SAAuB,E;;gFACvBA,gB;;;SAAyB,E;;2EACzBA,gB;;;SAAoB,E;;6EACpBA,gB;;;SAAsB,E;;6EACtBA,gB;;;SAAsB,E;;8EACtBA,gB;;;SAAuB,E;;+EACvBA,gB;;;SAAwB,E;;6EACxBA,gB;;;SAAsB,E;;qFACtBA,gB;;;SAA8B,E;;4EAC9BA,gB;;;SAAqB,E;;gFACrBA,gB;;;SAAyB,E;;;kBAqJZ3I,Q;;;;;;;;;;;;;AC1ff,IAAIiC,SAAS;AACb;AACEwE,MAAK;AACHC,2KADG,EAWF;;AAEDG,kQAbG,EAyBF;;AAEDG,qQA3BG,EAuCF;;AAEDE,8UAzCG,EAyDF;;AAEDE,wUA3DG,EA2EF;;AAEDE,2JA7EG,EA+EF;;AAEDG,8JAjFG,EAmFF;;AAEDE,iKArFG,EAuFF;;AAEDC,2JAzFG,EA2FF;;AAEDE,iSA7FG,EA2GF;;AAEDG,uQA7GG,EAyHF;;AAEDE,8LA3HG,EA6HF;;AAEDE,mLA/HG,EAiIF;;AAEDE,kLAnIG,EAqIF;;AAEDE,iLAvIG,EAyIF;;AAEDU,ygBA3IG,EAqKF;;AAEDC,wOAvKG,CAyKF;;AAzKE;AAFM,CAAb;kBA+KenH,M","file":"js/42-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\r\n*报表管理--报表列表\r\n*qiufh@bocspace.cn\r\n*/\r\nimport React from 'react';\r\nimport {Breadcrumb, Table, Tabs, Pagination, ConfigProvider} from 'antd';\r\nimport moment from 'moment';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {observer} from 'mobx-react';\r\nimport * as mobx from 'mobx';\r\nimport BpmStore from '@/store/bpm/BpmStore';\r\nconst {TabPane} = Tabs;\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '50px 0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无任务</p>\r\n\t</div>\r\n);\r\n\r\n@withRouter\r\n@observer\r\nclass MyTask extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.store = new BpmStore();\r\n\t}\r\n\r\n\tstate = {\r\n\t\tactiveKey: '0', // 激活的key,\r\n\t\tbredacrumbItems: [{\"label\": \"项目看板\", \"link\": \"\"}, {\"label\": \"我的任务\", \"link\": \"#/report\"}],\r\n\t\ttotalCount: 0, // 进行中 or  已完成\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadPageInfo();\r\n\t}\r\n\r\n\tloadPageInfo() {\r\n\t\tthis.getIncompleteTask();\r\n\t\tthis.getCompletedTask();\r\n\t}\r\n\r\n\t// 进行中\r\n\tgetIncompleteTask = () => {\r\n\t\tthis.store.currentTaskParams = Object.assign({}, {\r\n\t\t\tstate: 2,\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 10\r\n\t\t});\r\n\t\tthis.store.getCurrentTaskList();\r\n\t}\r\n\r\n\t// 已完成\r\n\tgetCompletedTask = () => {\r\n\t\tthis.store.getListData({\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tstate: 3\r\n\t\t}).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttotalCount: res.totalCount\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tonShowSizeChange = (current, pageSize) => {\r\n\t\tthis.store.currentTaskParams.pageIndex = 1;\r\n\t\tthis.store.currentTaskParams.pageSize = pageSize;\r\n\t\tif (this.state.activeKey == \"0\") {\r\n\t\t\tthis.store.currentTaskParams.state = 2;\r\n\t\t} else {\r\n\t\t\tthis.store.currentTaskParams.state = 3;\r\n\t\t}\r\n\t\tthis.store.getCurrentTaskList();\r\n\t}\r\n\r\n\tonChange = (pageNumber) => {\r\n\t\tthis.store.currentTaskParams.pageIndex = pageNumber;\r\n\t\tthis.store.getCurrentTaskList();\r\n\t}\r\n\r\n\ttabsOnchange = (key) => {\r\n\t\tthis.setState({\r\n\t\t\tactiveKey: key\r\n\t\t}, () => {\r\n\t\t\tthis.store.currentTaskParams = Object.assign(mobx.toJS(this.store.currentTaskParams), {\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t});\r\n\t\t\tif (key == 0) {  // 未完成\r\n\t\t\t\tthis.store.currentTaskParams.state = 2;\r\n\t\t\t\tthis.store.getCurrentTaskList();\r\n\r\n\t\t\t\tthis.store.getListData({\r\n\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tstate: 3\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\ttotalCount: res.totalCount\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.store.currentTaskParams.state = 3;\r\n\t\t\t\tthis.store.getCurrentTaskList();\r\n\r\n\t\t\t\tthis.store.getListData({\r\n\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tstate: 2\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\ttotalCount: res.totalCount\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//返回列表页\r\n\tbackProgressList = () => {\r\n\t\tthis.props.history.push('/bpm/progresslist')\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {bredacrumbItems, activeKey, totalCount} = this.state;\r\n\t\tconst urlObj = {1: 'workdetail', 2: 'labor', 3: 'productdetail', 4: 'exhibition', 5: 'exhibition'};\r\n\t\tlet columns = [\r\n\t\t\t{title: '任务', dataIndex: 'name', align: 'left'},\r\n\t\t\t{title: '所属项目', dataIndex: 'projectName', align: 'left'},\r\n\t\t\t{title: '截止日期', dataIndex: 'endTime', align: 'center', render: (text) => {return (<span>{text == 0 || text == null ? \"\" : moment(text).format(\"YYYY-MM-DD\")}</span>)}},\r\n\t\t\t{title: '完成比例', dataIndex: 'rate', align: 'center', render: (text, record) => {\t\t\t\t\treturn (<span>{text}%</span>)}},\r\n\t\t\t{title: '操作', dataIndex: '', align: 'center',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tlet address = urlObj[record.projectType];\r\n\t\t\t\t\t// pid不为空，子任务需要展开； pid为空，主任务不需要展开\r\n\t\t\t\t\tlet url = record.pid != null ?\r\n\t\t\t\t\t\t`/bpm/${address}?projectid=${record.projectId}&id=${record.id}&pid=${record.pid}&temId=${record.projectType}`\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t`/bpm/${address}?projectid=${record.projectId}&id=${record.id}&temId=${record.projectType}`;\r\n\t\t\t\t\tlet actionName = \"\";\r\n\t\t\t\t\tlet isEdit = \"\";\r\n\t\t\t\t\tif (record.rate >= 100) {\r\n\t\t\t\t\t\tactionName = \"查看\"\r\n\t\t\t\t\t\tisEdit = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tactionName = \"填报\"\r\n\t\t\t\t\t\tisEdit = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (<a onClick={(e) => {\r\n\t\t\t\t\t\tthis.props.history.push(url+\"&isEdit=\"+isEdit)\r\n\t\t\t\t\t}}>{actionName}</a>)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst linkItems = bredacrumbItems.map((item, index) => {\r\n\t\t\tif (index == 1) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t<a href='javascript:void(0)'>{item.label}</a>\r\n\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t<a href='javascript:void(0)' onClick={this.backProgressList}>{item.label}</a>\r\n\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t\tconst {currentTaskTotal, currentTaskList, currentTaskParams} = this.store;\r\n\t\tlet inCom = activeKey == \"0\" ? currentTaskTotal : totalCount; // 进行中\r\n\t\tlet Com = activeKey == \"1\" ? currentTaskTotal : totalCount; // 已完成\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"con_bottom\">\r\n\t\t\t\t\t<Breadcrumb separator=\">\">\r\n\t\t\t\t\t\t{linkItems}\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt20\">\r\n\t\t\t\t\t<Tabs activeKey={activeKey} onChange={this.tabsOnchange}>\r\n\t\t\t\t\t\t<TabPane\r\n\t\t\t\t\t\t\ttab={<span>{'进行中 (' + inCom + ')'}</span>}\r\n\t\t\t\t\t\t\tkey=\"0\">\r\n\t\t\t\t\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\tclassName=\"m_table\"\r\n\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\tdataSource={mobx.toJS(currentTaskList)}\r\n\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt20 tc\"\r\n\t\t\t\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\t\t\t\tonShowSizeChange={this.onShowSizeChange}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\ttotal={currentTaskTotal}\r\n\t\t\t\t\t\t\t\t\tshowQuickJumper\r\n\t\t\t\t\t\t\t\t\tcurrent={mobx.toJS(currentTaskParams).pageIndex}\r\n\t\t\t\t\t\t\t\t\tshowTotal={total => `共 ${total} 条记录`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ConfigProvider>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t<TabPane\r\n\t\t\t\t\t\t\ttab={<span>{'已完成 (' + Com + ')'}</span>}\r\n\t\t\t\t\t\t\tkey=\"1\">\r\n\t\t\t\t\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\tclassName=\"m_table\"\r\n\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\tdataSource={mobx.toJS(currentTaskList)}\r\n\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt20 tc\"\r\n\t\t\t\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\t\t\t\tonShowSizeChange={this.onShowSizeChange}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\ttotal={currentTaskTotal}\r\n\t\t\t\t\t\t\t\t\tshowQuickJumper\r\n\t\t\t\t\t\t\t\t\tcurrent={mobx.toJS(currentTaskParams).pageIndex}\r\n\t\t\t\t\t\t\t\t\tshowTotal={total => `共 ${total} 条记录`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ConfigProvider>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default MyTask\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/bpm/MyTask.js","/*\r\n* 项目看板store\r\n*/\r\nimport {observable, action} from 'mobx';\r\nimport Config from '@/config';\r\nimport {requestPost} from \"@/utils/api\";\r\nimport Schemas from \"@/utils/Schemas/bpm\";\r\nimport moment from 'moment';\r\nimport emitter from \"@/utils/events\";\r\nimport authorizationSchemas from \"@/utils/Schemas/authorization\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport okrSchemas from \"@/utils/Schemas/okr\";\r\n\r\nclass BpmStore {\r\n\t@observable maxHeight=0;\r\n\t@observable projectBoardList = [];  // 项目看板列表(未完成)\r\n\t@observable projectBoardParams = {\r\n\t\tbeginTime: moment().startOf('year').valueOf(),\r\n\t\tendTime:moment().endOf(\"year\").valueOf(),\r\n\t\ttext:''\r\n\t};\r\n    @observable allProjectList = []; // 全部项目明细列表 state 完成100，关闭200 阶段1-7\r\n    @observable allProjectParams = { //明细查询参数\r\n\t\tbeginTime: moment().startOf('year').valueOf(),\r\n\t\tendTime:moment().endOf(\"year\").valueOf(),\r\n\t\ttext:'',\r\n\t\tproducts:[],\r\n\t\tstate:[],\r\n        masterIds:[],\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\t@observable allProjectTotal = 0;\r\n\t@observable myTaskRunningNum = 0;\r\n\t@observable dealyWarnningList = []; //进度延迟预警列表\r\n\r\n    @observable productProportion = []; //产品占比\r\n    @observable topContractAmount = []; //项目订单排名\r\n    @observable currentTaskList = []; //获取当前任务列表\r\n    @observable currentTaskParams = { //获取当前任务列表参数 当前（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t\tstate:1,\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\r\n\t@observable dealyWarnningParams = { //获取当前任务列表参数 当前（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t\tstate:1,\r\n        pageIndex:1,\r\n\t\tpageSize:10\r\n\t};\r\n\t@observable hasMore = true;\r\n\r\n\t@observable currentTaskTotal = 0;\r\n\t//@observable unTaskTotal = 0;  // 未完成\r\n\r\n    @observable deliverRate=null; //交付完成率\r\n\t@observable moneyBackRate=null; //回款完成率\r\n\r\n\t@observable projectStage=[  // 项目的不同阶段\r\n\t\t{\"stageId\":\"1\", \"name\":\"项目信息\"},\r\n\t\t{\"stageId\":\"9\", \"name\":\"项目评估\"},\r\n\t\t{\"stageId\":\"2\", \"name\":\"方案设计\"},\r\n\t\t{\"stageId\":\"3\", \"name\":\"投标准备\"},\r\n\t\t{\"stageId\":\"4\", \"name\":\"合同签订\"},\r\n\t\t{\"stageId\":\"5\", \"name\":\"实施过程\"},\r\n\t\t{\"stageId\":\"6\", \"name\":\"交付验收\"},\r\n\t\t{\"stageId\":\"10\", \"name\":\"实施交付\"},\r\n\t\t{\"stageId\":\"7\", \"name\":\"开票收款\"},\r\n\t\t{\"stageId\":\"8\", \"name\":\"产品设计\"},\r\n\t];\r\n\r\n\t@observable projectStatus=[  // 项目状态\r\n\t\t{\"text\":\"项目信息\", \"value\":\"项目信息\"},\r\n\t\t{\"text\":\"项目评估\", \"value\":\"项目评估\"},\r\n\t\t{\"text\":\"方案设计\", \"value\":\"方案设计\"},\r\n\t\t{\"text\":\"投标准备\", \"value\":\"投标准备\"},\r\n\t\t{\"text\":\"合同签订\", \"value\":\"合同签订\"},\r\n\t\t{\"text\":\"实施过程\", \"value\":\"实施过程\"},\r\n\t\t{\"text\":\"交付验收\", \"value\":\"交付验收\"},\r\n\t\t{\"text\":\"实施交付\", \"value\":\"实施交付\"},\r\n\t\t{\"text\":\"开票收款\", \"value\":\"开票收款\"},\r\n\t\t{\"text\":\"全部完成\", \"value\":\"全部完成\"},\r\n\t\t{\"text\":\"产品设计\", \"value\":\"产品设计\"},\r\n\t\t{\"text\":\"中途关闭\", \"value\":\"中途关闭\"},\r\n\t];\r\n\r\n\t@observable productTyleList = [];\r\n\t@observable masterList = [];\r\n\t@observable masterIds = [];\r\n\t@observable projectBoardListDone = false;\r\n\r\n\r\n    // 项目看板列表(未完成)查询\r\n\t@action\r\n\tgetProjectBoardList() {\r\n\t\treturn requestPost('getProjectBoardList', Config.bpm.getProjectBoardList, Schemas.bpm.getProjectBoardList, this.projectBoardParams).then((res) => {\r\n\t\t\tthis.projectBoardList = Object.assign([], res);\r\n\t\t\tthis.projectBoardListDone = true;\r\n\r\n\t\t});\r\n    }\r\n\r\n    // 全部项目明细列表查询\r\n\t@action\r\n\tgetAllProjectList() {\r\n\t\treturn requestPost('getAllProjectList', Config.bpm.getAllProjectList, Schemas.bpm.getAllProjectList, this.allProjectParams).then((res) => {\r\n\t\t\tthis.allProjectList =  Object.assign([], typeof(res.body)!==\"undefined\" ? res.body.map((item, index)=>{\r\n\t\t\t\treturn item\r\n\t\t\t}):[]);\r\n\t\t\tthis.allProjectParams.pageIndex = res.pageIndex;\r\n\t\t\tthis.allProjectParams.pageSize = res.pageSize;\r\n\t\t\tthis.allProjectTotal = res.totalCount;\r\n\t\t});\r\n    }\r\n\r\n    // 获取产品占比\r\n\t@action\r\n\tgetProductProportion() {\r\n\t\treturn requestPost('getProductProportion', Config.bpm.getProductProportion, Schemas.bpm.getProductProportion).then((res) => {\r\n\t\t\tthis.productProportion = Object.assign([], res);\r\n\t\t});\r\n    }\r\n\r\n    // 获取项目订单排名\r\n\t@action\r\n\tgetTopContractAmountList() {\r\n\t\treturn requestPost('getTopContractAmountList', Config.bpm.getTopContractAmountList, Schemas.bpm.getTopContractAmountList).then((res) => {\r\n\t\t\tthis.topContractAmount = Object.assign([], res);\r\n\t\t});\r\n    }\r\n\r\n    // 获取当前任务（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t@action\r\n\tgetCurrentTaskList() {\r\n\t\treturn requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, this.currentTaskParams).then((res) => {\r\n\t\t\tthis.currentTaskList = Object.assign([], res.body);\r\n\t\t\tif(this.currentTaskParams.state==1) { //进度延迟预警\r\n\t\t\t\tthis.dealyWarnningList = Object.assign([], res.body);\r\n\t\t\t}\r\n\r\n\t\t\t// if(this.currentTaskParams.state==2) {\r\n\t\t\t// \temitter.emit(\"getMytaskNum\", res.totalCount);\r\n\t\t\t// }\r\n\r\n\t\t\tthis.currentTaskParams.pageIndex = res.pageIndex;\r\n\t\t\tthis.currentTaskParams.pageSize = res.pageSize;\r\n\t\t\tthis.currentTaskTotal = res.totalCount;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取当前任务（state1延迟 2我的）任务列表(可以是主也可以是子任务 3 我的完成)\r\n\t@action\r\n\tgetWarnningList() {\r\n\t\treturn requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, this.dealyWarnningParams).then((res) => {\r\n\t\t\tif (res && res['body'].length > 0) {\r\n\t\t\t\tlet tempData = this.dealyWarnningList;\r\n\t\t\t\tthis.dealyWarnningList = tempData.concat(res['body'])\r\n\t\t\t\tthis.dealyWarnningParams.pageIndex = this.dealyWarnningParams.pageIndex+1;\r\n\t\t\t} else {\r\n\t\t\t\tthis.hasMore = false;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n    // 获取进行中/已完成总数\r\n    @action\r\n    getListData(param) {\r\n        return requestPost('getCurrentTaskList', Config.bpm.getCurrentTaskList, Schemas.bpm.getCurrentTaskList, param).then((res) => {\r\n            return res;\r\n        });\r\n    }\r\n\r\n    // 获取交付完成率\r\n\t@action\r\n\tgetDeliverRate() {\r\n\t\treturn requestPost('getDeliverRate', Config.bpm.getDeliverRate, Schemas.bpm.getDeliverRate).then((res) => {\r\n\t\t\tthis.deliverRate = res;\r\n\t\t});\r\n    }\r\n\r\n    // 获取回款完成率\r\n\t@action\r\n\tgetMoneyBackRate() {\r\n\t\treturn requestPost('getMoneyBackRate', Config.bpm.getMoneyBackRate, Schemas.bpm.getMoneyBackRate).then((res) => {\r\n\t\t\tthis.moneyBackRate = res;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取我的任务数\r\n\t@action\r\n\tgetMyTaskCount() {\r\n\t\treturn requestPost('getMyTaskCount', Config.bpm.getMyTaskCount, Schemas.bpm.getMyTaskCount).then((res) => {\r\n\t\t\temitter.emit(\"getMytaskNum\",  res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable products = [];\r\n\t// 获取产品类型\r\n\t@action\r\n\tgetProductTypeList() {\r\n\t\treturn requestPost('getProductTypeList', Config.bpm.getProductTypeList, Schemas.bpm.getProductTypeList).then((res) => {\r\n\t\t\tthis.productTyleList = Object.assign([], res.map(item=>{\r\n\t\t\t\treturn {text:item.typeName, value:item.typeName}\r\n\t\t\t}));\r\n\t\t\tthis.products = Object.assign([], res)\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取负责人列表\r\n\t@action\r\n\tgetMasterList() {\r\n\t\treturn requestPost('getMasterList', Config.bpm.getMasterList, Schemas.bpm.getMasterList).then((res) => {\r\n\t\t\tthis.masterList = Object.assign([], res.map(item=>{\r\n\t\t\t\treturn {text:item.userName, value:item.userName}\r\n\t\t\t}));\r\n\t\t\tthis.masterIds =  Object.assign([], res.map(item=>{\r\n\t\t\t\treturn Object.assign({}, {id:item.userId, typeName:item.userName})\r\n\t\t\t}));\r\n\t\t});\r\n\t}\r\n\r\n\t@observable personList=[];// 人员\r\n\t// 获取人员数据\r\n\t@action\r\n\tgetUserInfoListByRoleCode() {\r\n\t\treturn requestPost('getUserInfoListByRoleCode', Config.authorization.getUserInfoListByRoleCode, authorizationSchemas.authorization.getUserInfoListByRoleCode, {\r\n\t\t\tappId: \"bocspace\",\r\n\t\t\tcode: \"bocspace.group\",\r\n\t\t\tpageIndex: 1,     // 暂时处理\r\n\t\t\tpageSize: 10000,    // 暂时这样处理\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.personList = Object.assign([], res.body);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable projectList= []; //日历项目\r\n\t// 日历项目列表\r\n\t@action\r\n\tgetCalendarProjectList() {\r\n\t\treturn requestPost('getCalendarProjectList', Config.bpm.getCalendarProjectList, Schemas.bpm.getCalendarProjectList, {}).then((res)=>{\r\n\t\t\tthis.projectList = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable yearMonth = ''; // 当前月份\r\n\t@observable personMonthTask = []\r\n\t// 人员列表\r\n\t@action\r\n\tgetPersonMonthTaskState(param) {\r\n\t\treturn requestPost('getPersonMonthTaskState', Config.bpm.getPersonMonthTaskState, Schemas.bpm.getPersonMonthTaskState, {\r\n\t\t\tyearMonth: this.yearMonth,\r\n\t\t\tuserId: param\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.personMonthTask = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable projectStages = []; // 项目信息\r\n\t// 获取项目全部状态信息通过ids\r\n\t@action\r\n\tgetProjectStagesByIds(param) {\r\n\t\treturn requestPost('getProjectStagesByIds', Config.bpm.getProjectStagesByIds, Schemas.bpm.getProjectStagesByIds, {\r\n\t\t\tyearMonth: this.yearMonth,\r\n\t\t\tprojectIds: param\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.projectStages = Object.assign([], res.data==null?[]:res.data);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取钉钉的部门\r\n\t@action\r\n\tgetDepartment() {\r\n\t\treturn requestPost('getDepartment', Config.authorization.getDepartment, authorizationSchemas.authorization.getDepartment, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tpid: '1'\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取钉钉部门的用户列表\r\n\t@action\r\n\tgetUserInfoListByDingtalk(param) {\r\n\t\treturn requestPost('getUserInfoListByDingtalk', Config.authorization.getUserInfoListByDingtalk, authorizationSchemas.authorization.getUserInfoListByDingtalk, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 100,\r\n\t\t\tdepId: param\r\n\t\t});\r\n\t}\r\n    // 获取全部部门与人员\r\n\t@action\r\n\tgetDepartmentAndUsers(name) {\r\n\t\treturn requestPost('getDepartmentAndUsers', Config.authorization.getDepartmentAndUsers, authorizationSchemas.authorization.getDepartmentAndUsers, {\r\n\t\t\tappid: 'bocspace',\r\n\t\t\tname: name\r\n\t\t});\r\n\t}\r\n\r\n\t@observable personParams = {  // 参数\r\n\t\tids: [],\r\n\t\tbeginTime: moment().startOf('day').valueOf(),\r\n\t    endTime: moment().endOf(\"day\").valueOf()\r\n\t}\r\n\t@observable personResources = []; // 日程数据\r\n\t// 人员日程排期\r\n\t@action\r\n\tgetPersonScheduleResources() {\r\n\t\treturn requestPost('getPersonScheduleResources', Config.bpm.getPersonScheduleResources, Schemas.bpm.getPersonScheduleResources, Object.assign({}, this.personParams))\r\n\t\t\t  .then((res)=>{\r\n\t\t\t\t  this.personResources = Object.assign([], res.data==null?[]:res.data);\r\n\t\t\t  });\r\n\t}\r\n\r\n\t@observable state = [];\r\n\t// 获取产品类型\r\n\t@action\r\n\tgetAllStages() {\r\n\t\treturn requestPost('getAllStages', Config.bpm.getAllStages, Schemas.bpm.getAllStages).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tthis.state = Object.assign([], res.map((item)=> {\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttypeName: item.stageName\r\n\t\t\t\t\t})\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@observable ossData = {\r\n\t\t\"securityToken\": \"\",\r\n\t\t\"accessKeyId\": \"\",\r\n\t\t\"accessKeySecret\": \"\",\r\n\t\t\"expiration\": null\r\n\t}; // 阿里云上传参数\r\n\r\n\t// 获取大文件上传sts\r\n\tgetSts() {\r\n\t\treturn requestPost('getSts', Config.bpm.getSts, bpmSchemas.bpm.getSts, {})\r\n\t\t.then((res) => {\r\n\t\t\tlet str = typeof res == \"string\" ? JSON.parse(res) : res;\r\n\t\t\tif (str) {\r\n\t\t\t\tthis.ossData = Object.assign({}, str);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@observable weeksData = []; // 当年所有的周数据\r\n\t@observable activeweeks = {}; // 当前周\r\n\t@observable userId = \"\"; // 人员id\r\n\t@observable userName = \"\"; // 人员name\r\n\t@observable weekData = []; // 当前周数据\r\n\t@observable monthData = []; // 当前月数据\r\n\t@observable seasonData = []; // 当前季数据\r\n\t@observable yearData = []; // 当前年数据\r\n\t@observable defaultWeeksData = []; // 当前周数据默认\r\n\t@observable okrAtts = []; // okr附件\r\n\t@observable okrComments = []; // okr评论\r\n\r\n\t// 返回查询年的周数据\r\n\tgetWeeks(param) {\r\n\t\treturn requestPost('getWeeks', Config.okr.getWeeks, okrSchemas.okr.getWeeks, {\r\n\t\t\tyear: param\r\n\t\t})\r\n\t}\r\n\r\n    // 获取周明细\r\n\tgetWeekDetails(param) {\r\n\t\treturn requestPost('getWeekDetails', Config.okr.getWeekDetails, okrSchemas.okr.getWeekDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.weekData = Object.assign([], res);\r\n\t\t\tthis.defaultWeeksData = Object.assign([], res);;\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取月明细\r\n\tgetMonthDetails(param) {\r\n\t\treturn requestPost('getMonthDetails', Config.okr.getMonthDetails, okrSchemas.okr.getMonthDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.monthData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取季明细\r\n\tgetSeasonDetails(param) {\r\n\t\treturn requestPost('getSeasonDetails', Config.okr.getSeasonDetails, okrSchemas.okr.getSeasonDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.seasonData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取年明细\r\n\tgetYearDetails(param) {\r\n\t\treturn requestPost('getYearDetails', Config.okr.getYearDetails, okrSchemas.okr.getYearDetails, {\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.yearData = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存周明细\r\n\tsaveWeekDetails() {\r\n\t\treturn requestPost('saveWeekDetails', Config.okr.saveWeekDetails, okrSchemas.okr.saveWeekDetails, {\r\n\t\t\tlist: this.weekData,\r\n\t\t\tcode: this.activeweeks.id,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存月明细\r\n\tsaveMonthDetails() {\r\n\t\treturn requestPost('saveMonthDetails', Config.okr.saveMonthDetails, okrSchemas.okr.saveMonthDetails,{\r\n\t\t\tlist: this.monthData,\r\n\t\t\tcode: this.activeweeks.month,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存季明细\r\n\tsaveSeasonDetails(param) {\r\n\t\treturn requestPost('saveSeasonDetails', Config.okr.saveSeasonDetails, okrSchemas.okr.saveSeasonDetails, {\r\n\t\t\tlist: this.seasonData,\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存年明细\r\n\tsaveYearDetails(param) {\r\n\t\treturn requestPost('saveYearDetails', Config.okr.saveYearDetails, okrSchemas.okr.saveYearDetails, {\r\n\t\t\tlist: this.yearData,\r\n\t\t\tcode: param,\r\n\t\t\tuserId: this.userId\r\n\t\t})\r\n\t}\r\n\r\n\t// 获取评论的附件列表\r\n\tgetAtts(params) {\r\n\t\treturn requestPost('getAtts', Config.okr.getAtts, okrSchemas.okr.getAtts, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.okrAtts = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取评论内容\r\n\tgetComments(params) {\r\n\t\treturn requestPost('getComments', Config.okr.getComments, okrSchemas.okr.getComments, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId\r\n\t\t}).then((res)=>{\r\n\t\t\tthis.okrComments = Object.assign([], res);\r\n\t\t});\r\n\t}\r\n\r\n\t// 保存附件\r\n\tsaveAtt(params) {\r\n\t\treturn requestPost('saveAtts', Config.okr.saveAtts, okrSchemas.okr.saveAtts, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tattachments: params.attachments\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存评论\r\n\tsaveComment(params) {\r\n\t\treturn requestPost('saveComment', Config.okr.saveComment, okrSchemas.okr.saveComment, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tcomment: params.comment\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除附件\r\n\tdelAtt(params) {\r\n\t\treturn requestPost('delAtt', Config.okr.delAtt, okrSchemas.okr.delAtt, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tattachmentId: params.attachmentId\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除评论\r\n\tdelComment(params) {\r\n\t\treturn requestPost('delComment', Config.okr.delComment, okrSchemas.okr.delComment, {\r\n\t\t\ttype: params.type,\r\n\t\t\tcode: params.code,\r\n\t\t\tuserId: this.userId,\r\n\t\t\tcommentId: params.commentId\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default BpmStore;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/bpm/BpmStore.js","let Config = {\r\n// OKR评定系统\r\n  okr: {\r\n    getWeeks: `query($year: Int) {\r\n\t\tgetWeeks(year: $year)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tname\r\n\t\t\tmonth\r\n\t\t\tmonthName\r\n\t\t\tisDefault\r\n\t\t\tweekMonthName\r\n\t\t}\r\n\t}`, // 返回查询年的周数据\r\n\r\n    getWeekDetails: `query($code: Int, $userId: String) {\r\n\t\tgetWeekDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tweekId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tkeyResult\r\n\t\t\tworkItems\r\n\t\t\tassociationDescription\r\n\t\t\tresults\r\n\t\t}\r\n\t}`, // 获取周明细\r\n\r\n    getMonthDetails: `query($code: Int, $userId: String) {\r\n\t\tgetMonthDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tmonthId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tkeyResult\r\n\t\t\tworkItems\r\n\t\t\tassociationDescription\r\n\t\t\tresults\r\n\t\t}\r\n\t}`, // 获取月明细\r\n\r\n    getSeasonDetails: `query($code: Int, $userId: String) {\r\n\t\tgetSeasonDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tseasonId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tobjective\r\n\t\t\tuniformity\r\n\t\t\tkeyResult\r\n\t\t\tdepend\r\n\t\t\tdependencyDescription\r\n\t\t\tconfidenceLevel\r\n\t\t\tcompletion\r\n\t\t\tscore\r\n\t\t}\r\n\t}`, // 获取季明细\r\n\r\n    getYearDetails: `query($code: Int, $userId: String) {\r\n\t\tgetYearDetails(code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\tyearId\r\n\t\t\tuserId\r\n\t\t\torders\r\n\t\t\tobjective\r\n\t\t\tuniformity\r\n\t\t\tkeyResult\r\n\t\t\tdepend\r\n\t\t\tdependencyDescription\r\n\t\t\tconfidenceLevel\r\n\t\t\tcompletion\r\n\t\t\tscore\r\n\t\t}\r\n\t}`, // 获取年明细\r\n\r\n    saveWeekDetails: `mutation($list: [InputWeekDetail], $code: Int, $userId: String) {\r\n\t\tsaveWeekDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存周明细\r\n\r\n    saveMonthDetails: `mutation($list: [InputMonthDetail], $code: Int, $userId: String) {\r\n\t\tsaveMonthDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存月明细\r\n\r\n    saveSeasonDetails: `mutation($list: [InputSeasonDetail], $code: Int, $userId: String) {\r\n\t\tsaveSeasonDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存季明细\r\n\r\n    saveYearDetails: `mutation($list: [InputYearDetail], $code: Int, $userId: String) {\r\n\t\tsaveYearDetails(list: $list, code: $code, userId: $userId)\r\n\t}`, // 保存年明细\r\n\r\n    getAtts: `query($type: String, $code: Int, $userId: String) {\r\n\t\tgetAtts(type: $type, code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\ttype\r\n\t\t\ttypeId\r\n\t\t\ttypeUserId\r\n\t\t\tuserId\r\n\t\t\tfileId\r\n\t\t\tfileName\r\n\t\t\tfileType\r\n\t\t\tfilePath\r\n\t\t\tcreateTime\r\n\t\t}\r\n\t}`, // 获取评论的附件列表\r\n\r\n    getComments: `query($type: String, $code: Int, $userId: String) {\r\n\t\tgetComments(type: $type, code: $code, userId: $userId)\r\n\t\t\t{\r\n\t\t\tid\r\n\t\t\ttype\r\n\t\t\ttypeId\r\n\t\t\ttypeUserId\r\n\t\t\tuserId\r\n\t\t\ttext\r\n\t\t\tcreateTime\r\n\t\t\tuserName\r\n\t\t}\r\n\t}`, // 获取评论内容\r\n\r\n    saveAtts: `mutation($type: String, $code: Int, $userId: String, $attachments: [InputAttachment]) {\r\n\t\tsaveAtts(type: $type, code: $code, userId: $userId, attachments: $attachments)\r\n\t}`, // 保存附件\r\n\r\n    saveComment: `mutation($type: String, $code: Int, $userId: String, $comment: InputComment) {\r\n\t\tsaveComment(type: $type, code: $code, userId: $userId, comment: $comment)\r\n\t}`, // 保存评论\r\n\r\n    delAtt: `mutation($type: String, $code: Int, $userId: String, $attachmentId: String) {\r\n\t\tdelAtt(type: $type, code: $code, userId: $userId, attachmentId: $attachmentId)\r\n\t}`, // 删除附件\r\n\r\n    delComment: `mutation($type: String, $code: Int, $userId: String, $commentId: String) {\r\n\t\tdelComment(type: $type, code: $code, userId: $userId, commentId: $commentId)\r\n\t}`, // 删除评论\r\n\r\n    getWeekAndMonthDetails: `query($weekCode: Int, $userId: String) {\r\n\t\tgetWeekAndMonthDetails(weekCode: $weekCode, userId: $userId)\r\n\t\t{\r\n\t\t\tweekDetail\r\n\t\t\t{\r\n\t\t\t\tid\r\n\t\t\t\tweekId\r\n\t\t\t\tuserId\r\n\t\t\t\torders\r\n\t\t\t\tkeyResult\r\n\t\t\t\tworkItems\r\n\t\t\t\tassociationDescription\r\n\t\t\t\tresults\r\n\t\t\t}\r\n\t\t\tmonthDetail\r\n\t\t\t{\r\n\t\t\t\tid\r\n\t\t\t\tmonthId\r\n\t\t\t\tuserId\r\n\t\t\t\torders\r\n\t\t\t\tkeyResult\r\n\t\t\t\tworkItems\r\n\t\t\t\tassociationDescription\r\n\t\t\t\tresults\r\n\t\t\t}\r\n\t\t}\r\n\t}`, // 获取周和月明细\r\n\r\n    saveWeekAndMonthDetails: `mutation($weeks: [InputWeekDetail], $months: [InputMonthDetail], $weekCode: Int, $userId: String) {\r\n\t\tsaveWeekAndMonthDetails(weeks: $weeks, months: $months, weekCode: $weekCode, userId: $userId)\r\n\t}`, // 保存周月明细\r\n\r\n  }\r\n}\r\nexport default Config;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/Schemas/okr.js"],"sourceRoot":""}