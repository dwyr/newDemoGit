{"version":3,"sources":["webpack:///./src/components/common/MyUpload.js","webpack:///./src/components/digitalOrg/EditeVisit.js","webpack:///./src/components/digitalOrg/CommentList.js","webpack:///./src/components/digitalOrg/DigitalComment.js","webpack:///./src/components/digitalOrg/CommonEmail2.js","webpack:///./src/components/digitalOrg/DetailForm.js","webpack:///./src/components/digitalOrg/DetailFormMonthlySharing.js","webpack:///./src/components/digitalOrg/DetailFormNews.js","webpack:///./src/components/digitalOrg/DetailFormReplay.js","webpack:///./src/components/digitalOrg/DetailFormSummary.js","webpack:///./src/components/digitalOrg/DetailFormVisit.js","webpack:///./src/components/digitalOrg/DetailFormWeekReport.js","webpack:///./src/components/digitalOrg/EditeMeeting.js","webpack:///./src/components/digitalOrg/PersonEdit.js","webpack:///./src/components/digitalOrg/DetailFormFactoryreport.js","webpack:///./src/components/digitalOrg/DetailModal.js","webpack:///./src/components/digitalOrg/DetailOfficeModal.js","webpack:///./src/components/digitalOrg/DigtalList.js","webpack:///./src/containers/digitalOrg/Index.js"],"names":["client","self","token","state","oss","accessKeyId","access_key_id","accessKeySecret","access_key_secret","stsToken","region","bucket","endpoint","OSS_ENDPOINT","uploadPath","path","file","format","uid","name","UploadToOss","url","Promise","resolve","reject","multipartUpload","then","data","catch","error","MyUpload","observer","props","getDocumentUrl","Config","journal","journalSchemas","handleChange","info","status","fileList","oldFileList","JSON","parse","stringify","filter","newFileList","map","originFileObj","host","Object","assign","fileId","fileName","filePath","id","undefined","array","saveAttachment","changeSrc","res","obj","beforeUpload","accept","acceptDefault","type","split","includes","message","warn","isLt2M","size","setState","loading","journalType","store","reader","FileReader","readAsDataURL","onloadend","handlePreview","test","previewImage","previewVisible","isAssetTypeAnImage","ext","indexOf","toLowerCase","getExt","index","lastIndexOf","substr","imageArray","item","src","alt","downloadUrl","visible","activeIndex","findIndex","handleCancel","isImage","downloadImage","onDownload","x","XMLHttpRequest","open","responseType","onload","e","response","send","cancel","appStore","nextProps","ossData","securityToken","bpm","getSts","bpmSchemas","str","multiple","disabled","length","onChange","listType","onPreview","showUploadList","showDownloadIcon","uploadButton","position","top","right","fontSize","color","minHeight","bind","backgroundSize","width","maxHeight","toolbars","key","concat","render","onClick","activeImage","React","Component","mobx","EditeVisit","saveDraft","child","handleSubmit","onClose","onRef","ref","updateState","_this","pathname","draftId","timer","setInterval","saveAuto","clearInterval","formItemLayout","labelCol","xs","span","sm","wrapperCol","detailData","temType","toJS","handleDraftRoute","handleRoute","getTable","onCancle","collapsed","isWeekShow","marginRight","CommentList","handleZan","addOrDelLike","success","getLikeUsersByJournalId","handCollection","addOrDelCollection","getJournalIndicators","handleVisibleChange","handleEdit","getSharedEditingList","Array","isArray","title","editvisible","param","scrollToAnchor","getLikeUsers","getComments","journalIndicators","username","localStorage","getItem","isLike","userName","haveCollection","userId","isShow","isWeek","viewCount","utils","TextArea","Input","Editor","handleClick","onSubmit","submitting","value","display","justifyContent","Editor2","ExampleComment","setTimeout","addComment","selestedId","pid","params","text","mainId","pUserId","reset","target","onDel","delComment","createTime","children","parentUserName","DigitalComment","getCommentsByJournalId","clearState","callback","renderTreeNodes","comments","readUsers","treeData","formatList","paddingLeft","textAlign","marginLeft","join","CommonEmail2","getReportUrl","isLoading","journalMain","pdfName","timer22","getDownloadUrl","code","creatWord","wordDownload","pdfDownload","sendReport","emails","userIds","checks","ccEmails","ccUserIds","isemailUserIds","isemails","attType","Number","sendEmail","handleOpen","handleOk","checkedValues","tip","options","label","listStyle","Text","Typography","DetailForm","onAsync","remove","customList","addAssignments","splice","handleAdd","some","userInformations","updatePerson","fields","detail","handleAddNew","handleCalc","audioSrc","clickChange","hanndleChangeEdit","changeCanEdit","userid","isEdit","Modal","warning","handleCancle","appendAliyundata","base64","audioKey","appendToAliyunData","base64Data","aliyunAppendData","nextPosition","reSetAliyundata","newAddignments","formItemLayoutWithOutLabel","offset","formItemLayoutLabel","journalSub","Base64","decode","assignments","sub","atts","attachments","vitem","vindex","audio","dropDown","preventDefault","cursor","zIndex","maxWidth","tags","time","hours","place","people","__html","content","conclusion","isSync","hasJournal","paddingTop","borderBottom","margin","DetailFormNew","formTailLayout","cases","introspection","DetailFormNews","DetailFormReplay","assessmentResult","analyzeReason","summarizeLaw","DetailFormSummary","DetailFormVisit","company","project","address","ourPeople","fontWeight","visitPeoples","phone","purpose","process","promise","DetailFormWeekReport","canEdit","isJeks","oldTime","valueOf","isOld","beginTime","endTime","weekContent","detailBusiness","detailFactory","detailDigital","detailProducts","corporateGovernance","monthlyWorkBoard","departmentZhglzx2021","departmentGnyxzx2021","departmentCxyxzx2021","departmentXmglzx2021","departmentCpyfzx2021","departmentSczzzx2021","projectBoard","departmentProduct","departmentSolution","departmentMarket","departmentStrategic","departmentSupport","EditeMeeting","handleNumChange","onDateChange","date","dateString","handleBChange","editorState","handleAttment","arr","push","audioStatus","temList","attcs","numTime","newTime","encode","saveJournalByType","saveType","emitter","emit","journalAudio","form","validateFields","err","values","cancelJournal","resetFields","init","toHTML","setFieldsValue","updateAudioStaus","onRefAudio","newArray","ContentUtils","insertMedias","onChangeAttc","keys","tagList","excludeControls","disabledDate","current","getFieldDecorator","imageControls","height","initialValue","rules","required","minRows","fontFamily","marginBottom","minWidth","editForm","Form","create","_","colorList","PersonEdit","defaultDatas","defaultData","oldSelect","v","selected","dataArray","users","saveSharedEditing","handClick","dindex","handClickDel","trim","handleClickDebounce","filterData","getData","debounce","nextContext","UserStore","getRole","body","realname","isFilter","activeData","station","email","marginTop","borderLeft","backgroundColor","verticalAlign","slice","DetailFormFactoryreport","factoryBuild","productionLine","productsTechnologies","operationalSupport","board","DetailModal","withRouter","syncAssignment","saveAssignments","getJournalById","DetailOfficeModal","officeArray","customizeRenderEmpty","padding","EditableContext","createContext","EditableRow","EditableFormRow","EditableCell","editing","toggleEdit","input","focus","save","record","handleSave","currentTarget","saveDate","hasOwnProperty","showStatus","onBlur","disabledEndDate","endValue","numberChange","renderCell","dataIndex","node","maxRows","paddingRight","numberTostring","progress","editable","restProps","DigtalList","changeHeight","tabpaneDivClientHeight","document","getElementById","clientHeight","tableHeight","onShowSizeChange","pageSize","queryParms","pageIndex","getAssignmentPageList","pageNumber","handleDelete","delAssignment","getMyInfo","showDrawer","relationType","officeStore","getJournalTypeList","digtalTemData","relationId","visibleOffic","onChangeState","newData","checked","handleSearch","confirm","handleReset","clearFilters","getColumnSearchProps","filterDropdown","typeName","filterIcon","filtered","onFilter","onFilterDropdownVisibleChange","val","handleChangeOrder","pagination","filters","sorter","sortVlaue","field","sortedInfo","order","ordervalue","orderType","saveAssignment","row","showTextStatus","OfficeManageStore","window","addEventListener","removeEventListener","tableData","totalCount","listLoading","columns","align","ellipsis","wordWrap","whiteSpace","a","b","sortOrder","columnKey","completeTime","components","cell","cols","col","onCell","total","Search","chinese","transHours","hour","Index","onSearch","location","protocol","origin","DigtalOrgStore","getUserPermissionByAppCode","getAssignmentUser","getJournalTagList","myInfo","myINFO","pageHeaderContent","department","extraContent","todoCount","overCount","journalCount","day"],"mappings":"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","file":"js/1-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\r\n* 大文件上传组件\r\n* */\r\nimport React from \"react\";\r\nimport {Upload, Icon, message, Modal} from 'antd';\r\nimport oss from 'ali-oss';\r\nimport moment from 'moment';\r\nimport Viewer from 'react-viewer';\r\nimport Config from '@/config';\r\nimport {requestPost} from \"@/utils/api\";\r\nimport journalSchemas from \"@/utils/Schemas/journal\";\r\nimport {downloadFile, download} from \"@/utils/download\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\n\r\nconst client = (self) => {\r\n\tconst {token} = self.state\r\n\t// ali-oss v6.x版本的写法\r\n\treturn new oss({\r\n\t\taccessKeyId: token.access_key_id,\r\n\t\taccessKeySecret: token.access_key_secret,\r\n\t\tstsToken: token.stsToken,\r\n\t\tregion: token.region, //\r\n\t\tbucket: token.bucket,//\r\n\t\tendpoint: token.OSS_ENDPOINT\r\n\t});\r\n};\r\n\r\nconst uploadPath = (path, file) => {\r\n\t// 上传文件的路径，使用日期命名文件目录\r\n\treturn `${moment().format('YYYYMMDD')}/${file.uid}/${file.name}`\r\n}\r\n\r\nconst UploadToOss = (self, path, file) => {\r\n\tconst url = uploadPath(path, file)\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tclient(self).multipartUpload(url, file).then(data => {\r\n\t\t\tresolve(data); //上传成功后返回的上传结果，?后面的都去掉就能正常访问了\r\n\t\t}).catch(error => {\r\n\t\t\treject(error)\r\n\t\t})\r\n\t})\r\n}\r\n\r\n@inject('appStore')\r\n@observer\r\nclass MyUpload extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.appStore;\r\n\t\tthis.state = {\r\n\t\t\tfileList: this.props.fileList,\r\n\t\t\tloading: false,\r\n\t\t\ttoken: {\r\n\t\t\t\taccess_key_id: '', // oss的key_id\r\n\t\t\t\taccess_key_secret: '', // oss的secret\r\n\t\t\t\tstsToken: '',\r\n\t\t\t\tregion: 'oss-cn-beijing', // oss的region\r\n\t\t\t\tbucket: 'xinlj', // oss的bucket\r\n\t\t\t\tOSS_ENDPOINT: 'oss-cn-beijing.aliyuncs.com',  // 自己oss服务器的配置信息\r\n\t\t\t},\r\n\t\t\thost: 'https://xinlj.oss-cn-beijing.aliyuncs.com/', // 阿里云host\r\n\t\t\tpreviewVisible: false,\r\n\t\t\tpreviewImage: '',\r\n\t\t\tname: \"\",\r\n\t\t\tfilePath: \"\",\r\n\t\t\tvisible: false,\r\n\t\t\timageArray: [], // 图片预览\r\n\t\t\tactiveIndex: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.fileList) != JSON.stringify(this.props.fileList)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfileList: nextProps.fileList.map((file)=>{\r\n\t\t\t\t\tif (/\\.(doc|docx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/word_default.png'\r\n\t\t\t\t\t} else if (/\\.(xls|xlsx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/exel_default.png'\r\n\t\t\t\t\t} else if (/\\.(pdf)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/pdf.svg'\r\n\t\t\t\t\t} else if (/\\.(zip|rar)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/zip_default.png'\r\n\t\t\t\t\t} else if (/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/ppt.png'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet url = file.url;\r\n\t\t\t\t\t\tif (url.includes(\"oss-cn-beijing.aliyuncs.com\")) {  // 判断图片时oss上传的\r\n\t\t\t\t\t\t\tif (url.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\t\t\t\turl = url.split(\"?\")[0];\r\n\t\t\t\t\t\t\t\tfile.url = url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfile.url = file.url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfile.url = file.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn file;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (JSON.stringify(nextProps.ossData) != JSON.stringify(this.props.ossData)) {\r\n\t\t\tlet token = JSON.parse(JSON.stringify(this.state.token));\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: Object.assign(token, {\r\n\t\t\t\t\taccess_key_id: nextProps.ossData.accessKeyId, // oss的key_id\r\n\t\t\t\t\taccess_key_secret: nextProps.ossData.accessKeySecret, // oss的secret\r\n\t\t\t\t\tstsToken: nextProps.ossData.securityToken\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.journalType) {\r\n\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t}\r\n\t\tif (this.props.fileList) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfileList: this.props.fileList.map((file)=>{\r\n\t\t\t\t\tif (/\\.(doc|docx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/word_default.png'\r\n\t\t\t\t\t} else if (/\\.(xls|xlsx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/exel_default.png'\r\n\t\t\t\t\t} else if (/\\.(pdf)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/pdf.svg'\r\n\t\t\t\t\t} else if (/\\.(zip|rar)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/zip_default.png'\r\n\t\t\t\t\t} else if (/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/ppt.png'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet url = file.url;\r\n\t\t\t\t\t\tif (url.includes(\"oss-cn-beijing.aliyuncs.com\")) {  // 判断图片时oss上传的\r\n\t\t\t\t\t\t\tif (url.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\t\t\t\turl = url.split(\"?\")[0];\r\n\t\t\t\t\t\t\t\tfile.url = url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfile.url = file.url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfile.url = file.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn file;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// 阿里云上传参数\r\n\t\trequestPost('getSts', Config.bpm.getSts, bpmSchemas.bpm.getSts, {})\r\n\t\t.then((res)=>{\r\n\t\t\tlet str = typeof res ==\"string\"?JSON.parse(res):res;\r\n\t\t\tif (str) {\r\n\t\t\t\tlet token = JSON.parse(JSON.stringify(this.state.token));\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttoken: Object.assign(token, {\r\n\t\t\t\t\t\taccess_key_id: str.accessKeyId,\r\n\t\t\t\t\t\taccess_key_secret: str.accessKeySecret,\r\n\t\t\t\t\t\tstsToken: str.securityToken\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetDocumentUrl = (url) => {\r\n\t\treturn requestPost('getDocumentUrl', Config.journal.getDocumentUrl, journalSchemas.journal.getDocumentUrl, {url: url})\r\n\t}\r\n\r\n\t// 只用做删除操作\r\n\thandleChange = (info) => {\r\n\t\tconst status = info.file.status;\r\n\r\n\t\t// 记录新上传的\r\n\t\tlet fileList = [...info.fileList];\r\n\t\tlet oldFileList = JSON.parse(JSON.stringify(fileList)).filter((file) => {\r\n\t\t\treturn file.status && file.status === 'done';\r\n\t\t});  // 之前保存过的\r\n\t\tlet newFileList = JSON.parse(JSON.stringify(fileList));\r\n\t\tnewFileList = newFileList.filter((file) => {\r\n\t\t\tif (file.status && file.status === 'done') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tnewFileList = newFileList.map(file => {\r\n\t\t\tif (file.originFileObj) {\r\n\t\t\t\tconst url = this.state.host + uploadPath('path', file);\r\n\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tfileId: null,\r\n\t\t\t\t\tfileName: file.name,\r\n\t\t\t\t\tfilePath: url,\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t});\r\n\t\tif (status == undefined) {\r\n\t\t\t// 处理附件\r\n\t\t\t/*let array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.setState({\r\n\t\t\t\tloading: true\r\n\t\t\t});\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\t_this.props.saveAttachment(array);\r\n\t\t\t\t_this.setState({\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t}, 3000);*/\r\n\t\t} else if (status === \"removed\") {   // 删除\r\n\t\t\t/*let id = info.file.id;\r\n\t\t\tif (id !== \"\" || id !== null) { // 删除已有的\r\n\t\t\t\t// this.props.delNode(id);\r\n\t\t\t}*/\r\n\t\t\tlet array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\t\tthis.props.saveAttachment(array);\r\n\t\t}\r\n\t}\r\n\r\n\t// 更新url\r\n\tchangeSrc = (res, file) => {\r\n\t\tconst {fileList, host} = this.state;\r\n\t\tlet oldFileList = JSON.parse(JSON.stringify(fileList));\r\n\r\n\t\tconst url = host + uploadPath('path', file);\r\n\t\tlet obj = Object.assign({}, {\r\n\t\t\tuid: file.uid,\r\n\t\t\tname: file.name,\r\n\t\t\tstatus: \"done\",\r\n\t\t\turl: url,\r\n\t\t\tfileId: null,\r\n\t\t\tfileName: file.name,\r\n\t\t\tfilePath: url,\r\n\t\t\tid: \"\",\r\n\t\t});\r\n\t\tlet newFileList = [obj];\r\n\r\n\t\t// 处理附件\r\n\t\tlet array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\tthis.props.saveAttachment(array);\r\n\t}\r\n\r\n\tbeforeUpload = (file) => {\r\n\t\tconst {accept} = this.props;\r\n\t\tconst acceptDefault = \".jpg,.jpeg,.gif,.png,.bmp,.doc,.docx,.xlsx,.xls,.pdf,.ppt,.pptx\";  // 默认值限制格式\r\n\t\tif (accept==undefined) {  // 没有传参数\r\n\t\t\tconst type = file.type.split(\"/\")[1];\r\n\t\t\t//console.log(accept, file.type, type, 'accept')\r\n\t\t\tif (!acceptDefault.includes(type)) {\r\n                //message.warn(\"格式不对\");\r\n\t\t\t\t//return false;\r\n\t\t\t}\r\n\t\t} else {   // 外部传参数\r\n\t\t\tconst type = file.type.split(\"/\")[1];\r\n\t\t\tif (!accept.includes(type)) {\r\n\t\t\t\tmessage.warn(\"格式不对, 只允许上传图片\");\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst isLt2M = file.size / 1024 / 1024 < 2000;\r\n\t\tif (!isLt2M) {\r\n\t\t\tmessage.error('Image must smaller than 2MB!');\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tloading: true\r\n\t\t}, ()=>{\r\n\t\t\tif (this.props.journalType) {\r\n\t\t\t\tthis.store.journal = true; // 记录一次\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onloadend = () => {\r\n\t\t\t// 使用ossupload覆盖默认的上传方法\r\n\t\t\tUploadToOss(this, '上传路径oss配置信息', file)\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data;\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\t// 处理地址\r\n\t\t\t\tconst {res} = data;\r\n\t\t\t\tif (res.status&&res.status==200) {  // 单个文件上传成功\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tif (this.props.journalType) {\r\n\t\t\t\t\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.changeSrc(res, file);\r\n\t\t\t\t}\r\n\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tmessage.error(\"文件上传失败\");\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tif (this.props.journalType) {\r\n\t\t\t\t\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn false; // 不调用默认的上传方法\r\n\t}\r\n\r\n\thandlePreview = async file => {\r\n\t\t// 文档\r\n\t\tif (/\\.(doc|docx)$/.test(file.name)||/\\.(xls|xlsx)$/.test(file.name)||/\\.(pdf)$/.test(file.name)||/\\.(zip|rar)$/.test(file.name)||/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\tthis.getDocumentUrl(file.filePath).then((res)=>{\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpreviewImage: res,\r\n\t\t\t\t\tpreviewVisible: true,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tfilePath: file.filePath\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}  else {  // 图片、音频\r\n\t\t\t// 文件类型判断\r\n\t\t\tfunction isAssetTypeAnImage(ext) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'].\r\n\t\t\t\tindexOf(ext.toLowerCase()) !== -1;\r\n\t\t\t}\r\n\r\n\t\t\t//获取后缀\r\n\t\t\tfunction getExt(filePath) {\r\n\t\t\t\t// 去掉url的问号\r\n\t\t\t\tif (filePath.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\tfilePath = filePath.split(\"?\")[0];\r\n\t\t\t\t}\r\n\t\t\t\t//获取最后一个.的位置\r\n\t\t\t\tlet index= filePath.lastIndexOf(\".\");\r\n\t\t\t\t//获取后缀\r\n\t\t\t\tlet ext = filePath.substr(index+1);\r\n\t\t\t\treturn ext;\r\n\t\t\t}\r\n\r\n\t\t\tif (isAssetTypeAnImage(getExt(file.filePath))) {  // 判断是图片\r\n\t\t\t\tconst fileList = JSON.parse(JSON.stringify(this.state.fileList));\r\n\t\t\t\tlet imageArray;\r\n\t\t\t\timageArray = fileList.filter((item)=>isAssetTypeAnImage(getExt(item.filePath))).map((item)=>{\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tsrc: item.filePath,\r\n\t\t\t\t\t\talt: item.name,\r\n\t\t\t\t\t\tdownloadUrl: item.filePath\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\timageArray: Object.assign([], imageArray),\r\n\t\t\t\t\tactiveIndex: imageArray.findIndex((item)=>item.src==file.filePath)\r\n\t\t\t\t});\r\n\t\t\t} else {   // 音频\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpreviewImage: file.filePath,\r\n\t\t\t\t\tpreviewVisible: true,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tfilePath: file.filePath\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleCancel = (type) => this.setState({[type]: false});\r\n\r\n\t// 手动下载\r\n\tdownloadUrl = () => {\r\n\t\tconst {filePath, name} = this.state;\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\t\tif (isImage) {\r\n\t\t\tdownloadFile(filePath, name);  // 直接下载pdf\r\n\t\t} else {\r\n\t\t\tthis.downloadImage(filePath, name);\r\n\t\t}\r\n\t}\r\n\r\n\t// 预览下载\r\n\tonDownload = (file) => {\r\n\t\tconst {filePath, name} = file;\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\t\tif (isImage) {\r\n\t\t\tdownloadFile(filePath, name);  // 直接下载pdf\r\n\t\t} else {\r\n\t\t\tthis.downloadImage(filePath, name);\r\n\t\t}\r\n\t}\r\n\r\n\t// 直接下载\r\n\tdownloadImage = (filePath, name) => {\r\n        //获取最后一个.的位置\r\n\t\tvar index= filePath.lastIndexOf(\".\");\r\n\t\t//获取后缀\r\n\t\tvar ext = filePath.substr(index+1);\r\n\r\n\t\t// 直接下载图片\r\n\t\tvar x=new XMLHttpRequest();\r\n\t\tx.open(\"GET\", filePath, true);\r\n\t\tx.responseType = 'blob';\r\n\t\tx.onload=function(e){download(x.response, name, \"image/\"+ext);}\r\n\t\tx.send();\r\n\t}\r\n\r\n\t// 取消上传\r\n\tcancel =  () =>{\r\n\t\tthis.setState({\r\n\t\t\tloading: false,\r\n\t\t}, ()=>{\r\n\t\t\tif (this.props.journalType) {\r\n\t\t\t\tthis.store.journal = false; // 清楚记录\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {previewVisible, previewImage, fileList , name, loading, visible, imageArray, activeIndex} = this.state;\r\n\t\tconst {multiple, disabled,accept, length} = this.props;\r\n\t\tconst acceptDefault = \".jpg,.jpeg,.gif,.png,.bmp,.doc,.docx,.xlsx,.xls,.pdf,.ppt,.pptx\";  // 默认值限制格式\r\n\t\tconst props = {\r\n\t\t\taccept: accept==undefined?acceptDefault:accept,\r\n\t\t\tname: 'file',\r\n\t\t\tmultiple: multiple,\r\n\t\t\tonChange: this.handleChange,\r\n\t\t\tbeforeUpload: this.beforeUpload,\r\n\t\t\tdisabled: disabled,\r\n\t\t\tlistType: \"picture-card\",\r\n\t\t\tonPreview: this.handlePreview,\r\n\t\t\tonDownload: this.onDownload,\r\n\t\t\tshowUploadList: {\r\n\t\t\t\tshowDownloadIcon: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst uploadButton = (\r\n\t\t\t<div className=\"pr\">\r\n\t\t\t\t<Icon type={loading?\"loading\":\"plus\"} />\r\n\t\t\t\t{loading?<div className=\"ant-upload-text\">上传中</div>:null}\r\n\t\t\t\t{loading?<Icon type=\"stop\"\r\n\t\t\t\t               title=\"取消上传\"\r\n\t\t\t\t               style={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '-39px',\r\n\t\t\t\t\tright: '-22px',\r\n\t\t\t\t\tfontSize: '15px',\r\n\t\t\t\t\tcolor: '#1890ff'\r\n\t\t\t\t}} onClick={this.cancel}/>:null}\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\r\n\t    return (\r\n\t\t\t<div className=\"affairs_upload\">\r\n\t\t\t\t<Upload {...props} fileList={fileList}>\r\n\t\t\t\t\t{disabled||length>=\"1\"?null:uploadButton}\r\n\t\t\t\t</Upload>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={<div>{name}\r\n\t\t\t\t\t\t<a href=\"javascript:;\" onClick={this.downloadUrl}>下载</a>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tstyle={{minHeight: '450px'}}\r\n\t\t\t\t\tvisible={previewVisible}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t\tonCancel={this.handleCancel.bind(this, 'previewVisible')}>\r\n\t\t\t\t\t{isImage?<iframe\r\n\t\t\t\t\t\tsrc={previewImage}\r\n\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\tstyle={{minHeight: '450px'}}\r\n\t\t\t\t\t\tframeBorder='1'>\r\n\t\t\t\t\t</iframe>:<img style={{ backgroundSize: 'conver',width: '100%', maxHeight: '400px' }} src={previewImage} alt=\"\" />}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Viewer\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonClose={this.handleCancel.bind(this, 'visible')}\r\n\t\t\t\t\timages={imageArray}\r\n\t\t\t\t\tactiveIndex={activeIndex}\r\n\t\t\t\t\tdownloadable={true}\r\n\t\t\t\t\tcustomToolbar={(toolbars) => {\r\n\t\t\t\t\t\treturn toolbars.filter(item=>item.key!==\"download\").concat([\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"download\",\r\n\t\t\t\t\t\t\t\trender: (<div><i className=\"react-viewer-icon react-viewer-icon-download\"></i></div>),\r\n\t\t\t\t\t\t\t\tonClick: (activeImage) => {\r\n\t\t\t\t\t\t\t\t\tconst {src, alt} = activeImage;\r\n\t\t\t\t\t\t\t\t\tthis.downloadImage(src, alt);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MyUpload;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/MyUpload.js","/*\r\n* 编辑表单\r\n* 2020-07-21\r\n* dangw@bocspace.com\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Form, Button, message, Popconfirm} from 'antd';\r\nimport * as  mobx from 'mobx';\r\nimport EditeFormVisit from './EditeFormVisit';\r\nimport EditeFormMonthlySharing from './EditeFormMonthlySharing';\r\nimport EditeFormSummary from './EditeFormSummary';\r\nimport EditeFormReplay from './EditeFormReplay';\r\nimport EditeFormNews from './EditeFormNews';\r\nimport EditeFormWeekreport from './EditeFormWeekreport';\r\nimport EditeFormFactoryreport from './EditeFormFactoryreport';\r\n\r\n@inject('appStore')\r\n@observer\r\nclass EditeVisit extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tloading: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet _this = this;\r\n\t\tlet {pathname} = _this.props;\r\n\t\tif (pathname&&pathname.includes(\"/digital/draft\")&&_this.store.draftId!=\"\") {\r\n\t\t\t// 定时器\r\n\t\t\t_this.timer = setInterval(() => {\r\n\t\t\t\t// 心跳接口 30s跳动一个\r\n\t\t\t\t_this.child.saveAuto(0);\r\n\t\t\t}, 30000);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t\t// 页面离开时清楚定时器\r\n\t\tthis.timer&&clearInterval(this.timer);\r\n\t\tthis.timer = null;\r\n\t}\r\n\r\n\tsaveDraft = () => {\r\n\t\tthis.child.saveDraft();\r\n\t}\r\n\r\n\thandleSubmit = ()=> {\r\n\t\tthis.child.handleSubmit();\r\n\t}\r\n\r\n\tonClose = () => {\r\n\t\tthis.child.onClose();\r\n\t}\r\n\r\n\tonRef = (ref) => {\r\n\t\tthis.child = ref\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: data\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tlet {detailData, temType} = this.props;\r\n\t\tconst {loading} = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t{temType==\"visit\"? <EditeFormVisit\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"monthlySharing\"? <EditeFormMonthlySharing\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"summary\"? <EditeFormSummary\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"replay\"? <EditeFormReplay\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"news\"? <EditeFormNews\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"weekreport\"? <EditeFormWeekreport\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType==\"factoryreport\"? <EditeFormFactoryreport\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\tonCancle={this.props.onCancle}\r\n\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\tsm: {span: 24}\r\n\t\t\t\t\t}}\r\n                    className=\"clearfix tr mt20 pl20 pr20 fixed_bottom\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: this.props.appStore.collapsed?\"calc(100% - 470px)\":\" calc(100% - 590px)\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.isWeekShow!=undefined&&this.props.isWeekShow==false?null:<Button className=\"fl\"\r\n\t\t\t\t\t\t                                                                            shape=\"round\"\r\n\t\t\t\t\t\t                                                                            style={{\r\n\t\t\t\t\t\t\t                                                                            position: 'relative',\r\n\t\t\t\t\t\t\t                                                                            top: '4px'\r\n\t\t\t\t\t\t                                                                            }}\r\n\t\t\t\t\t\t                                                                            type=\"primary\"\r\n\t\t\t\t\t\t                                                                            onClick={this.saveDraft}>\r\n\t\t\t\t\t\t\t保存草稿\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消本次编辑吗?\" onConfirm={() => this.onClose()}>\r\n\t\t\t\t\t\t<Button shape=\"round\" style={{marginRight: 8}}>\r\n\t\t\t\t\t\t\t返回\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t<Button shape=\"round\"\r\n\t\t\t\t\t        loading={loading}\r\n\t\t\t\t\t        onClick={this.handleSubmit}\r\n\t\t\t\t\t        type=\"primary\">\r\n\t\t\t\t\t\t提交发布\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\nexport default EditeVisit;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/EditeVisit.js","/*\r\n* 评论、点赞、浏览量\r\n* dangwei@bocspace.com\r\n* */\r\nimport React, {Component} from \"react\";\r\nimport { Icon, Tooltip, message, Button, Popover, Spin } from 'antd';\r\nimport {inject, observer} from 'mobx-react';\r\nimport * as  mobx from 'mobx';\r\nimport CommonEmail2 from \"@/components/digitalOrg/CommonEmail2\";\r\nimport PersonEdit from \"@/components/digitalOrg/PersonEdit\";\r\n\r\n@observer\r\nexport default class CommentList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\ttitle: \"添加共享人\",\r\n\t\t\teditvisible: false,\r\n\t\t\tdata: [],\r\n\t\t\tloading: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\t// 点赞\r\n\thandleZan = () =>{\r\n\t\tthis.store.addOrDelLike()\r\n\t\t.then((res)=>{\r\n\t\t\tif (res==true) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t// 更新点赞\r\n\t\t\t\tthis.store.getLikeUsersByJournalId();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 收藏\r\n\thandCollection = () =>{\r\n\t\tthis.store.addOrDelCollection()\r\n\t\t.then((res)=>{\r\n\t\t\tif (res==true) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t// 更新点赞\r\n\t\t\t\tthis.store.getJournalIndicators();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\thandleVisibleChange = visible => {\r\n\t\tthis.setState({ visible });\r\n\t};\r\n\r\n\t// 定位\r\n\tscrollToAnchor(key) {\r\n\t\tconst {scrollToAnchor} = this.props;\r\n\t\tscrollToAnchor(key);\r\n\t}\r\n\r\n\t// 共享编辑\r\n\thandleEdit = () => {\r\n\t\tthis.store.getSharedEditingList().then((res)=>{\r\n\t\t\tif (res==null||(Array.isArray(res)&&res.length==0)) {\r\n\t\t\t\tthis.setState({\r\n                   title: \"添加共享人\",\r\n\t\t\t\t   editvisible: true,\r\n\t\t\t\t   data: res==null?[]: res\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttitle: \"编辑共享人\",\r\n\t\t\t\t\teditvisible: true,\r\n\t\t\t\t\tdata: res==null?[]: res\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClose = (type, param) =>{\r\n\t\tthis.setState({\r\n\t\t\t[type]: param\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, param) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: param\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {getLikeUsers, getComments, journalIndicators, } = this.store;\r\n\t\tconst username = localStorage.getItem('username');\r\n\t\tconst isLike = mobx.toJS(getLikeUsers).filter(item=>item.userName==username).length>0?true:false;\r\n\t\tconst {haveCollection} = mobx.toJS(journalIndicators);\r\n\t\tconst {pathname, detailData, isWeekShow, userId} = this.props;\r\n\t\tconst isShow = pathname!==undefined&&pathname==\"/digital/office\"?true:false;\r\n\t\tconst {editvisible, title, data, loading} = this.state;\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isWeek = isWeekShow==undefined?false:isWeekShow!=undefined&&(isWeekShow);\r\n\r\n\t\treturn (<span>\r\n\t\t\t   <Tooltip title=\"评论\">\r\n                  <Icon type=\"message\" className=\"commentlist_icon\" onClick={this.scrollToAnchor.bind(this, \"commentlist\")}/>\r\n                </Tooltip> <span className=\"commentlist_title\">{mobx.toJS(getComments).length}</span>\r\n\t\t\t\t<Tooltip title=\"点赞\">\r\n\t\t\t\t\t{isLike?<Icon type=\"like\" theme=\"filled\" className=\"commentlist_icon pointer\" onClick={this.handleZan}/>: <Icon type=\"like\" className=\"commentlist_icon pointer\" onClick={this.handleZan}/>}\r\n\t                </Tooltip><span className=\"commentlist_title\">{mobx.toJS(getLikeUsers).length}</span>\r\n\t\t\t\t<Tooltip title=\"已读\">\r\n\t                 <Icon type=\"eye\" className=\"commentlist_icon\"/>\r\n\t            </Tooltip><span className=\"commentlist_title\">{mobx.toJS(journalIndicators).viewCount||0}</span>\r\n\t\t\t\t{!isShow?<Tooltip title={\"收藏\"}>\r\n\t\t\t\t\t<Icon theme={haveCollection==1?\"filled\":\"\"} type=\"star\" className=\"commentlist_icon pointer\" onClick={this.handCollection}/>\r\n\t\t\t\t</Tooltip>:null}\r\n\t\t\t\t<Popover\r\n\t\t\t\t\toverlayClassName=\"digital_popver\"\r\n\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\tcontent={<CommonEmail2\r\n\t\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tstore={this.store} />}\r\n\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonVisibleChange={this.handleVisibleChange}\r\n\t\t\t\t>\r\n\t               <Button className=\"ml10\" type=\"link\">分享</Button>\r\n\t            </Popover>\r\n\t\t\t   {isWeek?<Button type=\"link\" onClick={this.handleEdit}>共享编辑</Button>:null}\r\n\t\t\t     <PersonEdit\r\n\t\t\t       title={title}\r\n\t\t\t       visible={editvisible}\r\n\t\t\t       onClose={this.onClose.bind(this, \"editvisible\", false)}\r\n\t\t\t       data={data}\r\n\t\t\t       store={this.store}\r\n\t\t\t     />\r\n              <Spin wrapperClassName=\"dib\" tip=\"正在生成,请稍等...\" spinning={loading} />\r\n\t\t\t</span>);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/CommentList.js","/*\r\n* 评论组件\r\n* dangw@bocspace.com\r\n* */\r\nimport React from 'react';\r\nimport { Comment, Avatar, Form, Button, Input,Icon, Tooltip, message } from 'antd';\r\nimport moment from 'moment';\r\nimport {inject, observer} from 'mobx-react';\r\nimport * as  mobx from 'mobx';\r\nimport * as utils from \"@/utils/utils\";\r\n\r\nconst { TextArea } = Input;\r\nconst Editor = ({handleClick, onChange, onSubmit, submitting, value }) => (\r\n\t<div>\r\n\t\t<Form.Item>\r\n\t\t\t<TextArea rows={4} onChange={onChange} value={value} placeholder=\"\"/>\r\n\t\t</Form.Item>\r\n\t\t<div  style={{\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t}}>\r\n\t\t\t<Button type=\"link\" onClick={handleClick} style={{fontSize: '12px'}}>\r\n\t\t\t\t取消回复\r\n\t\t\t</Button>\r\n\t\t\t<Button htmlType=\"submit\" loading={submitting} onClick={value==null||value==\"\"?null:onSubmit} type=\"primary\">\r\n\t\t\t\t发布\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t</div>\r\n);\r\nconst Editor2 = ({ onChange, onSubmit, submitting, value }) => (\r\n\t<div className=\"mt20\">\r\n\t\t<Form.Item>\r\n\t\t\t<TextArea rows={4} onChange={onChange} value={value} placeholder=\"\"/>\r\n\t\t</Form.Item>\r\n\t\t<Form.Item className=\"tr\">\r\n\t\t\t<Button htmlType=\"submit\" loading={submitting} onClick={value==null||value==\"\"?null:onSubmit} type=\"primary\">\r\n\t\t\t\t发布\r\n\t\t\t</Button>\r\n\t\t</Form.Item>\r\n\t</div>\r\n);\r\n\r\n// 封装组件\r\nclass ExampleComment extends React.Component {\r\n\tstate = {\r\n\t\tsubmitting: false,\r\n\t\tvalue: '',\r\n\t\tvisible: false,\r\n\t};\r\n\thandleSubmit = () => {\r\n\t\tif (!this.state.value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tsubmitting: true,\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst { addComment, selestedId, id, userId, pid} = this.props;\r\n\t\t\tconst params = {\r\n\t\t\t\ttext: this.state.value,\r\n\t\t\t\tmainId: selestedId,\r\n\t\t\t\tpid: pid==null?id:pid,\r\n\t\t\t\tpUserId: userId\r\n\t\t\t}\r\n\t\t\taddComment(params, ()=>{\r\n               this.reset();\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t};\r\n\thandleChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tvalue: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: !this.state.visible\r\n\t\t});\r\n\t}\r\n\treset = () => {\r\n\t\tthis.setState({\r\n\t\t\tsubmitting: false,\r\n\t\t\tvalue: '',\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t}\r\n\t// 删除\r\n\tonDel = () => {\r\n\t\tconst {delComment, id} = this.props;\r\n\t\tconst params = {\r\n\t\t\tid: id\r\n\t\t}\r\n\t\tdelComment(params, ()=>{\r\n\t\t\tthis.reset();\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tsubmitting,\r\n\t\t\tvisible\r\n\t\t} = this.state;\r\n\t\tconst {text, userName, createTime, children,pid, parentUserName} = this.props;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = userName==username;\r\n\t\treturn (<Comment\r\n\t\t\t\tclassName={pid==null?\"comment_normal\":\"comment_normal comment_active\"}\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<span key=\"comment-nested-delete\" className=\"comment-nested\">\r\n\t\t\t\t\t\t{createTime==null?\"2020-08-04\":moment(createTime).format(\"YYYY-MM-DD HH:mm:ss\")}\r\n\t\t\t\t\t    <span className={isShow?\"comment-nested-delete\":\"hidden\"} onClick={this.onDel}>&nbsp;·&nbsp;删除</span>\r\n\t\t\t\t\t</span>,\r\n\t\t\t\t\t<span key=\"comment-nested-reply-to\" style={{color: \"#1890ff\"}} onClick={this.handleClick}>回复</span>]}\r\n\t\t\t\tauthor={<a>{userName}</a>}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsrc=\"./images/logo_new.png\"\r\n\t\t\t\t\t\talt=\"Han Solo\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tcontent={\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{parentUserName==null||parentUserName==\"\"?null:`回复${parentUserName}:`} {text}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{visible?<Editor\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonSubmit={this.handleSubmit}\r\n\t\t\t\t\tsubmitting={submitting}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\thandleClick={this.handleClick}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{children}\r\n\t\t\t</Comment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n@observer\r\nclass DigitalComment extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tcomments: [],\r\n\t\t\tsubmitting: false,\r\n\t\t\tvalue: '',\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tif (!this.state.value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tsubmitting: true,\r\n\t\t});\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst params = {\r\n\t\t\t\ttext: this.state.value,\r\n\t\t\t\tmainId: this.store.selestedId,\r\n\t\t\t\tpid: null\r\n\t\t\t}\r\n\t\t\tthis.store.addComment(params).then((res)=>{\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"评论成功\");\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tsubmitting: false,\r\n\t\t\t\t\t\tvalue: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 更新评论\r\n\t\t\t\t\tthis.store.getCommentsByJournalId();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\thandleChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tvalue: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tclearState = () => {\r\n\t\tthis.setState({\r\n\t\t\tsubmitting: false,\r\n\t\t\tvalue: ''\r\n\t\t});\r\n\t}\r\n\r\n\t// 添加评论\r\n\taddComment = (params, callback) => {\r\n\t\t this.store.addComment(params).then((res)=>{\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"评论成功\");\r\n\t\t\t\t// 更新评论\r\n\t\t\t\tthis.store.getCommentsByJournalId();\r\n\t\t\t\tif(callback) callback();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除评论\r\n\tdelComment = (params, callback) => {\r\n\t\tthis.store.delComment(params).then((res)=>{\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t// 更新评论\r\n\t\t\t\tthis.store.getCommentsByJournalId();\r\n\t\t\t\tif(callback) callback();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trenderTreeNodes = data =>\r\n\t\tdata.map(item => {\r\n\t\t\tif (item.children) {\r\n\t\t\t\treturn (<ExampleComment key={item.id} {...item} addComment={this.addComment} delComment={this.delComment} selestedId={this.store.selestedId}>\r\n\t\t\t\t\t\t{this.renderTreeNodes(item.children)}\r\n\t\t\t\t\t</ExampleComment>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn <ExampleComment key={item.id} {...item} addComment={this.addComment} delComment={this.delComment} selestedId={this.store.selestedId}/>;\r\n\t\t});\r\n\r\n\t// 点赞\r\n\thandleZan = () =>{\r\n\t\tthis.store.addOrDelLike()\r\n\t\t.then((res)=>{\r\n\t\t\tif (res==true) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t// 更新点赞\r\n\t\t\t\tthis.store.getLikeUsersByJournalId();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { submitting, value } = this.state;\r\n\t\tconst {getLikeUsers, getComments, readUsers} = this.store;\r\n\t\tconst treeData = utils.formatList(mobx.toJS(getComments));\r\n\t\tconst username = localStorage.getItem('username');\r\n\t\tconst isLike = mobx.toJS(getLikeUsers).filter(item=>item.userName==username).length>0?true:false;\r\n\t\treturn (\r\n\t\t\t<div className=\"detail_form_bold\" style={{paddingLeft: '14px'}}>\r\n\t\t\t\t<div className=\"commentlist_title\" style={{textAlign: 'left'}}>\r\n\t\t\t\t\t<Tooltip title=\"点赞\">\r\n\t\t\t\t\t\t{isLike?<Icon theme=\"filled\" type=\"like\" style={{marginLeft: '0'}} className=\"commentlist_icon pointer mr20\" onClick={this.handleZan}/>:<Icon type=\"like\" style={{marginLeft: '0'}} className=\"commentlist_icon pointer mr20\" onClick={this.handleZan}/>}\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{mobx.toJS(getLikeUsers).length>0?mobx.toJS(getLikeUsers).map((item)=>item.userName).join(\"、\"):null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"commentlist_title\" style={{textAlign: 'left'}}>\r\n\t\t\t\t\t<Tooltip title=\"已读\">\r\n\t\t\t\t\t\t<Icon theme=\"filled\" type=\"eye\" style={{marginLeft: '0'}} className=\"commentlist_icon pointer mr20\" />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{mobx.toJS(readUsers).length>0?mobx.toJS(readUsers).map((item)=>item.userName).join(\"、\"):null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"commentlist\" className=\"detail_form_bold_title\" style={{textAlign: 'left'}}>评论</div>\r\n\t\t\t\t<Editor2\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonSubmit={this.handleSubmit}\r\n\t\t\t\t\tsubmitting={submitting}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.renderTreeNodes(treeData)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DigitalComment;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DigitalComment.js","/*\r\n* 内容生成、邮件发送\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {message, Spin, Button,Modal, Checkbox, Row, Col} from 'antd';\r\nimport {inject, observer} from 'mobx-react'\r\nimport * as mobx from 'mobx';\r\nimport EditableTagEmail2 from \"@/components/digitalOrg/EditableTagEmail2\";\r\nimport PersonAdd2 from \"@/components/worktile/PersonAdd\";\r\nimport {downloadFile} from \"@/utils/download\";\r\n\r\n@inject('appStore')\r\n@observer\r\nclass CommonEmail2 extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\ttip: \"正在生成，请稍等...\",\r\n\t\t\tisLoading: false,\r\n\t\t\temails: [], // 邮件\r\n\t\t\tuserIds:[], // 用户,\r\n\t\t\tvisible: false,\r\n\t\t\tchecks: [],\r\n\t\t\tccEmails: [], // 抄送邮件\r\n\t\t\tccUserIds: [], // 抄送用户\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t}\r\n\r\n\t// 间隔3秒获取pdf地址\r\n\tgetReportUrl = (id) => {\r\n\t\tlet _this = this;\r\n\t\t_this.setState({\r\n\t\t\tisLoading: true\r\n\t\t});\r\n\t\t_this.props.updateState(\"loading\", true);\r\n\t\tconst detailData = mobx.toJS(_this.props.detailData);\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst pdfName = journalMain.title;\r\n\r\n\t\t_this.timer22 = setInterval(() => {\r\n\t\t\t_this.store.getDownloadUrl(id).then((res) => {\r\n\t\t\t\tconst {url} = res;\r\n\t\t\t\tif (url !== null && url !== \"\") {\r\n\t\t\t\t\t_this.setState({\r\n\t\t\t\t\t\tisLoading: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.props.updateState(\"loading\", false);\r\n\t\t\t\t\tdownloadFile(url, pdfName);  // 直接下载pdf\r\n\t\t\t\t\tclearInterval(_this.timer22);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (res.code == 2) {\r\n\t\t\t\t\t\t_this.setState({\r\n\t\t\t\t\t\t\tisLoading: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.props.updateState(\"loading\", false);\r\n\t\t\t\t\t\tclearInterval(_this.timer22);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\t// 生成word\r\n\tcreatWord = (type) =>{\r\n\t\tconst {detailData} = this.props;\r\n\t\tconst param = mobx.toJS(detailData);\r\n\t\tif (type==1) {\r\n\t\t\tthis.store.wordDownload(param)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.getReportUrl(res);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.store.pdfDownload(param)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.getReportUrl(res);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// 发送邮件\r\n\tsendReport = () => {\r\n\t\tlet _this = this;\r\n\t\tconst {emails, userIds, checks, ccEmails, ccUserIds} = _this.state;\r\n\t\tconst isemailUserIds = userIds == null ? [] : userIds;\r\n\t\tconst isemails = emails == null ? [] : emails;\r\n\t\t// 选择收件人\r\n\t\tif (isemailUserIds.length == 0 && isemails.length == 0) {\r\n\t\t\tmessage.warn(\"请先选择邮件收件人\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst {detailData} = this.props;\r\n\t\tconst params = {\r\n\t\t\tjournal: mobx.toJS(detailData),\r\n\t\t\temails: emails,\r\n\t\t\tuserIds: userIds == null ? [] : userIds.map(item => item.userId),\r\n\t\t\tattType: checks.map(item=>typeof item ==\"string\"?Number(item):item),\r\n\t\t\tccEmails,\r\n\t\t\tccUserIds: ccUserIds == null ? [] : ccUserIds.map(item => item.userId),\r\n\t\t}\r\n\t\tthis.store.sendEmail(params)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res == true) {\r\n\t\t\t\t\tmessage.success(\"邮件发送成功\");\r\n\t\t\t\t\tthis.reset();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tthis.setState({\r\n\t\t\temails: [], // 邮件\r\n\t\t\tuserIds:[], // 用户\r\n\t\t\tisLoading: false,\r\n\t\t\tvisible: false,\r\n\t\t\tchecks: [],\r\n\t\t\tccEmails: [], // 抄送邮件\r\n\t\t\tccUserIds: [], // 抄送用户\r\n\t\t});\r\n\t}\r\n\r\n\thandleOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleOk = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (checkedValues) =>{\r\n\t\tthis.setState({\r\n\t\t\tchecks: checkedValues\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {tip, isLoading, emails, userIds, checks, ccEmails, ccUserIds} = this.state;\r\n\t\tconst options = [\r\n\t\t\t{ label: '附件Word', value: '0' },\r\n\t\t\t{ label: '附件PDF', value: '1' }\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li style={{\r\n\t\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\t\ttextAlign: 'left'\r\n\t\t\t\t\t}}><Button type=\"link\" onClick={isLoading?null:this.creatWord.bind(this, \"1\")}>点击生成并存储为Word文档</Button></li>\r\n\t\t\t\t\t<li style={{\r\n\t\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\t\ttextAlign: 'left'\r\n\t\t\t\t\t}}><Button type=\"link\" onClick={isLoading?null:this.creatWord.bind(this, \"2\")}>点击生成并存储为PDF文档</Button></li>\r\n\t\t\t\t\t<li style={{\r\n\t\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\t\ttextAlign: 'left'\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<Button type=\"link\" onClick={isLoading?null:this.handleOpen}>点击发送邮件</Button>\r\n\t\t\t\t\t\t<Checkbox.Group\r\n\t\t\t\t\t\t\tvalue={checks}\r\n\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t{/*发送邮件*/}\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\twidth=\"600px\"\r\n\t\t\t\t\tzIndex={\"1066\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonCancel={this.reset}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t<span style={{marginRight:'5px'}}>\r\n\t\t\t\t\t\t\t\t收件人：\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<EditableTagEmail2\r\n\t\t\t\t\t\t\t\tdata={emails}\r\n\t\t\t\t\t\t\t\tupdateState={this.updateState.bind(this, 'emails')}\r\n\t\t\t\t\t\t\t\ttitle={\"添加收件人\"}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<PersonAdd2\r\n\t\t\t\t\t\t\t\tdata={userIds}\r\n\t\t\t\t\t\t\t\tupdatePerson={this.updateState.bind(this, 'userIds')}\r\n\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\ttitle={\"添加收件人\"}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={24} className=\"mt15\">\r\n\t\t\t\t\t\t\t<span style={{marginRight:'5px'}}>\r\n\t\t\t\t\t\t\t\t抄送人：\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<EditableTagEmail2\r\n\t\t\t\t\t\t\t\tdata={ccEmails}\r\n\t\t\t\t\t\t\t\tupdateState={this.updateState.bind(this, 'ccEmails')}\r\n\t\t\t\t\t\t\t\ttitle={\"添加抄送人\"}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<PersonAdd2\r\n\t\t\t\t\t\t\t\tdata={ccUserIds}\r\n\t\t\t\t\t\t\t\tupdatePerson={this.updateState.bind(this, 'ccUserIds')}\r\n\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\ttitle={\"添加抄送人\"}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"w tc mt15\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={this.sendReport}>点击发送邮件</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CommonEmail2;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/CommonEmail2.js","/*\r\n* 详情表单\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport EditeMeeting from \"@/components/digitalOrg/EditeMeeting\";\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.store = this.props.store;\r\n    this.state = {\r\n      addAssignments: [],\r\n      newAddignments: [],\r\n      audioSrc:  \"\",\r\n      fileName: \"\",\r\n      isEdit: false,  // 默认详情态\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n      this.setState({\r\n        newAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n        addAssignments: [],\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onRef(this);\r\n  }\r\n\r\n  // 同步\r\n  onAsync = (type, id, index) => {\r\n    this.props.onAsync(type, id, index);\r\n  }\r\n\r\n  // 删除字段\r\n  remove = (index) => {\r\n    let customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n    customList.splice(index, 1);\r\n    this.setState({\r\n      addAssignments: Object.assign([], customList)\r\n    });\r\n  };\r\n\r\n  handleAdd = () => {\r\n    let customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n    if (customList.some((item) => {\r\n      return item.name == \"\" || item.name == null;\r\n    })) {\r\n      message.warn(\"任务名是必填项\");\r\n      return false;\r\n    }\r\n    if (customList.some((item) => {\r\n      return item.userInformations.length == 0\r\n    })) {\r\n      message.warn(\"负责人是必填项\");\r\n      return false;\r\n    }\r\n    this.setState({\r\n      addAssignments: [...customList, {\r\n        \"name\": \"\",\r\n        \"userInformations\": [],\r\n      }]\r\n    });\r\n  }\r\n\r\n  updateState = (type, data) => {\r\n    this.setState({\r\n      [type]: Object.assign([], data)\r\n    });\r\n  }\r\n\r\n  // 人员选择更新\r\n  updatePerson = (index, userIds) => {\r\n    let fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n    fields[index].userInformations = Object.assign([], userIds)\r\n    this.setState({\r\n      addAssignments: fields\r\n    });\r\n  }\r\n\r\n  onChange = (index, e) => {\r\n    let fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n    fields[index].name = e.target.value;\r\n    this.setState({\r\n      addAssignments: fields\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const {addAssignments} = this.state;\r\n    // 校验下一步\r\n    if (!addAssignments.some((item) => {\r\n      return (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n    })) {\r\n      if (addAssignments.some((item) => {\r\n        return item.name == \"\" || item.name == null;\r\n      })) {\r\n        message.warn(\"任务名是必填项\");\r\n        return false;\r\n      }\r\n      if (addAssignments.some((item) => {\r\n        return item.userInformations.length == 0\r\n      })) {\r\n        message.warn(\"负责人是必填项\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    const detail = addAssignments.filter((item)=>{\r\n      return !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n    }).map(item=>Object.assign(item, {type: 1}))\r\n\r\n    /*let {detailData} = this.props;\r\n\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t});\r\n*/\r\n    this.props.handleAddNew(detail);\r\n  }\r\n\r\n  // 取消\r\n  handleCalc = () => {\r\n    this.setState({\r\n      addAssignments: Object.assign([]),\r\n      audioSrc: \"\",\r\n      fileName: \"\"\r\n    });\r\n  }\r\n\r\n  clickChange = (e) => {\r\n    const {item} = e.item.props;\r\n    this.setState({\r\n      audioSrc: item.filePath,\r\n      fileName: item.fileName\r\n    });\r\n  }\r\n\r\n  // 切换编辑\r\n  hanndleChangeEdit = () => {\r\n    this.store.changeCanEdit()\r\n    .then((res)=>{\r\n      // 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n      if (res) {\r\n        const {userId, userName} = res;\r\n        const userid = localStorage.getItem(\"userid\");\r\n        if (userId==userid) {\r\n          this.setState({\r\n            isEdit: !this.state.isEdit\r\n          }, ()=>{\r\n            this.store.isEdit = this.state.isEdit;\r\n          });\r\n        } else {\r\n          Modal.warning({\r\n            title: userName+'正在编辑中'\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // 取消\r\n  handleCancle = () => {\r\n    this.setState({\r\n      isEdit: !this.state.isEdit\r\n    }, ()=>{\r\n      this.store.isEdit = this.state.isEdit;\r\n    });\r\n  }\r\n\r\n  onRef = (ref) => {\r\n    this.child = ref\r\n  }\r\n\r\n  appendAliyundata=(base64, audioKey) => {\r\n\t\tthis.store.appendToAliyunData({base64Data:base64, key:audioKey, position:this.store.aliyunAppendData.nextPosition})\r\n  }\r\n\r\n  reSetAliyundata = ()=>{\r\n\t\tthis.store.aliyunAppendData = {\r\n\t\t\tid:'',\r\n\t\t\tposition:0,\r\n\t\t\tnextPosition:0,\r\n\t\t\tkey:'',\r\n\t\t\tsuccess:0\r\n\t\t}\r\n\t}\r\n\r\n  render() {\r\n    const formItemLayoutWithOutLabel = {\r\n      wrapperCol: {\r\n        xs: {span: 24, offset: 0},\r\n        sm: {span: 20, offset: 0},\r\n      }\r\n    };\r\n    const formItemLayoutLabel = {\r\n      wrapperCol: {\r\n        xs: {span: 24, offset: 0},\r\n        sm: {span: 20, offset: 3},\r\n      }\r\n    };\r\n    let {detailData,visible} = this.props;\r\n    const journalMain = detailData.journalMain || {};\r\n    const journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n    const assignments = detailData.assignments || [];\r\n    const sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n    const atts = detailData.atts == null ? [] : detailData.atts;\r\n    const attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n      return Object.assign({}, {\r\n        uid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n        name: vitem.fileName,\r\n        status: 'done',\r\n        url: vitem.filePath,\r\n        fileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n        fileName:vitem.fileName,\r\n        filePath: vitem.filePath,\r\n        id: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n      })\r\n    })\r\n    const audio = detailData.audio==null?[]:detailData.audio;\r\n    const {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n    const {isEdit} = this.store;\r\n    const dropDown = (\r\n        <Dropdown\r\n            overlay={<Menu>\r\n              {audio.map((item,index)=>{\r\n                return <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n              })}\r\n            </Menu>}>\r\n          <a className=\"ant-dropdown-link\"\r\n             style={{position: \"absolute\", right: 0,top: 0 }}\r\n             onClick={e => e.preventDefault()}>\r\n            {audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n          </a>\r\n        </Dropdown>\r\n    );\r\n    const username = localStorage.getItem(\"username\");\r\n    // 当前行是否有修改权限\r\n    let isShow = journalMain.userName==username;\r\n\r\n    return (<div className=\"w pr\">\r\n          <div style={{\r\n            cursor: 'pointer',\r\n            position: 'absolute',\r\n            right: '0',\r\n            top: '0',\r\n            zIndex: '5'\r\n          }}>\r\n            {!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n          </div>\r\n          {/*详情态*/}\r\n          {!isEdit? <Form {...formItemLayoutWithOutLabel}>\r\n            <Form.Item colon={false} className=\"detail_form_bold\">\r\n              <div className=\"detail_form pr\">\r\n                <p className=\"form_title\">{journalMain.title}\r\n                  <span style={{\r\n                    display: 'inline-block',\r\n                    maxWidth: '500px',\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    paddingLeft: '10px'\r\n                  }}>\r\n                                {journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n                                  return <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n                                })}\r\n                            </span>\r\n                </p>\r\n                <p className=\"form_name\">\r\n                  {journalMain.userName}\r\n                  <span className=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n                  <CommentList\r\n                      store={this.store}\r\n                      detailData={detailData}\r\n                      scrollToAnchor={this.props.scrollToAnchor}\r\n                  />\r\n                </p>\r\n                {audio.length>0&&dropDown}\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  right: 0,\r\n                  top: '30px'\r\n                }}>\r\n                  {audioSrc?<div><ReactAudioPlayer\r\n                      src={audioSrc||\"\"}\r\n                      controls\r\n                  /></div>:null}\r\n                </div>\r\n              </div>\r\n            </Form.Item>\r\n            <Form.Item label=\"\"\r\n                       colon={false}\r\n                       className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议主题</span><span className=\"form_nextname\">{sub.title}</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议日期</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议时长</span><span className=\"form_nextname\">{sub.hours}小时</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议地点</span><span className=\"form_nextname\">{sub.place}</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"\"\r\n                       colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">参会人员</span><span className=\"form_nextname\">{sub.people}</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议目标</span>\r\n            </Form.Item>\r\n            <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.target}}></div>\r\n            <Form.Item label=\"\"\r\n                       colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议纪要</span>\r\n            </Form.Item>\r\n            <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.content}}></div>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">会议结论</span>\r\n            </Form.Item>\r\n            <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.conclusion}}></div>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n              <span className=\"detail_form_bold_title\">下一步行动</span>\r\n            </Form.Item>\r\n            <Form.Item className=\"detail_form_bold\">\r\n              {assignments.map((item, index) => {\r\n                return <div>\r\n                                <span\r\n                                    className=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n                                  return vitem.userName\r\n                                }).join('、')}\r\n                                  {item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n                                      <Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n                                              type=\"link\"\r\n                                              onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n                                </span>\r\n                </div>\r\n              })}\r\n            </Form.Item>\r\n            <Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n              <span className=\"detail_form_bold_title\">附件</span>\r\n            </Form.Item>\r\n            <div style={{paddingLeft:'14px'}}>\r\n              <MyUpload\r\n                  disabled={true}\r\n                  fileList={attachments == null ? [] : attachments}\r\n              />\r\n            </div>\r\n            {/*追加任务, 第一没有权限，第二有权限*/}\r\n            {!this.props.hasJournal?\r\n                <Form.Item label=\"\"\r\n                           colon={false}\r\n                           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n                  <span className=\"detail_form_bold_title\">追加任务</span>\r\n                  {newAddignments !== undefined && newAddignments.map((item, index) => {\r\n                    return <div>\r\n                                        <span\r\n                                            className=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n                                          return vitem.userName\r\n                                        }).join('、')}\r\n                                          {item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n                                              <Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n                                                      type=\"link\"\r\n                                                      onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n                                        </span>\r\n                    </div>\r\n                  })}\r\n                </Form.Item>:<Form.Item  label=\"\"\r\n                                         colon={false}\r\n                                         className=\"detail_form_bold\">\r\n                  <span className=\"detail_form_bold_title\">追加任务</span>\r\n                  {newAddignments !== undefined && newAddignments.map((item, index) => {\r\n                    return <div>\r\n                                        <span\r\n                                            className=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n                                          return vitem.userName\r\n                                        }).join('、')}\r\n                                          {item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n                                              <Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n                                                      type=\"link\"\r\n                                                      onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n                                        </span>\r\n                    </div>\r\n                  })}\r\n                </Form.Item>}\r\n            {!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n              <Col span={12} className=\"tc\">\r\n                <div>任务名</div>\r\n              </Col>\r\n              <Col span={12} className=\"tc\">\r\n                <div>负责人</div>\r\n              </Col>\r\n            </Row>}\r\n            {addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n              return <Row key={`subname+${vindex}`}\r\n                          style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n                <Col span={12} className=\"pr\">\r\n                  <Form.Item\r\n                      label={\" \"}\r\n                      colon={false}\r\n                      labelCol={{\r\n                        xs: {span: 24},\r\n                        sm: {span: 6},\r\n                      }}\r\n                      wrapperCol={{\r\n                        xs: {span: 24},\r\n                        sm: {span: 16}\r\n                      }}\r\n                  >\r\n                    <Input value={vitem.name == null ? \"\" : vitem.name}\r\n                           placeholder=\"请输入\"\r\n                           onChange={this.onChange.bind(this, vindex)}/>\r\n                    <Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n                      <Button\r\n                          shape=\"circle\"\r\n                          className=\"dynamic-delete-button\"\r\n                          size=\"small\"\r\n                          icon=\"minus\"\r\n                          type=\"default\"/>\r\n                    </Popconfirm>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Form.Item\r\n                      label={\" \"}\r\n                      colon={false}\r\n                      labelCol={{\r\n                        xs: {span: 24},\r\n                        sm: {span: 6}\r\n                      }}\r\n                      wrapperCol={{\r\n                        xs: {span: 24},\r\n                        sm: {span: 16}\r\n                      }}\r\n                  >\r\n                    <PersonAddIcon\r\n                        data={vitem.userInformations == null ? [] : vitem.userInformations}\r\n                        updatePerson={this.updatePerson.bind(this, vindex)}\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            })}\r\n            {!this.props.hasJournal ? null :\r\n                <div>\r\n                  <Form.Item {...formItemLayoutLabel}>\r\n                    <Icon onClick={this.handleAdd}\r\n                          style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n                          type=\"plus-circle\"/>\r\n                  </Form.Item>\r\n                  <Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n                    <Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n                      保存\r\n                    </Button>\r\n                    <Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n                      <Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n                        取消\r\n                      </Button>\r\n                    </Popconfirm>\r\n                  </Form.Item>\r\n                </div>}\r\n          </Form>:<EditeMeeting\r\n              onRef={this.onRef}\r\n              store={this.store}\r\n              detailData={detailData}\r\n              onCancle={this.handleCancle}\r\n              pathname={this.props.pathname}\r\n              handleDraftRoute={this.props.handleDraftRoute}\r\n              handleRoute={this.props.handleRoute}\r\n              getTable={this.props.getTable}\r\n              appendAliyundata={this.appendAliyundata}\r\n              reSetAliyundata = {this.reSetAliyundata}\r\n          />}\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DetailForm;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailForm.js","/*\r\n* 详情表单 月思想\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormNew extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData,visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst formTailLayout = {\r\n\t\t\twrapperCol: { span: 22, offset: 2 },\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">反思主题</span><span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">反思时间</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">现象与案例</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.cases}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">反思与改进</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.introspection}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务, 第一没有权限，第二有权限*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"monthlySharing\"\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormNew;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormMonthlySharing.js","/*\r\n* 详情表单 月思想\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormNews extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData,visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst formTailLayout = {\r\n\t\t\twrapperCol: { span: 22, offset: 2 },\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">新闻标题</span><span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">发生时间</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">正文内容</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.content}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"news\"\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormNews;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormNews.js","/*\r\n* 详情表单\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormReplay extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData, visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t\tconst formTailLayout = {\r\n\t\t\twrapperCol: { span: 22, offset: 2 },\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">复盘主题</span>\t<span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">复盘时间</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">复盘参与人</span><span className=\"form_nextname\">{sub.people}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">回顾目标</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.target}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">评估结果</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.assessmentResult}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">分析原因</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.analyzeReason}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">总结规律</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.summarizeLaw}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"replay\"\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormReplay;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormReplay.js","/*\r\n* 详情表单 月思想\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormSummary extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData,visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\r\n\t\tconst formTailLayout = {\r\n\t\t\twrapperCol: { span: 22, offset: 2 },\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">总结主题</span><span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">总结时间</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">总结内容</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.content}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"summary\"\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormSummary;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormSummary.js","/*\r\n* 详情表单\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormVisit extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData, visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t\tconst formTailLayout = {\r\n\t\t\twrapperCol: { span: 22, offset: 2 },\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">拜访时间</span><span className=\"form_nextname\">{moment(sub.time).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">交流时长</span><span className=\"form_nextname\">{sub.hours}小时</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">企业名称</span>\t<span className=\"form_nextname\">{sub.company}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">项目名称</span><span className=\"form_nextname\">{sub.project}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">项目地址</span><span className=\"form_nextname\">{sub.address}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">我方人员</span><span className=\"form_nextname\">{sub.ourPeople}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">对方人员</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Row className=\"mb5\" style={{paddingLeft:'14px'}}>\r\n\t\t\t\t\t<div style={{width:'180px', fontWeight: '600'}} className=\"fl tc\">客户姓名</div>\r\n\t\t\t\t\t<div style={{width:'180px', fontWeight: '600'}} className=\"fl tc\">职务</div>\r\n\t\t\t\t\t<div style={{width:'180px', fontWeight: '600'}} className=\"fl tc\">联系方式</div>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{sub.visitPeoples&&sub.visitPeoples.map((item, index) => {\r\n\t\t\t\t\treturn <Row key={index} style={{paddingLeft:'14px'}}>\r\n\t\t\t\t\t\t<div style={{width:'180px'}} className=\"fl tc\">{item.name}</div>\r\n\t\t\t\t\t\t<div style={{width:'180px'}} className=\"fl tc\">{item.position}</div>\r\n\t\t\t\t\t\t<div style={{width:'180px'}} className=\"fl tc\">{item.phone}</div>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">拜访目的</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.purpose}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">拜访流程</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.process}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">拜访纪要</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.content}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">现场照片</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">对外承诺</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.promise}}></div>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold mt15\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"visit\"\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormVisit;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormVisit.js","/*\r\n* 详情表单 智建美住周报\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormWeekReport extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData,visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst canEdit = detailData.canEdit==1?true:false;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = canEdit;\r\n\t\tlet isJeks = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n        let oldTime = moment(\"2021-01-24\").valueOf(); //要求是 2021年1月24日以前，老数据不变\r\n        let isOld = sub.beginTime!=undefined&&(sub.beginTime>oldTime);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tisWeekShow={isJeks}\r\n\t\t\t\t\t\t\t\tuserId={journalMain.userId}\r\n\t\t\t\t\t\t\t\ttemType=\"weekreport\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">周报标题</span><span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">时间范围</span><span className=\"form_nextname\">{moment(sub.beginTime).format(\"YYYY年MM月DD日\")} 至 {moment(sub.endTime).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">本周要闻</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.weekContent}}></div>\r\n\t\t\t\t<div className=\"edit_form_bold_week\">\r\n\t\t\t\t\t详细内容\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"edit_form_bold_week\">\r\n\t\t\t\t\t一、年度重点工作检视\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"edit_form_bold_week\">\r\n\t\t\t\t\t1、企业经营和现金流达标\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.detailBusiness}}></div>\r\n               <div className=\"edit_form_bold_week\">\r\n\t\t\t\t\t2、建立以江阴工厂为中心的生产运营体系\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.detailFactory}}></div>\r\n\t\t\t\t<div className=\"edit_form_bold_week\">\r\n\t\t\t\t\t3、初步建成数字化平台\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.detailDigital}}></div>\r\n                <div className=\"edit_form_bold_week\">\r\n                    4、建筑产品和技术研发\r\n                </div>\r\n                <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.detailProducts}}></div>\r\n                {\r\n                    isOld?<div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            5、公司治理\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.corporateGovernance}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            二、月度重点工作看板\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.monthlyWorkBoard}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            三、各部门工作执行情况看板\r\n                        </div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            1、综合管理中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentZhglzx2021}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            2、国内营销中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentGnyxzx2021}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            3、创新营销中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentCxyxzx2021}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            4、项目管理中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentXmglzx2021}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            5、产品研发中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentCpyfzx2021}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            6、生产制造中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentSczzzx2021}}></div>\r\n                    </div>: <div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            二、项目清单看板\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.projectBoard}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            三、月度重点工作看板\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.monthlyWorkBoard}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            四、各部门工作执行情况看板\r\n                        </div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            1、产品研发中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentProduct}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            2、解决方案中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentSolution}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            3、市场营销中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentMarket}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            4、战略发展中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentStrategic}}></div>\r\n                        <div className=\"edit_form_bold_week\">\r\n                            5、运作支持中心\r\n                        </div>\r\n                        <div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.departmentSupport}}></div>\r\n                    </div>}\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"weekreport\"\r\n\t\t\t\t\t\tisWeekShow={isJeks}\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormWeekReport;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormWeekReport.js","/*\r\n* 编辑表单\r\n* 2020-07-21\r\n* dangw@bocspace.com\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Form, Input, Icon, Row, Col, Button, DatePicker, message, Popconfirm, InputNumber, Spin, Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport BraftEditor from 'braft-editor';\r\nimport 'braft-editor/dist/index.css';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport PersonAdd2 from \"@/components/worktile/PersonAdd\";\r\nimport EditableTagGroup from \"@/components/digitalOrg/EditableTagGroup\";\r\nimport {showText} from \"@/utils/utils\";\r\nimport * as  mobx from 'mobx';\r\nimport {Base64} from 'js-base64';\r\nimport MyUpload from \"@/components/common/MyUploadNew\";\r\n//import EditableTagEmail from \"@/components/digitalOrg/EditableTagEmail\";\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {downloadFile} from 'utils/download';\r\n// import Audio from './Audio';\r\nimport AudioRecorder from './AudioRecorder';\r\nimport emitter from \"@/utils/events\";\r\nconst {TextArea} = Input;\r\nimport { ContentUtils } from 'braft-utils';\r\nimport MyUploadOne from \"@/components/common/MyUploadOne\";\r\nimport EditableTagEmail2 from \"@/components/digitalOrg/EditableTagEmail2\";\r\nimport ReactKindeditor from \"@/components/common/ReactKindeditor\";\r\n\r\n\r\n@inject('appStore')\r\n@observer\r\nclass EditeMeeting extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tassignments: [],\r\n\t\t\ttags: [],\r\n\t\t\ttitle: \"\",\r\n\t\t\ttime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\tattachments: [],\r\n\t\t\tpeople: \"\",\r\n\t\t\ttarget: \"\",\r\n\t\t\tcontent: \"\",\r\n\t\t\tconclusion: \"\",\r\n\t\t\tplace: \"\",\r\n\t\t\thours: \"\",\r\n\t\t\tisLoading: false,\r\n\t\t\ttip: \"正在生成，请稍等...\",\r\n\t\t\tloading: false,\r\n\t\t\tdetailData: {},\r\n\t\t\temails: [], // 邮件\r\n\t\t\tuserIds:[], // 用户\r\n\t\t\taudio: [], // 录音\r\n\t\t\taudioStatus: \"\", // 录音状态\r\n\t\t\tchecks: [],\r\n\t\t\tccEmails: [],\r\n\t\t\tccUserIds: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst {detailData} = nextProps;\r\n\t\tif (JSON.stringify(detailData) != JSON.stringify(this.props.detailData)) {\r\n\r\n\t\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\r\n\t\t\tconst assignments = detailData.assignments == null ? [] : detailData.assignments;\r\n\t\t\tconst journalMain = detailData.journalMain || {};\r\n\t\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\t\tconst audio = detailData.audio == null ? [] : detailData.audio;\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetailData: detailData,\r\n\t\t\t\ttitle: sub.title,\r\n\t\t\t\ttime: sub.time==null||sub.time==0?moment().format(\"YYYY-MM-DD\"):moment(sub.time).format(\"YYYY-MM-DD\"),\r\n\t\t\t\tpeople: sub.people,\r\n\t\t\t\ttarget: sub.target==null||sub.target==\"\"?\"\":sub.target,\r\n\t\t\t\tcontent: sub.content==null||sub.content==\"\"?\"\":sub.content,\r\n\t\t\t\tconclusion: sub.conclusion==null||sub.conclusion==\"\"?\"\":sub.conclusion,\r\n\t\t\t\tplace: sub.place,\r\n\t\t\t\thours: sub.hours,\r\n\t\t\t\tassignments: assignments,\r\n\t\t\t\ttags: journalMain.tags==null?[]:journalMain.tags.map(item=>item.name),\r\n\t\t\t\tattachments: atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tuid: vitem.id==null||vitem.id==\"\"?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t\t})\r\n\t\t\t\t}),\r\n\t\t\t\temails: [], // 邮件\r\n\t\t\t\tuserIds:[], // 用户\r\n\t\t\t\taudio: audio,\r\n\t\t\t\tchecks: [],\r\n\t\t\t\tccEmails: [],\r\n\t\t\t\tccUserIds: [],\r\n\t\t\t}, ()=>{\r\n\t\t\t\t// 表单\r\n\t\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\t\ttarget: sub.target==null||sub.target==\"\"?\"\":sub.target,\r\n\t\t\t\t\tcontent: sub.content==null||sub.content==\"\"?\"\":sub.content,\r\n\t\t\t\t\tconclusion: sub.conclusion==null||sub.conclusion==\"\"?\"\":sub.conclusion\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet _this = this;\r\n\t\tlet {pathname, detailData} = _this.props;\r\n\t\t// 初始化数据\r\n\t\tif (Object.keys(detailData).length>0) {\r\n\t\t\t_this.init(detailData);\r\n\t\t}\r\n\t\t_this.props.onRef(this);\r\n\t\tif (pathname&&pathname.includes(\"/digital/draft\")&&_this.store.draftId!=\"\") {\r\n\t\t\t// 定时器\r\n\t\t\t_this.timer = setInterval(() => {\r\n\t\t\t\t// 心跳接口 30s跳动一个\r\n\t\t\t\t_this.saveAuto(0);\r\n\t\t\t}, 30000);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t\t// 页面离开时清楚定时器\r\n\t\tthis.timer&&clearInterval(this.timer);\r\n\t\tthis.timer = null;\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange = (type, e) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\thandleNumChange = (type, e) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: e\r\n\t\t});\r\n\t}\r\n\r\n\tonDateChange = (date, dateString) => {\r\n\t\tthis.setState({\r\n\t\t\ttime: dateString\r\n\t\t});\r\n\t}\r\n\r\n\thandleBChange = (type, editorState) => {\r\n\t\tthis.setState({[type]: editorState});\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.assignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\tassignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.assignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tassignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.assignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\tassignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.assignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\tassignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\t// 附件\r\n\thandleAttment = (type, params) => {\r\n\t\t// 处理附件\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: item.filePath,\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], arr)\r\n\t\t});\r\n\t}\r\n\r\n\t// 自动保存\r\n\tsaveAuto = (type) => {\r\n\t\tconst {assignments, tags, title, time, attachments, people, target, content, conclusion, place, hours, audio, audioStatus} = this.state;\r\n\t\tif (type==1) {  // 保存草稿\r\n\t\t\t// 附件上传中提示\r\n\t\t\tif (this.props.appStore.journal==true) {\r\n\t\t\t\tmessage.warn(\"请等待图片/附件上传完成\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// 录音提示校验\r\n\t\t\tif (audioStatus==\"recording\") {\r\n\t\t\t\tmessage.warn(\"当前正在录音中，请先结束录音\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst temList = mobx.toJS(this.store.temList);\r\n\t\tlet attcs = JSON.parse(JSON.stringify(attachments));\r\n\r\n\t\tconst numTime = moment(time).valueOf(); // 时间搓\r\n\t\tconst newTime = moment(numTime).format(\"YYYYMMDD\");\r\n\t\tlet journalSub = {\r\n\t\t\ttitle,\r\n\t\t\ttime: numTime,\r\n\t\t\tpeople,\r\n\t\t\tplace,\r\n\t\t\thours,\r\n\t\t\ttarget: target,\r\n\t\t\tcontent: content,\r\n\t\t\tconclusion: conclusion\r\n\t\t};\r\n\r\n\t\t// 保存参数\r\n\t\tconst params = {\r\n\t\t\tid: this.store.draftId,\r\n\t\t\tjournalMain: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\ttitle: newTime + \"-会议纪要-\" + title,\r\n\t\t\t\tuserId: localStorage.getItem('userid'),\r\n\t\t\t\tuserName: localStorage.getItem('username'),\r\n\t\t\t\ttags: tags.map(item => Object.assign({}, {id: \"\", name: item})),\r\n\t\t\t\ttype: temList.type\r\n\t\t\t},\r\n\t\t\tjournalSub: Base64.encode(JSON.stringify(journalSub)),\r\n\t\t\tassignments: assignments.filter((item)=>{\r\n\t\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t\t}),\r\n\t\t\tatts: attcs == null ? [] : attcs.map(item => Object.assign({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tid: item.id\r\n\t\t\t})),\r\n\t\t\taudio: audio\r\n\t\t}\r\n\r\n\t\tthis.store.saveJournalByType({\r\n\t\t\tjournal: params,\r\n\t\t\tsaveType: type\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res) {\r\n\t\t\t\tthis.store.draftId = res.id;\r\n\t\t\t}\r\n\t\t\tif (res&&type==1) {\r\n\t\t\t\tmessage.success(\"草稿保存成功\");\r\n\t\t\t\t// 清空数据\r\n\t\t\t\tthis.reset();\r\n\r\n\t\t\t\tconst {pathname} = this.props;\r\n\t\t\t\tif (pathname == \"/digital/draft\") {  // 当前页是草稿\r\n\t\t\t\t\temitter.emit(\"draft\", \"3\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 草稿保存成功，跳转到草稿\r\n\t\t\t\t\tif (this.props.handleDraftRoute) {\r\n\t\t\t\t\t\tthis.props.handleDraftRoute();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 手动保存草稿\r\n\tsaveDraft = () => {\r\n\t\tthis.saveAuto(1);\r\n\t}\r\n\r\n\t// 提交发布\r\n\thandleSubmit = () => {\r\n\t\tconst {assignments, tags, attachments, audio,target, content, conclusion, audioStatus} = this.state;\r\n\t\t// 附件上传中提示\r\n\t\tif (this.props.appStore.journal==true) {\r\n\t\t\tmessage.warn(\"请等待图片/附件上传完成\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// 录音提示校验\r\n\t\tif (audioStatus==\"recording\") {\r\n\t\t\tmessage.warn(\"当前正在录音中，请先结束录音\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 录音正在上传\r\n\t\tif (this.props.appStore.journalAudio==true) {\r\n\t\t\tmessage.warn(\"录音正在上传中, 请等待上传完成\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst temList = mobx.toJS(this.store.temList);\r\n\t\tlet attcs = JSON.parse(JSON.stringify(attachments));\r\n\r\n\t\t// 校验标签\r\n\t\tif (Array.isArray(tags) && tags.length == 0) {\r\n\t\t\tmessage.warn(\"标签是必输项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 校验会议目标、会议纪要、会议结论\r\n\t\tif (target==\"\") {\r\n\t\t\tmessage.warn(\"会议目标是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (content==\"\") {\r\n\t\t\tmessage.warn(\"会议纪要是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (conclusion==\"\") {\r\n\t\t\tmessage.warn(\"会议结论是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 校验下一步\r\n\t\tif (!assignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null)&&(item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst { form } = this.props;\r\n\t\t// 获取并检查表单数据\r\n\t\tform.validateFields((err, values) => {\r\n\t\t\tif (err) return;\r\n\t\t\tif (!err) {\r\n\t\t\t\tconst {title, time, people, place,hours} = values;\r\n\r\n\t\t\t\tconst numTime = moment(time).valueOf(); // 时间搓\r\n\t\t\t\tconst newTime = moment(numTime).format(\"YYYYMMDD\");\r\n\t\t\t\tlet journalSub = {\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttime: numTime,\r\n\t\t\t\t\tpeople,\r\n\t\t\t\t\tplace,\r\n\t\t\t\t\thours,\r\n\t\t\t\t\ttarget: target,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\tconclusion: conclusion\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 保存参数\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tid: this.store.draftId,\r\n\t\t\t\t\tjournalMain: {\r\n\t\t\t\t\t\tid: \"\",\r\n\t\t\t\t\t\ttitle: newTime + `-${temList.name}-` + title,\r\n\t\t\t\t\t\tuserId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tuserName: localStorage.getItem('username'),\r\n\t\t\t\t\t\ttags: tags.map(item => Object.assign({}, {id: \"\", name: item})),\r\n\t\t\t\t\t\ttype: temList.type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tjournalSub: Base64.encode(JSON.stringify(journalSub)),\r\n\t\t\t\t\tassignments: assignments.filter((item)=>{\r\n\t\t\t\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tatts: attcs == null ? [] : attcs.map(item => Object.assign({\r\n\t\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\t\tid: item.id\r\n\t\t\t\t\t})),\r\n\t\t\t\t\taudio: audio\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ loading: true });\r\n\t\t\t\tthis.store.saveJournalByType({\r\n\t\t\t\t\tjournal: params,\r\n\t\t\t\t\tsaveType: 2\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tmessage.success(\"发布成功\");\r\n\t\t\t\t\t\tthis.setState({ loading: false });\r\n\t\t\t\t\t\t// 清空数据\r\n\t\t\t\t\t\tthis.reset();\r\n\r\n\t\t\t\t\t\tconst {pathname} = this.props;\r\n\t\t\t\t\t\tif (pathname == \"/digital/draft\") {  // 当前页是草稿\r\n\t\t\t\t\t\t\tif (this.props.handleRoute) {\r\n\t\t\t\t\t\t\t\tthis.props.handleRoute();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 详情页切换编辑\r\n\t\t\t\t\t\t\tif (this.props.getTable) {\r\n\t\t\t\t\t\t\t\tthis.props.getTable();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.props.onCancle) {\r\n\t\t\t\t\t\t\t\tthis.props.onCancle();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonClose = () => {\r\n\t\tif (this.store.draftId != \"\"&&this.store.draftId != null) {  // 返回按钮\r\n\t\t\tthis.store.cancelJournal()\r\n\t\t\t.then((res)=>{\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\t\tthis.props.form.resetFields();\r\n\t\t\t\t\tlet detailData = JSON.parse(JSON.stringify(this.state.detailData));\r\n\t\t\t\t\t// 清楚录音状态\r\n\t\t\t\t\t//this.child.reset();\r\n\t\t\t\t\tthis.init(detailData);\r\n\t\t\t\t\t// 详情页切换编辑\r\n\t\t\t\t\tif (this.props.onCancle) {\r\n\t\t\t\t\t\tthis.props.onCancle();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tthis.props.form.resetFields();\r\n\t\tthis.store.draftId = \"\"; // 草稿id\r\n\t\tthis.setState({\r\n\t\t\tassignments: [],\r\n\t\t\ttags: [],\r\n\t\t\ttitle: \"\",\r\n\t\t\ttime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\tattachments: [],\r\n\t\t\tpeople:\"\",\r\n\t\t\ttarget: \"\",\r\n\t\t\tcontent: \"\",\r\n\t\t\tconclusion: \"\",\r\n\t\t\tplace:\"\",\r\n\t\t\thours:\"\",\r\n\t\t\taudio: [],\r\n\t\t\temails: [], // 邮件\r\n\t\t\tuserIds:[], // 用户\r\n\t\t\tisLoading: false,\r\n\t\t\taudioStatus: \"\",\r\n\t\t\tchecks: [],\r\n\t\t\tccEmails: [],\r\n\t\t\tccUserIds: [],\r\n\t\t});\r\n\t}\r\n\r\n\t// 间隔3秒获取pdf地址\r\n\tgetReportUrl = (id) => {\r\n\t\tlet _this = this;\r\n\t\tthis.setState({\r\n\t\t\tisLoading: true\r\n\t\t});\r\n\r\n\t\tconst temList = mobx.toJS(this.store.temList);\r\n\t\tconst { title, time} = this.state;\r\n\t\tconst numTime = moment(time).valueOf(); // 时间搓\r\n\t\tconst newTime = moment(numTime).format(\"YYYYMMDD\");\r\n\t\tconst pdfName = newTime + `-${temList.name}-` + title;\r\n\r\n\t\t_this.timer22 = setInterval(() => {\r\n\t\t\t_this.store.getDownloadUrl(id).then((res) => {\r\n\t\t\t\tconst {url} = res;\r\n\t\t\t\tif (url !== null && url !== \"\") {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisLoading: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdownloadFile(url, pdfName);  // 直接下载pdf\r\n\t\t\t\t\tclearInterval(_this.timer22);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (res.code==2) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tisLoading: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tclearInterval(_this.timer22);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\t// 生成word\r\n\tcreatWord = (type) =>{\r\n\t\tconst {assignments, tags, attachments, audio} = this.state;\r\n\t\tconst temList = mobx.toJS(this.store.temList);\r\n\t\tlet attcs = JSON.parse(JSON.stringify(attachments));\r\n\r\n\t\t// 校验标签\r\n\t\tif (Array.isArray(tags) && tags.length == 0) {\r\n\t\t\tmessage.warn(\"标签是必输项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 校验下一步\r\n\t\tif (!assignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null)&&(item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst { form } = this.props;\r\n\t\t// 获取并检查表单数据\r\n\t\tform.validateFields((err, values) => {\r\n\t\t\tif (err) return;\r\n\t\t\tif (!err) {\r\n\t\t\t\tconst {title, time, people, target, content, conclusion, place,hours} = values;\r\n\t\t\t\tconst numTime = moment(time).valueOf(); // 时间搓\r\n\t\t\t\tconst newTime = moment(numTime).format(\"YYYYMMDD\");\r\n\t\t\t\tlet journalSub = {\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttime: numTime,\r\n\t\t\t\t\tpeople,\r\n\t\t\t\t\tplace,\r\n\t\t\t\t\thours,\r\n\t\t\t\t\ttarget: target,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\tconclusion: conclusion\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 保存参数\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\tid: this.store.draftId,\r\n\t\t\t\t\tjournalMain: {\r\n\t\t\t\t\t\tid: \"\",\r\n\t\t\t\t\t\ttitle: newTime + `-${temList.name}-` + title,\r\n\t\t\t\t\t\tuserId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tuserName: localStorage.getItem('username'),\r\n\t\t\t\t\t\ttags: tags.map(item => Object.assign({}, {id: \"\", name: item})),\r\n\t\t\t\t\t\ttype: temList.type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tjournalSub: Base64.encode(JSON.stringify(journalSub)),\r\n\t\t\t\t\tassignments: assignments.filter((item)=>{\r\n\t\t\t\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tatts: attcs == null ? [] : attcs.map(item => Object.assign({\r\n\t\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\t\tid: item.id\r\n\t\t\t\t\t})),\r\n\t\t\t\t\taudio\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (type==1) {\r\n\t\t\t\t\tthis.store.wordDownload(param)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.getReportUrl(res);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.store.pdfDownload(param)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.getReportUrl(res);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 发送邮件\r\n\tsendReport = () => {\r\n\t\tlet _this = this;\r\n\t\tconst {emails, userIds, audio, checks, ccEmails, ccUserIds} = _this.state;\r\n\t\tconst isemailUserIds = userIds == null ? [] : userIds;\r\n\t\tconst isemails = emails == null ? [] : emails;\r\n\t\t// 选择收件人\r\n\t\tif (isemailUserIds.length == 0 && isemails.length == 0) {\r\n\t\t\tmessage.warn(\"请先选择邮件收件人\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst {assignments, tags, attachments} = this.state;\r\n\t\tconst temList = mobx.toJS(this.store.temList);\r\n\t\tlet attcs = JSON.parse(JSON.stringify(attachments));\r\n\r\n\t\t// 校验标签\r\n\t\tif (Array.isArray(tags) && tags.length == 0) {\r\n\t\t\tmessage.warn(\"标签是必输项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 校验下一步\r\n\t\tif (!assignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null)&&(item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (assignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst { form } = this.props;\r\n\t\t// 获取并检查表单数据\r\n\t\tform.validateFields((err, values) => {\r\n\t\t\tif (err) return;\r\n\t\t\tif (!err) {\r\n\t\t\t\tconst {title, time, people, place,hours} = values;\r\n\t\t\t\tconst {target, content, conclusion} = this.state;\r\n\t\t\t\tconst numTime = moment(time).valueOf(); // 时间搓\r\n\t\t\t\tconst newTime = moment(numTime).format(\"YYYYMMDD\");\r\n\t\t\t\tlet journalSub = {\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttime: numTime,\r\n\t\t\t\t\tpeople,\r\n\t\t\t\t\tplace,\r\n\t\t\t\t\thours,\r\n\t\t\t\t\ttarget: target.toHTML(),\r\n\t\t\t\t\tcontent: content.toHTML(),\r\n\t\t\t\t\tconclusion: conclusion.toHTML()\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 保存参数\r\n\t\t\t\tconst param = {\r\n\t\t\t\t\tid: this.store.draftId,\r\n\t\t\t\t\tjournalMain: {\r\n\t\t\t\t\t\tid: \"\",\r\n\t\t\t\t\t\ttitle: newTime + `-${temList.name}-` + title,\r\n\t\t\t\t\t\tuserId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tuserName: localStorage.getItem('username'),\r\n\t\t\t\t\t\ttags: tags.map(item => Object.assign({}, {id: \"\", name: item})),\r\n\t\t\t\t\t\ttype: temList.type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tjournalSub: Base64.encode(JSON.stringify(journalSub)),\r\n\t\t\t\t\tassignments: assignments.filter((item)=>{\r\n\t\t\t\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tatts: attcs == null ? [] : attcs.map(item => Object.assign({\r\n\t\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\t\tid: item.id\r\n\t\t\t\t\t})),\r\n\t\t\t\t\taudio\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tjournal: param,\r\n\t\t\t\t\temails: emails,\r\n\t\t\t\t\tuserIds: userIds == null ? [] : userIds.map(item => item.userId),\r\n\t\t\t\t\tattType: checks.map(item=>typeof item ==\"string\"?Number(item):item),\r\n\t\t\t\t\tccEmails,\r\n\t\t\t\t\tccUserIds: ccUserIds == null ? [] : ccUserIds.map(item => item.userId)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.store.sendEmail(params)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\t\tmessage.success(\"邮件发送成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tinit = (detailData) => {\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\r\n\t\tconst assignments = detailData.assignments == null ? [] : detailData.assignments;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst audio = detailData.audio == null ? [] : detailData.audio;\r\n\r\n\t\tthis.setState({\r\n\t\t\tdetailData: detailData,\r\n\t\t\ttitle: sub.title,\r\n\t\t\ttime: sub.time==null||sub.time==0?moment().format(\"YYYY-MM-DD\"):moment(sub.time).format(\"YYYY-MM-DD\"),\r\n\t\t\tpeople: sub.people,\r\n\t\t\ttarget: sub.target==null||sub.target==\"\"?\"\":sub.target,\r\n\t\t\tcontent: sub.content==null||sub.content==\"\"?\"\":sub.content,\r\n\t\t\tconclusion: sub.conclusion==null||sub.conclusion==\"\"?\"\":sub.conclusion,\r\n\t\t\tplace: sub.place,\r\n\t\t\thours: sub.hours,\r\n\t\t\tassignments: assignments,\r\n\t\t\ttags: journalMain.tags==null?[]:journalMain.tags.map(item=>item.name),\r\n\t\t\tattachments: atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\tuid: vitem.id==null||vitem.id==\"\"?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\t})\r\n\t\t\t}),\r\n\t\t\temails: [], // 邮件\r\n\t\t\tuserIds:[], // 用户\r\n\t\t\taudio: audio,\r\n\t\t\taudioStatus: \"\",\r\n\t\t\tchecks: [],\r\n\t\t\tccEmails: [],\r\n\t\t\tccUserIds: [],\r\n\t\t}, ()=>{\r\n\t\t\t// 表单\r\n\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\ttarget: sub.target==null||sub.target==\"\"?\"\":sub.target,\r\n\t\t\t\tcontent: sub.content==null||sub.content==\"\"?\"\":sub.content,\r\n\t\t\t\tconclusion: sub.conclusion==null||sub.conclusion==\"\"?\"\":sub.conclusion,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateAudioStaus = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: data\r\n\t\t});\r\n\t}\r\n\r\n\tonRefAudio = (ref) => {\r\n\t\tthis.audio = ref\r\n\t}\r\n\r\n\tsaveAttachment = (type, params) => {\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\ttype: 'IMAGE',\r\n\t\t\t\turl: item.filePath,\r\n\t\t\t})\r\n\t\t});\r\n\t\tlet newArray = ContentUtils.insertMedias(this.state[type], arr);\r\n\t\tthis.setState({\r\n\t\t\t[type]: newArray\r\n\t\t}, ()=> {\r\n\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\t[type]: newArray\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeAttc = (checkedValues) =>{\r\n\t\tthis.setState({\r\n\t\t\tchecks: checkedValues\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst {assignments, tags, title, time, attachments, conclusion, content, target, hours, people, place, loading, emails, userIds, audio, checks,ccEmails, ccUserIds} = this.state;\r\n\t\tconst {tagList, ossData} = this.store;\r\n\t\tconst excludeControls = [\r\n\t\t\t'undo', 'redo', 'separator',\r\n\t\t\t'font-size', 'line-height', 'letter-spacing', 'separator',\r\n\t\t\t'text-color', 'underline', 'strike-through', 'bold', 'separator',\r\n\t\t\t'remove-styles', 'separator', 'text-indent', 'text-align', 'separator', 'hr', 'separator',\r\n\t\t\t'clear'\r\n\t\t];\r\n\t\tconst disabledDate = (current) => {\r\n\t\t\treturn current > moment();\r\n\t\t}\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst imageControls = [\r\n\t\t\t'align-left', // 设置图片居左\r\n\t\t\t'align-center', // 设置图片居中\r\n\t\t\t'align-right', // 设置图片居右\r\n\t\t\t'size',\r\n\t\t\t'remove'\r\n\t\t]\r\n\t\tconst options = [\r\n\t\t\t{ label: 'Word文档作为附件', value: '0' },\r\n\t\t\t{ label: 'PDF文档作为附件', value: '1' }\r\n\t\t];\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t<Form.Item wrapperCol={{\r\n\t\t\t\t\t\t\t\txs: {span: 24, },\r\n\t\t\t\t\t\t\t\tsm: {span: 24},\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">\r\n\t\t\t\t\t\t\t{(title==\"\"||title==null)||(time==\"\"||time==null)?null: moment(time).format(\"YYYYMMDD\") + \"-会议纪要-\" + title}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">\r\n\t\t\t\t\t\t\t{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<AudioRecorder\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\t\twidth: '300px',\r\n\t\t\t\t\t\t\t\theight: '300px',\r\n\t\t\t\t\t\t\t\tzIndex: 3,\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tossData={mobx.toJS(ossData)}\r\n\t\t\t\t\t\t\taudio={audio}\r\n\t\t\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\t\t\tupdateAudioStaus={this.updateAudioStaus}\r\n\t\t\t\t\t\t\tonRef={this.onRefAudio}\r\n\t\t\t\t\t\t\tappendAliyundata={this.props.appendAliyundata}\r\n\t\t\t\t\t\t\treSetAliyundata = {this.props.reSetAliyundata}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t\t<EditableTagGroup\r\n\t\t\t\t\t\ttagList={mobx.toJS(tagList)}\r\n\t\t\t\t\t\ttags={tags}\r\n\t\t\t\t\t\tupdateState={this.updateState}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议主题\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('title', {\r\n\t\t\t\t\t\tinitialValue: title || '',\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(<Input\r\n\t\t\t\t\t\tmaxLength={15}\r\n\t\t\t\t\t          placeholder=\"请输入（不超过15字）\"\r\n\t\t\t\t\t          onChange={this.handleChange.bind(this, 'title')}/>)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议日期\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('time', {\r\n\t\t\t\t\t\t\tinitialValue: moment(time) || '',\r\n\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)(\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tdisabledDate={disabledDate}\r\n\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\tonChange={this.onDateChange}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议时长\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('hours', {\r\n\t\t\t\t\t\tinitialValue: hours || '',\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\tonChange={this.handleNumChange.bind(this, 'hours')}\r\n\t\t\t\t\t\tplaceholder=\"请输入数字\"\r\n\t\t\t\t\t\tstyle={{width: '177px'}}/>)}\r\n\t\t\t\t\t<span className=\"ml5\">小时</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议地点\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('place', {\r\n\t\t\t\t\t\tinitialValue: place || '',\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(<TextArea onChange={this.handleChange.bind(this, 'place')} autoSize={{minRows: 1}}\r\n\t\t\t\t\t             placeholder=\"请输入\"/>)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"参会人员\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('people', {\r\n\t\t\t\t\t\tinitialValue: people || '',\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(<TextArea onChange={this.handleChange.bind(this, 'people')} autoSize={{minRows: 1}}\r\n\t\t\t\t\t             placeholder=\"请输入\"/>)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label={<span><span style={{\r\n\t\t\t\t\tfontWeight: \"700\",\r\n\t\t\t\t\tmarginRight: \"4px\",\r\n\t\t\t\t\tcolor: \"#f5222d\",\r\n\t\t\t\t\tfontSize: \"14px\",\r\n\t\t\t\t\tfontFamily: \"SimSun, sans-serif\"\r\n\t\t\t\t}}>*</span>会议目标</span>} colon={false} className=\"edit_form_bold\" style={{marginBottom: '3px'}}></Form.Item>\r\n\t\t\t\t<ReactKindeditor\r\n\t\t\t\t\tvalue={target}\r\n\t\t\t\t\tonChange={this.handleBChange.bind(this, 'target')}\r\n\t\t\t\t\tid=\"target\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Item label={<span><span style={{\r\n\t\t\t\t\tfontWeight: \"700\",\r\n\t\t\t\t\tmarginRight: \"4px\",\r\n\t\t\t\t\tcolor: \"#f5222d\",\r\n\t\t\t\t\tfontSize: \"14px\",\r\n\t\t\t\t\tfontFamily: \"SimSun, sans-serif\"\r\n\t\t\t\t}}>*</span>会议纪要</span>} colon={false} className=\"edit_form_bold\" style={{marginBottom: '3px'}}></Form.Item>\r\n\t\t\t\t<ReactKindeditor\r\n\t\t\t\t\tvalue={content}\r\n\t\t\t\t\tonChange={this.handleBChange.bind(this, 'content')}\r\n\t\t\t\t\tid=\"content\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Item label={<span><span style={{\r\n\t\t\t\t\tfontWeight: \"700\",\r\n\t\t\t\t\tmarginRight: \"4px\",\r\n\t\t\t\t\tcolor: \"#f5222d\",\r\n\t\t\t\t\tfontSize: \"14px\",\r\n\t\t\t\t\tfontFamily: \"SimSun, sans-serif\"\r\n\t\t\t\t}}>*</span>会议结论</span>} colon={false} className=\"edit_form_bold\" style={{marginBottom: '3px'}}></Form.Item>\r\n\t\t\t\t<ReactKindeditor\r\n\t\t\t\t\tvalue={conclusion}\r\n\t\t\t\t\tonChange={this.handleBChange.bind(this, 'conclusion')}\r\n\t\t\t\t\tid=\"conclusion\"\r\n\t\t\t\t/>\r\n\t\t\t\t{/*<Form.Item label=\"会议目标\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('target', {\r\n\t\t\t\t\t\tinitialValue: target,\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<BraftEditor\r\n\t\t\t\t\t\t\tfontSizes={[\r\n\t\t\t\t\t\t\t\t12, 14, 16, 18, 20, 24,\r\n\t\t\t\t\t\t\t\t28, 30, 32, 36, 40, 48,\r\n\t\t\t\t\t\t\t\t56, 64\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={this.handleBChange.bind(this, 'target')}\r\n\t\t\t\t\t\t\tclassName=\"my-editor\"\r\n\t\t\t\t\t\t\tcontrols={excludeControls}\r\n\t\t\t\t\t\t\tcontentStyle={{\r\n\t\t\t\t\t\t\t\tminHeight: 150,\r\n\t\t\t\t\t\t\t\tmaxHeight: 400,\r\n\t\t\t\t\t\t\t\toverflowY: 'scroll',\r\n\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\textendControls={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tkey: 'antd-uploader',\r\n\t\t\t\t\t\t\t\t\ttype: 'component',\r\n\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t<MyUploadOne\r\n\t\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.saveAttachment.bind(this, \"target\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\timageControls={imageControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议纪要\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('content', {\r\n\t\t\t\t\t\tinitialValue: content,\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<BraftEditor\r\n\t\t\t\t\t\t\tfontSizes={[\r\n\t\t\t\t\t\t\t\t12, 14, 16, 18, 20, 24,\r\n\t\t\t\t\t\t\t\t28, 30, 32, 36, 40, 48,\r\n\t\t\t\t\t\t\t\t56, 64\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\tonChange={this.handleBChange.bind(this, 'content')}\r\n\t\t\t\t\t\t\tclassName=\"my-editor\"\r\n\t\t\t\t\t\t\tcontrols={excludeControls}\r\n\t\t\t\t\t\t\tcontentStyle={{\r\n\t\t\t\t\t\t\t\tminHeight: 150,\r\n\t\t\t\t\t\t\t\tmaxHeight: 400,\r\n\t\t\t\t\t\t\t\toverflowY: 'scroll',\r\n\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\textendControls={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tkey: 'antd-uploader',\r\n\t\t\t\t\t\t\t\t\ttype: 'component',\r\n\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t<MyUploadOne\r\n\t\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.saveAttachment.bind(this, \"content\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\timageControls={imageControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"会议结论\" className=\"edit_form_bold\">\r\n\t\t\t\t\t{getFieldDecorator('conclusion', {\r\n\t\t\t\t\t\tinitialValue: conclusion,\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '该项是必填',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<BraftEditor\r\n\t\t\t\t\t\t\tfontSizes={[\r\n\t\t\t\t\t\t\t\t12, 14, 16, 18, 20, 24,\r\n\t\t\t\t\t\t\t\t28, 30, 32, 36, 40, 48,\r\n\t\t\t\t\t\t\t\t56, 64\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={this.handleBChange.bind(this, 'conclusion')}\r\n\t\t\t\t\t\t\tvalue={conclusion}\r\n\t\t\t\t\t\t\tclassName=\"my-editor\"\r\n\t\t\t\t\t\t\tcontrols={excludeControls}\r\n\t\t\t\t\t\t\tcontentStyle={{\r\n\t\t\t\t\t\t\t\tminHeight: 150,\r\n\t\t\t\t\t\t\t\tmaxHeight: 400,\r\n\t\t\t\t\t\t\t\toverflowY: 'scroll',\r\n\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\textendControls={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tkey: 'antd-uploader',\r\n\t\t\t\t\t\t\t\t\ttype: 'component',\r\n\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t<MyUploadOne\r\n\t\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.saveAttachment.bind(this, \"conclusion\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\timageControls={imageControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>*/}\r\n\t\t\t\t<Form.Item label=\"下一步行动\" colon={false} className=\"edit_form_bold\"></Form.Item>\r\n\t\t\t\t<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{assignments!==undefined&&assignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t<Form.Item {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"附件\" className=\"edit_form_bold\">\r\n\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\tsaveAttachment={this.handleAttment.bind(this, 'attachments')}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\tossData={mobx.toJS(ossData)}\r\n\t\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t\t\tjournalType=\"journal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"内容生成\" className=\"edit_form_bold\">\r\n\t\t\t\t\t<Spin tip={this.state.tip} spinning={this.state.isLoading} delay={100}>\r\n\t\t\t\t\t\t<Button type=\"link\" onClick={this.creatWord.bind(this, \"1\")}>点击生成并存储为Word文档</Button>\r\n\t\t\t\t\t\t<Button className=\"ml20\" type=\"link\" onClick={this.creatWord.bind(this, \"2\")}>点击生成并存储为PDF文档</Button>\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"内容发送\" className=\"edit_form_bold clearfix\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{position: 'relative', top: '4px'}}\r\n\t\t\t\t\t\tclassName=\"fl\" type=\"link\" onClick={this.sendReport}>点击发送邮件</Button>\r\n\t\t\t\t\t<div className=\"fl\" style={{width:'275px'}}>\r\n\t\t\t\t\t\t<Checkbox.Group\r\n\t\t\t\t\t\t\tclassName=\"attc_checks\"\r\n\t\t\t\t\t\t\tvalue={checks}\r\n\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\tonChange={this.onChangeAttc}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t\t<div className=\"fl mr25 ml15\">\r\n\t\t\t\t\t\t<span>收件人：</span>\r\n\t\t\t\t\t\t<EditableTagEmail2\r\n\t\t\t\t\t\t\ttitle=\"添加收件人地址\"\r\n\t\t\t\t\t\t\tdata={emails}\r\n\t\t\t\t\t\t\tupdateState={this.updateState.bind(this, 'emails')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"fl\" style={{minWidth:'80px'}}>\r\n\t\t\t\t\t\t<PersonAdd2\r\n\t\t\t\t\t\t\tdata={userIds}\r\n\t\t\t\t\t\t\tupdatePerson={this.updateState.bind(this, 'userIds')}\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\ttitle=\"添加收件人\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t\t<div className=\"fl mr25 ml15\">\r\n\t\t\t\t\t\t<span>抄送人：</span>\r\n\t\t\t\t\t\t<EditableTagEmail2\r\n\t\t\t\t\t\t\ttitle=\"添加抄送人地址\"\r\n\t\t\t\t\t\t\tdata={ccEmails}\r\n\t\t\t\t\t\t\tupdateState={this.updateState.bind(this, 'ccEmails')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"fl\" style={{minWidth:'80px'}}>\r\n\t\t\t\t\t\t<PersonAdd2\r\n\t\t\t\t\t\t\tdata={ccUserIds}\r\n\t\t\t\t\t\t\tupdatePerson={this.updateState.bind(this, 'ccUserIds')}\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\ttitle=\"添加抄送人\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\tsm: {span: 24}\r\n\t\t\t\t\t}}\r\n                    className=\"clearfix tr mt20 pl20 pr20 fixed_bottom\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: this.props.appStore.collapsed?\"calc(100% - 470px)\":\" calc(100% - 590px)\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button className=\"fl\"\r\n\t\t\t\t\t        shape=\"round\"\r\n\t\t\t\t\t        style={{\r\n\t\t\t\t\t        \tposition: 'relative',\r\n\t\t\t\t\t\t        top: '4px'\r\n\t\t\t\t\t        }}\r\n\t\t\t\t\t        type=\"primary\"\r\n\t\t\t\t\t        onClick={this.saveDraft}>\r\n\t\t\t\t\t\t保存草稿\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消本次编辑吗?\" onConfirm={() => this.onClose()}>\r\n\t\t\t\t\t\t<Button shape=\"round\" style={{marginRight: 8}}>\r\n\t\t\t\t\t\t\t返回\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t<Button shape=\"round\"\r\n\t\t\t\t\t        loading={loading}\r\n\t\t\t\t\t        onClick={this.handleSubmit}\r\n\t\t\t\t\t        type=\"primary\">\r\n\t\t\t\t\t\t提交发布\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst editForm = Form.create({})(EditeMeeting);\r\nexport default editForm;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/EditeMeeting.js","/*\r\n* 共享编辑\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Icon, Input, Col, Row, Modal, Avatar, message, Button, Empty} from 'antd';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport * as _ from 'lodash'\r\n\r\nconst colorList = ['#f56a00', '#7265e6', '#ffbf00', '#00a2ae', '#F08080', '#EEE685', '#9400D3', '#D1EEEE', '#90EE90']; // 十个颜色\r\n\r\n@inject('UserStore')\r\n@observer\r\nclass PersonEdit extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\ttext: '',\r\n\t\t\tvisible: false,\r\n\t\t\toldSelect: this.props.data, // 已选择的人员,\r\n\t\t\tdefaultData: [], // 默认数据\r\n\t\t\tdata: [], // 已选择标记的数据\r\n\t\t\tfilterData: [], // 筛选数据\r\n\t\t}\r\n\t\tthis.getData = this.getData.bind(this);\r\n\t\tthis.handleClickDebounce = _.debounce(this.getData, 500, {'maxWait': 1000});\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps, nextContext) {\r\n\t\tthis.setState({\r\n\t\t\toldSelect: nextProps.data\r\n\t\t}, () => {\r\n\t\t\tthis.init();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst params = \"\";\r\n\t\t// 未选的全部用户\r\n\t\tthis.props.UserStore.getRole(params).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdefaultData: res.body.map((item) => Object.assign(item, {selected: false})),\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.init();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// 初始化\r\n\tinit = () => {\r\n\t\tlet defaultDatas = JSON.parse(JSON.stringify(this.state.defaultData));\r\n\t\t//  将已选定的用户做标记\r\n\t\tlet arr = defaultDatas.map((item) => {\r\n\t\t\tlet obj = {}\r\n\t\t\tif ([...this.state.oldSelect].some(v => v === item.id)) {\r\n\t\t\t\tobj = Object.assign(item, {selected: true})\r\n\t\t\t} else {\r\n\t\t\t\tobj = Object.assign(item, {selected: false})\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tdata: Object.assign([], arr)\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.handleClickDebounce.cancel();\r\n\t}\r\n\r\n\t// 提交\r\n\thandleOk = () => {\r\n\t\tlet dataArray = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tconst users = dataArray.filter((res) => {\r\n\t\t\treturn res.selected == true\r\n\t\t}).map((item, index) => {\r\n\t\t\treturn item.id;\r\n\t\t});\r\n\r\n\t\t// 保存\r\n\t\tthis.store.saveSharedEditing(users).then((res)=>{\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"保存成功\");\r\n\t\t\t\tthis.handleCancel();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// 取消\r\n\thandleCancel = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t\ttext: \"\",\r\n\t\t\tdata: Object.assign([], this.state.defaultData),\r\n\t\t\toldSelect: this.props.data\r\n\t\t});\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\t// 点击列表选中\r\n\thandClick = (param) => {\r\n\t\tlet dataArray = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tconst dindex = dataArray.findIndex((item) => {\r\n\t\t\treturn item.id == param.id\r\n\t\t})\r\n\t\tdataArray.splice(dindex, 1, Object.assign(param, {selected: true}))\r\n\t\tthis.setState({\r\n\t\t\tdata: Object.assign([], dataArray)\r\n\t\t})\r\n\t}\r\n\r\n\t// 点击列表删除\r\n\thandClickDel = (param) => {\r\n\t\tlet dataArray = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tconst dindex = dataArray.findIndex((item) => {\r\n\t\t\treturn item.id == param.id\r\n\t\t})\r\n\t\tdataArray.splice(dindex, 1, Object.assign(param, {selected: false}))\r\n\t\tthis.setState({\r\n\t\t\tdata: Object.assign([], dataArray)\r\n\t\t})\r\n\t}\r\n\r\n\t// 模糊搜索\r\n\tonChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\ttext: _.trim(e.target.value)\r\n\t\t});\r\n\t\tthis.handleClickDebounce()\r\n\t}\r\n\r\n\tgetData() {\r\n\t\tconst {text, data} = this.state;\r\n\t\tlet dataArray = JSON.parse(JSON.stringify(data));\r\n\t\tlet filterData = dataArray.filter(item => (item.realname).indexOf(text) > -1 || (item.phone).indexOf(text) > -1)\r\n\t\tthis.setState({\r\n\t\t\tfilterData: filterData\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {data, oldSelect, filterData, text, defaultData} = this.state;\r\n\t\tconst {disabled, title, visible} = this.props;\r\n\t\tlet isFilter = text == \"\" || text == null;\r\n\t\tconst activeData = isFilter ? data : filterData;  // 当前数据\r\n\t\treturn (<Modal\r\n\t\t\t\tzIndex=\"1099\"\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tokText={'提交'}\r\n\t\t\t\ttitle={title||\"添加负责人\"}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<Row type=\"flex\" justify=\"space-between\" className=\"\">\r\n\t\t\t\t\t<Col span={12} className='pr20'>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\tplaceholder=\"输入姓名/手机号\"\r\n\t\t\t\t\t\t\tsuffix={<Icon type=\"search\"/>}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\tautoHide\r\n\t\t\t\t\t\t\tautoHideTimeout={1000}\r\n\t\t\t\t\t\t\tautoHideDuration={200}\r\n\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t\tautoHeightMin={0}\r\n\t\t\t\t\t\t\tautoHeightMax={350}\r\n\t\t\t\t\t\t\tthumbMinSize={30}\r\n\t\t\t\t\t\t\tuniversal={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ul className=\"userlist_ul\">\r\n\t\t\t\t\t\t\t\t{activeData.length > 0 && activeData.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\treturn <li\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pr\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handClick.bind(this, item)}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ul_name\">{item.realname}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ul_station\">{item.station}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ul_email\">{item.email}</div>\r\n\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tright: '15px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '16px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'rgba(75,164,190,1)'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={item.selected ? \"active\" : \"hidden\"} type=\"check\"/>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</Scrollbars>\r\n\t\t\t\t\t\t{activeData.length == 0 ?\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original\"\r\n\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\t\t\t\tmarginTop: \"30px\"\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\"暂无匹配\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tl\" style={{\r\n\t\t\t\t\t\tminHeight: '350px',\r\n\t\t\t\t\t\tborderLeft: '1px solid #e6e6e6'\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<p className=\"pl20\">已选成员({data && data.filter((res) => {\r\n\t\t\t\t\t\t\treturn res.selected == true\r\n\t\t\t\t\t\t}).length})</p>\r\n\t\t\t\t\t\t<ul className=\"userlist_ul_del\">\r\n\t\t\t\t\t\t\t{data.filter((res) => {\r\n\t\t\t\t\t\t\t\treturn res.selected == true\r\n\t\t\t\t\t\t\t}).length > 0 && data.filter((res) => {\r\n\t\t\t\t\t\t\t\treturn res.selected == true\r\n\t\t\t\t\t\t\t}).map((item, index) => {\r\n\t\t\t\t\t\t\t\treturn <li\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tclassName=\"pr\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.handClickDel.bind(this, item)}>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'inlineBlock',\r\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: colorList[index % 10],\r\n\t\t\t\t\t\t\t\t\t\t\tverticalAlign: 'middle'\r\n\t\t\t\t\t\t\t\t\t\t}} size=\"small\">\r\n\t\t\t\t\t\t\t\t\t\t{item.realname.slice(0, 1)}\r\n\t\t\t\t\t\t\t\t\t</Avatar> {/*颜色随机取值*/}\r\n\t\t\t\t\t\t\t\t\t<span className=\"ul_name\">{item.realname}</span>\r\n\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\ttop: '13px',\r\n\t\t\t\t\t\t\t\t\t\t\tright: '15px',\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '16px',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'rgba(184,80,74,1)',\r\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"userlist_ul_icon\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"close\"/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default PersonEdit;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/PersonEdit.js","/*\r\n* 详情表单 工厂周报\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Form, Button, message, Input, Icon, Row, Col, Tag, Popconfirm, Typography, Menu, Dropdown, Modal} from 'antd';\r\nimport {showText} from '@/utils/utils';\r\nimport moment from 'moment';\r\nimport {Base64} from 'js-base64';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport PersonAddIcon from \"@/components/worktile/PersonAddIcon\";\r\nimport MyUpload from \"@/components/common/MyUpload\";\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport CommentList from \"@/components/digitalOrg/CommentList\";\r\nimport EditeVisit from \"@/components/digitalOrg/EditeVisit\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\nconst {Text} = Typography;\r\n\r\n@observer\r\nclass DetailFormFactoryreport extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\taddAssignments: [],\r\n\t\t\tnewAddignments: [],\r\n\t\t\taudioSrc:  \"\",\r\n\t\t\tfileName: \"\",\r\n\t\t\tisEdit: false,  // 默认详情态\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.detailData) != JSON.stringify(this.props.detailData)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewAddignments: nextProps.detailData.addAssignments == null ? [] : nextProps.detailData.addAssignments,\r\n\t\t\t\taddAssignments: [],\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\t// 同步\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.props.onAsync(type, id, index);\r\n\t}\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tcustomList.splice(index, 1);\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([], customList)\r\n\t\t});\r\n\t};\r\n\r\n\thandleAdd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (customList.some((item) => {\r\n\t\t\treturn item.userInformations.length == 0\r\n\t\t})) {\r\n\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: [...customList, {\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"userInformations\": []\r\n\t\t\t}]\r\n\t\t});\r\n\t}\r\n\r\n\tupdateState = (type, data) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: Object.assign([], data)\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员选择更新\r\n\tupdatePerson = (index, userIds) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].userInformations = Object.assign([], userIds)\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (index, e) => {\r\n\t\tlet fields = JSON.parse(JSON.stringify(this.state.addAssignments));\r\n\t\tfields[index].name = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: fields\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst {addAssignments} = this.state;\r\n\t\t// 校验下一步\r\n\t\tif (!addAssignments.some((item) => {\r\n\t\t\treturn (item.name == \"\" || item.name == null) && (item.userInformations.length == 0)\r\n\t\t})) {\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.name == \"\" || item.name == null;\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"任务名是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (addAssignments.some((item) => {\r\n\t\t\t\treturn item.userInformations.length == 0\r\n\t\t\t})) {\r\n\t\t\t\tmessage.warn(\"负责人是必填项\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*let {detailData} = this.props;\r\n\t\tlet detail = JSON.parse(JSON.stringify(detailData));\r\n\t\tdetail.addAssignments = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t});*/\r\n\r\n\t\tconst detail = addAssignments.filter((item)=>{\r\n\t\t\treturn !((item.name == \"\" || item.name == null)&&(item.userInformations.length == 0))\r\n\t\t}).map(item=>Object.assign(item, {type: 1}))\r\n\t\tthis.props.handleAddNew(detail);\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCalc = () => {\r\n\t\tthis.setState({\r\n\t\t\taddAssignments: Object.assign([]),\r\n\t\t\taudioSrc: \"\",\r\n\t\t\tfileName: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tclickChange = (e) => {\r\n\t\tconst {item} = e.item.props;\r\n\t\tthis.setState({\r\n\t\t\taudioSrc: item.filePath,\r\n\t\t\tfileName: item.fileName\r\n\t\t});\r\n\t}\r\n\r\n\t// 切换编辑\r\n\thanndleChangeEdit = () => {\r\n\t\tthis.store.changeCanEdit()\r\n\t\t.then((res)=>{\r\n\t\t\t// 判断当前的权限, 是当前人员继续编辑，存在编辑时给出提示\r\n\t\t\tif (res) {\r\n\t\t\t\tconst {userId, userName} = res;\r\n\t\t\t\tconst userid = localStorage.getItem(\"userid\");\r\n\t\t\t\tif (userId==userid) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisEdit: !this.state.isEdit\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tModal.warning({\r\n\t\t\t\t\t\ttitle: userName+'正在编辑中'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisEdit: !this.state.isEdit\r\n\t\t}, ()=>{\r\n\t\t\tthis.store.isEdit = this.state.isEdit;\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 3},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 20},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst formItemLayoutWithOutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 0},\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayoutLabel = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\tsm: {span: 20, offset: 3},\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet {detailData,visible} = this.props;\r\n\t\tconst journalMain = detailData.journalMain || {};\r\n\t\tconst journalSub = Base64.decode(detailData.journalSub == undefined ? \"\" : detailData.journalSub) || {};\r\n\t\tconst assignments = detailData.assignments || [];\r\n\t\tconst sub = typeof journalSub == \"string\" ? JSON.parse(journalSub) : {};\r\n\t\tconst atts = detailData.atts == null ? [] : detailData.atts;\r\n\t\tconst attachments = atts==null?[]:atts.map((vitem, vindex) => {\r\n\t\t\treturn Object.assign({}, {\r\n\t\t\t\tuid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tname: vitem.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: vitem.filePath,\r\n\t\t\t\tfileId: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\tid: vitem.id==null?\"!\" + uuidv4():vitem.id,\r\n\t\t\t})\r\n\t\t})\r\n\t\tconst audio = detailData.audio==null?[]:detailData.audio;\r\n\t\tconst canEdit = detailData.canEdit==1?true:false;\r\n\t\tconst {addAssignments, newAddignments, audioSrc, fileName} = this.state;\r\n\t\tconst {isEdit} = this.store;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isShow = canEdit;\r\n\t\tlet isJeks = journalMain.userName==username;\r\n\t\tconst dropDown = (\r\n\t\t\t<Dropdown\r\n\t\t\t\toverlay={<Menu>\r\n\t\t\t\t{audio.map((item,index)=>{\r\n\t\t\t\t\treturn <Menu.Item key={index} onClick={this.clickChange} item={item}>{item.fileName}</Menu.Item>\r\n\t\t\t\t})}\r\n\t\t\t</Menu>}>\r\n\t\t\t\t<a className=\"ant-dropdown-link\"\r\n\t\t\t\t   style={{position: \"absolute\", right: 0,top: 0 }}\r\n\t\t\t\t   onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t{audio.length>0? fileName||audio[0].fileName : null}<Icon type=\"down\" />\r\n\t\t\t\t</a>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n        let oldTime = moment(\"2021-01-24\").valueOf(); //要求是 2021年1月24日以前，老数据不变\r\n        let isOld = sub.beginTime!=undefined&&(sub.beginTime>oldTime);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w pr\">\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: '0',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\tzIndex: '5'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{!isEdit&&isShow?<Button className={visible==true?\"hidden\":\"\"} type=\"link\" onClick={this.hanndleChangeEdit}>编辑</Button>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*详情态*/}\r\n\t\t\t\t{!isEdit?\r\n\t\t\t<Form {...formItemLayoutWithOutLabel}>\r\n\t\t\t\t<Form.Item colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<div className=\"detail_form pr\">\r\n\t\t\t\t\t\t<p className=\"form_title\">{journalMain.title}\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\tmaxWidth: '500px',\r\n\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\tpaddingLeft: '10px'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{journalMain.tags == null ? null : journalMain.tags.map((item) => {\r\n\t\t\t\t\t\t\t\treturn <Tag color=\"gold\" className=\"ml5\">{item.name}</Tag>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"form_name\">{journalMain.userName}\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_time\">{showText(moment(journalMain.createTime).format(\"YYYY-MM-DD HH:mm\"), moment(journalMain.createTime).format(\"HH:mm\"))}</span>\r\n\t\t\t\t\t\t\t<CommentList\r\n\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\tscrollToAnchor={this.props.scrollToAnchor}\r\n\t\t\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\t\t\tisWeekShow={isJeks}\r\n\t\t\t\t\t\t\t\tuserId={journalMain.userId}\r\n\t\t\t\t\t\t\t\ttemType=\"weekreport\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{audio.length>0&&dropDown}\r\n\t\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tright: 0,\r\n\t\t\t\t\t\t\ttop: '30px'\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{audioSrc?<ReactAudioPlayer\r\n\t\t\t\t\t\t\t\tsrc={audioSrc||\"\"}\r\n\t\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\t/>:null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false}\r\n\t\t\t\t           className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">周报标题</span><span className=\"form_nextname\">{sub.title}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">时间范围</span><span className=\"form_nextname\">{moment(sub.beginTime).format(\"YYYY年MM月DD日\")} 至 {moment(sub.endTime).format(\"YYYY年MM月DD日\")}</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">一、本周重点工作</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.weekContent}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">二、工厂建设</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.factoryBuild}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">三、 产线建设</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.productionLine}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">四、产品及技术</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.productsTechnologies}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">五、运营支持</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.operationalSupport}}></div>\r\n\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t           colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">六、各版块工作看板</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"deaft_content_detail\" style={{paddingLeft: '14px'}} dangerouslySetInnerHTML={{__html: sub.board}}></div>\r\n\r\n\r\n\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">下一步行动</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"detail_form_bold\">\r\n\t\t\t\t\t{assignments.map((item, index) => {\r\n\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"assignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"\" colon={false} className=\"detail_form_bold mt15\">\r\n\t\t\t\t\t<span className=\"detail_form_bold_title\">附件</span>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div style={{paddingLeft:'14px'}}>\r\n\t\t\t\t<MyUpload\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\tfileList={attachments == null ? [] : attachments}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*追加任务*/}\r\n\t\t\t\t{!this.props.hasJournal?\r\n\t\t\t\t\t<Form.Item label=\"\"\r\n\t\t\t\t\t           colon={false}\r\n\t\t\t\t\t           className={newAddignments!==undefined&&newAddignments.length==0?\"hidden\":\"detail_form_bold\"}>\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>:<Form.Item  label=\"\"\r\n\t\t\t\t\t                         colon={false}\r\n\t\t\t\t\t                         className=\"detail_form_bold\">\r\n\t\t\t\t\t\t<span className=\"detail_form_bold_title\">追加任务</span>\r\n\t\t\t\t\t\t{newAddignments !== undefined && newAddignments.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form_nextname\">{index + 1} - {item.name} {item.userInformations == null || item.userInformations.length == 0 ? null : \" -- \" + item.userInformations.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn vitem.userName\r\n\t\t\t\t\t\t\t\t\t\t}).join('、')}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.isSync == 1 ? <Text type=\"warning\" className=\"ml15\">已同步</Text> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className={!this.props.hasJournal || item.isSync == 1 ? \"hidden\" : \"ml15\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t        type=\"link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t        onClick={this.onAsync.bind(this, \"addAssignments\", item.id, index)}>同步到公司任务清单</Button>}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Form.Item>}\r\n\t\t\t\t{!this.props.hasJournal ? null :<Row className=\"mb10\">\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>任务名</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={12} className=\"tc\">\r\n\t\t\t\t\t\t<div>负责人</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>}\r\n\t\t\t\t{addAssignments !== undefined && addAssignments.map((vitem, vindex) => {\r\n\t\t\t\t\treturn <Row key={`subname+${vindex}`}\r\n\t\t\t\t\t            style={{paddingTop: '10px', borderBottom: \"1px dashed #E6E6E6\"}}>\r\n\t\t\t\t\t\t<Col span={12} className=\"pr\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input value={vitem.name == null ? \"\" : vitem.name}\r\n\t\t\t\t\t\t\t\t       placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t       onChange={this.onChange.bind(this, vindex)}/>\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => this.remove(vindex)}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"default\"/>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel={\" \"}\r\n\t\t\t\t\t\t\t\tcolon={false}\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 6}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 16}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PersonAddIcon\r\n\t\t\t\t\t\t\t\t\tdata={vitem.userInformations == null ? [] : vitem.userInformations}\r\n\t\t\t\t\t\t\t\t\tupdatePerson={this.updatePerson.bind(this, vindex)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t})}\r\n\t\t\t\t\t\t{!this.props.hasJournal ? null :\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel}>\r\n\t\t\t\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t\t\t\t      style={{cursor: 'pointer', margin: '10px 0', color: '#4BA4BE', fontSize: '22px'}}\r\n\t\t\t\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...formItemLayoutLabel} className={addAssignments !== undefined && addAssignments.length==0?\"hidden\":\"tr\"}>\r\n\t\t\t\t\t\t\t<Button onClick={this.handleSubmit} type=\"primary\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Popconfirm placement=\"top\" title=\"确定要取消吗?\" onConfirm={() => this.handleCalc()}>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml15\" type=\"default\" shape=\"round\">\r\n\t\t\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</Form>:<EditeVisit\r\n\t\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\tdetailData={detailData}\r\n\t\t\t\t\t\tonCancle={this.handleCancle}\r\n\t\t\t\t\t\tpathname={this.props.pathname}\r\n\t\t\t\t\t\thandleDraftRoute={this.props.handleDraftRoute}\r\n\t\t\t\t\t\thandleRoute={this.props.handleRoute}\r\n\t\t\t\t\t\tgetTable={this.props.getTable}\r\n\t\t\t\t\t\ttemType=\"factoryreport\"\r\n\t\t\t\t\t\tisWeekShow={isJeks}\r\n\t\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailFormFactoryreport;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailFormFactoryreport.js","/*\r\n* 详情弹框\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Drawer, message} from 'antd';\r\nimport {inject, observer} from 'mobx-react'\r\nimport * as mobx from 'mobx';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport DetailForm from './DetailForm';\r\nimport DetailFormMonthlySharing from './DetailFormMonthlySharing';\r\nimport DetailFormVisit from './DetailFormVisit';\r\nimport DetailFormSummary from './DetailFormSummary';\r\nimport DetailFormReplay from './DetailFormReplay';\r\nimport DetailFormNews from './DetailFormNews';\r\nimport DetailFormWeekReport from './DetailFormWeekReport';\r\nimport DigitalComment from \"@/components/digitalOrg/DigitalComment\";\r\n\r\nimport 'braft-editor/dist/index.css';\r\n\r\n@withRouter\r\n@observer\r\nclass DetailModal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.store.syncAssignment(id).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"同步成功\");\r\n\t\t\t\t// 前端同步数据\r\n\t\t\t\tlet detailData = JSON.parse(JSON.stringify(this.store.detailData));\r\n\t\t\t\tlet assignments = detailData[type];\r\n\t\t\t\tassignments[index].isSync = 1; // 同步成功\r\n\t\t\t\tthis.store.detailData = Object.assign(detailData, {\r\n\t\t\t\t\t[type]: assignments\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存追加任务\r\n\thandleAddNew = (detail) =>{\r\n\t\tthis.store.saveAssignments(detail).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"保存成功\");\r\n\t\t\t\t// 重查\r\n\t\t\t\tthis.store.getJournalById(this.store.selestedId)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.store.detailData = Object.assign({}, res);\r\n\t\t\t\t\tthis.child.handleCalc();\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonRef = (ref) => {\r\n\t\tthis.child = ref\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tconst {onClose} = this.props;\r\n\t\tonClose();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {visible} = this.props;\r\n\t\tconst {detailData, hasJournal, temList} = this.store;\r\n\t\tconst temType = mobx.toJS(temList).type;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\twidth={\"70%\"}\r\n\t\t\t\ttitle=\"详情\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={true}\r\n\t\t\t\tonClose={this.reset}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t>\r\n\t\t\t\t{temType===\"meeting\"?<DetailForm\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"monthlySharing\"?<DetailFormMonthlySharing\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"visit\"?<DetailFormVisit\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"summary\"?<DetailFormSummary\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"replay\"?<DetailFormReplay\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"news\"?<DetailFormNews\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"weekreport\"?<DetailFormWeekReport\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t<DigitalComment\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailModal;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailModal.js","/*\r\n* 详情弹框\r\n* dangw\r\n* */\r\nimport React from 'react';\r\nimport {Drawer, message} from 'antd';\r\nimport {inject, observer} from 'mobx-react'\r\nimport * as mobx from 'mobx';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport DetailForm from './DetailForm';\r\nimport DetailFormMonthlySharing from './DetailFormMonthlySharing';\r\nimport DetailFormVisit from './DetailFormVisit';\r\nimport DetailFormSummary from './DetailFormSummary';\r\nimport DetailFormReplay from './DetailFormReplay';\r\nimport DetailFormNews from './DetailFormNews';\r\nimport DetailFormWeekReport from './DetailFormWeekReport';\r\nimport DetailFormFactoryreport from './DetailFormFactoryreport';\r\nimport DigitalComment from \"@/components/digitalOrg/DigitalComment\";\r\n\r\nimport 'braft-editor/dist/index.css';\r\n\r\n@withRouter\r\n@observer\r\nclass DetailOfficeModal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\tonAsync = (type, id, index) => {\r\n\t\tthis.store.syncAssignment(id).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"同步成功\");\r\n\t\t\t\t// 前端同步数据\r\n\t\t\t\tlet detailData = JSON.parse(JSON.stringify(this.store.detailData));\r\n\t\t\t\tlet assignments = detailData[type];\r\n\t\t\t\tassignments[index].isSync = 1; // 同步成功\r\n\t\t\t\tthis.store.detailData = Object.assign(detailData, {\r\n\t\t\t\t\t[type]: assignments\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存追加任务\r\n\thandleAddNew = (detail) =>{\r\n\t\tthis.store.saveAssignments(detail).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"保存成功\");\r\n\t\t\t\t// 重查\r\n\t\t\t\tthis.store.getJournalById(this.store.selestedId)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.store.detailData = Object.assign({}, res);\r\n\t\t\t\t\tthis.child.handleCalc();\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonRef = (ref) => {\r\n\t\tthis.child = ref\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tconst {onClose} = this.props;\r\n\t\tonClose();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {visible} = this.props;\r\n\t\tconst {detailData, hasJournal, temList} = this.store;\r\n\t\tconst temType = mobx.toJS(temList).type;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\twidth={\"70%\"}\r\n\t\t\t\ttitle=\"详情\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={true}\r\n\t\t\t\tonClose={this.reset}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t>\r\n\t\t\t\t{temType===\"meeting\"?<DetailForm\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"monthlySharing\"?<DetailFormMonthlySharing\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"visit\"?<DetailFormVisit\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"summary\"?<DetailFormSummary\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"replay\"?<DetailFormReplay\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"news\"?<DetailFormNews\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"weekreport\"?<DetailFormWeekReport\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t{temType===\"factoryreport\"?<DetailFormFactoryreport\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\tdetailData={mobx.toJS(detailData)}\r\n\t\t\t\t\thasJournal={hasJournal}\r\n\t\t\t\t\tonAsync={this.onAsync}\r\n\t\t\t\t\thandleAddNew={this.handleAddNew}\r\n\t\t\t\t\tonRef={this.onRef}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t/>:null}\r\n\t\t\t\t<DigitalComment\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailOfficeModal;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DetailOfficeModal.js","/*\r\n* 列表\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Icon, Table, Pagination, ConfigProvider, Popconfirm, Tooltip, Progress, message, Checkbox, Button, Form, Input, InputNumber, DatePicker} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport DetailModal from '@/components/digitalOrg/DetailModal';\r\nimport DetailOfficeModal from '@/components/digitalOrg/DetailOfficeModal';\r\nimport moment from 'moment';\r\nlet officeArray = [\"智建美住周报\"];  //  公文\r\n\r\nconst {TextArea} = Input;\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无数据</p>\r\n\t</div>\r\n);\r\nconst EditableContext = React.createContext();\r\nconst EditableRow = ({form, index, ...props}) => (\r\n\t<EditableContext.Provider value={form}>\r\n\t\t<tr {...props} />\r\n\t</EditableContext.Provider>\r\n);\r\nconst EditableFormRow = Form.create()(EditableRow);\r\n\r\nclass EditableCell extends React.Component {\r\n\tstate = {\r\n\t\tediting: false,\r\n\t};\r\n\r\n\ttoggleEdit = () => {\r\n\t\tconst editing = !this.state.editing;\r\n\t\tthis.setState({editing}, () => {\r\n\t\t\tif (editing) {\r\n\t\t\t\tthis.input.focus();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tsave = e => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (error && error[e.currentTarget.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete values[\"completeTime\"];\r\n\t\t\tthis.toggleEdit();\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t};\r\n\r\n\t//日期格式保存\r\n\tsaveDate = (date, dateString) => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (values.hasOwnProperty('completeTime')) {\r\n\t\t\t\tvalues[\"completeTime\"] = moment(dateString, 'YYYY-MM-DD').valueOf();\r\n\t\t\t}\r\n\t\t\tthis.toggleEdit();\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t}\r\n\r\n\tshowStatus = (value) => {\r\n\t\tif (value == 3) {\r\n\t\t\treturn \"#F5222D\";\r\n\t\t} else if (value == 1) {\r\n\t\t\treturn \"#1890FF\";\r\n\t\t} else if (value == 2) {\r\n\t\t\treturn \"#52C41A\";\r\n\t\t} else {\r\n\t\t\treturn \"#333\";\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = () => {\r\n\t\tthis.toggleEdit();\r\n\t}\r\n\r\n\t//设置结束不能选择的时间\r\n\tdisabledEndDate = endValue => {\r\n\t\tconst {record} = this.props;\r\n\t\tif (!endValue || !record.beginTime) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn endValue.valueOf() < moment(moment(record.beginTime).format('YYYY-MM-DD')).valueOf()\r\n\t}\r\n\r\n\t// 数字提示\r\n\tnumberChange = (value) => {\r\n\t\tif (value==null) return false;\r\n\t\tif (value>=100) {\r\n\t\t\tmessage.warn(\"超过100, 任务会完成!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\trenderCell = form => {\r\n\t\tthis.form = form;\r\n\t\tconst {children, dataIndex, record, title} = this.props;\r\n\t\tconst {editing} = this.state;\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\r\n\t\t// 当前行是否有修改权限\r\n\t\tlet isEdit = record.userInformations.filter(item=>item.userName==username).length>0;\r\n\r\n\t\tif (dataIndex == \"remark\") {  // 备注\r\n\t\t\treturn editing&&isEdit ? (\r\n\t\t\t\t<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\tmessage: `${title} is required.`,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex],\r\n\t\t\t\t\t})(<TextArea\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\tonPressEnter={this.save}\r\n\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\tautoSize={{minRows: 1, maxRows: 3}}\r\n\t\t\t\t\t/>)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={isEdit?\"editable-cell-value-wrap\":\"\"}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpaddingRight: 24,\r\n\t\t\t\t\t\tminHeight: '34px'}}\r\n\t\t\t\t\tonClick={isEdit?this.toggleEdit:null}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == \"completeTime\") {  // 完成时间\r\n\t\t\t// 日期时间戳转换字符串\r\n\t\t\tconst numberTostring = record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(record[dataIndex]).format('YYYY-MM-DD');\r\n\t\t\treturn editing&&isEdit ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\trules: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : moment(numberTostring, \"YYYY-MM-DD\")\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\tmode=\"date\"\r\n\t\t\t\t\t\t//设置结束不能选择的时间\r\n\t\t\t\t\t\tdisabledDate={this.disabledEndDate}\r\n\t\t\t\t\t\tstyle={{width:'118px'}}\r\n\t\t\t\t\t\tonOpenChange={(status) => {\r\n\t\t\t\t\t\t\tif(status){\r\n\t\t\t\t\t\t\t\tthis.setState({editing: true})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.setState({editing: false})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonChange={this.saveDate}\r\n\t\t\t\t\t\topen={editing}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>) : (<div\r\n\t\t\t\t\tclassName={isEdit?\"editable-cell-value-wrap\":\"\"}\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t\tonClick={isEdit?this.toggleEdit:null}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {   // 进展\r\n\t\t\treturn editing&&isEdit ? (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttrigger={['focus']}\r\n\t\t\t\t\ttitle={\"请输入0-100之间的数字\"}\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\toverlayClassName=\"numeric-input\"\r\n\t\t\t\t>\r\n\t\t\t\t<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\tmessage: `${title} is required.`,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex],\r\n\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\tdefaultValue={record.progress == \"0\" ? 0 : Number(record.progress)}\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tprecision={0}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonChange={this.numberChange}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : (<div>{Number(record.progress) >= 100 ? <span style={{\r\n\t\t\t\t\t\tcolor: this.showStatus(record.state)\r\n\t\t\t\t\t}}>完成</span>:<span\r\n\t\t\t\t\t\t\tclassName={isEdit?\"editable-cell-value-wrap\":\"\"}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\twidth: \"80px\",\r\n\t\t\t\t\t\t\t\tminHeight: '34px',\r\n\t\t\t\t\t\t\t\tcolor: this.showStatus(record.state)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={isEdit?this.toggleEdit:null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{Number(record.progress) + \"%\"}\r\n\t\t\t\t\t</span>}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teditable,\r\n\t\t\tdataIndex,\r\n\t\t\ttitle,\r\n\t\t\trecord,\r\n\t\t\tindex,\r\n\t\t\thandleSave,\r\n\t\t\tchildren,\r\n\t\t\t...restProps\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<td {...restProps}>\r\n\t\t\t\t{editable ? (\r\n\t\t\t\t\t<EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tchildren\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n@withRouter\r\n@inject('OfficeManageStore')\r\n@observer\r\nexport default class DigtalList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.officeStore = this.props.OfficeManageStore;\r\n\t\tthis.state = {\r\n\t\t\ttableHeight: 250,\r\n\t\t\tvisible: false,\r\n\t\t\tvisibleOffic: false,\r\n\t\t\trelationType: [],\r\n\t\t\tuserId: [],\r\n\t\t\tsortedInfo: null,\r\n\t\t\tstate: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('resize', this.changeHeight)\r\n\t\tthis.changeHeight();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.changeHeight)\r\n\t}\r\n\r\n\tchangeHeight = () => {\r\n\t\tlet tabpaneDivClientHeight = document.getElementById('digital_card').clientHeight;\r\n\t\tthis.setState({tableHeight: tabpaneDivClientHeight - 100});\r\n\t}\r\n\r\n\tonShowSizeChange = (current, pageSize) => {\r\n\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\tpageIndex: current,\r\n\t\t\tpageSize: pageSize\r\n\t\t});\r\n\t\tthis.store.getAssignmentPageList();\r\n\t}\r\n\r\n\tonChange = (pageNumber) => {\r\n\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\tpageIndex: pageNumber\r\n\t\t});\r\n\t\tthis.store.getAssignmentPageList();\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDelete = (id) => {\r\n\t\tthis.store.delAssignment(id)\r\n\t\t.then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\tthis.store.getAssignmentPageList();\r\n\t\t\t\t// 更新个人信息\r\n\t\t\t\tthis.store.getMyInfo();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tshowDrawer = (record) => {\r\n\t\tif (officeArray.includes(record.relationType)) {  //公文管理\r\n\t\t\tthis.officeStore.getJournalTypeList().then((res)=>{\r\n\t\t\t\tthis.officeStore.temList = Object.assign({}, mobx.toJS(this.officeStore.digtalTemData).filter(item=>item.name==record.relationType)[0]);\r\n\t\t\t});\r\n\t\t\tthis.officeStore.selestedId=record.relationId;\r\n\t\t\tthis.officeStore.getJournalById(record.relationId)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tvisibleOffic: true,\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tthis.officeStore.detailData = Object.assign({}, res);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// 点赞\r\n\t\t\tthis.officeStore.getLikeUsersByJournalId();\r\n\t\t\t// 评论\r\n\t\t\tthis.officeStore.getCommentsByJournalId();\r\n\t\t\tthis.officeStore.getJournalIndicators();\r\n\t\t\tthis.officeStore.isEdit =false;\r\n\t\t} else {\r\n\t\t\tthis.store.getJournalTypeList().then((res)=>{\r\n\t\t\t\tthis.store.temList = Object.assign({}, mobx.toJS(this.store.digtalTemData).filter(item=>item.name==record.relationType)[0]);\r\n\t\t\t});\r\n\t\t\tthis.store.selestedId=record.relationId;\r\n\t\t\tthis.store.getJournalById(record.relationId)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tvisible: true\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tthis.store.detailData = Object.assign({}, res);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// 点赞\r\n\t\t\tthis.store.getLikeUsersByJournalId();\r\n\t\t\t// 评论\r\n\t\t\tthis.store.getCommentsByJournalId();\r\n\t\t\tthis.store.getJournalIndicators();\r\n\t\t\tthis.store.isEdit =false;\r\n\t\t}\r\n\t};\r\n\r\n\tonClose = (type) => {\r\n\t\tthis.setState({\r\n\t\t\t[type]: false\r\n\t\t});\r\n\t};\r\n\r\n\t// 设置状态\r\n\tonChangeState = (type, item, e) => {\r\n\t\tlet newData = JSON.parse(JSON.stringify(this.state[type]));\r\n\t\tlet index = newData.findIndex(vitem => vitem == item.id);\r\n\t\tconst {checked} = e.target;\r\n\t\tif (index == -1) {  // 新增\r\n\t\t\tthis.setState({\r\n\t\t\t\t[type]: [...newData, item.id]\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (checked == false) { // 取消选中\r\n\t\t\t\tnewData.splice(index, 1);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\t[type]: Object.assign([], newData)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 确定\r\n\thandleSearch = (confirm, dataIndex) => {\r\n\t\tconfirm();\r\n\t\tthis.store.queryParms[dataIndex] = Object.assign([], this.state[dataIndex]);\r\n\t\tthis.store.queryParms.pageIndex = 1;\r\n\t\tthis.store.queryParms.pageSize = 10;\r\n\t\tthis.store.getAssignmentPageList();\r\n\t};\r\n\r\n\t// 重置\r\n\thandleReset = (clearFilters, dataIndex) => {\r\n\t\tclearFilters();\r\n\t\tthis.store.queryParms[dataIndex] = Object.assign([]);\r\n\t\tthis.store.queryParms.pageIndex = 1;\r\n\t\tthis.store.queryParms.pageSize = 10;\r\n\t\tthis.store.getAssignmentPageList();\r\n\t\tthis.setState({\r\n\t\t\t[dataIndex]: Object.assign([])\r\n\t\t});\r\n\t};\r\n\r\n\tgetColumnSearchProps = dataIndex => ({\r\n\t\tfilterDropdown: ({confirm, clearFilters}) => (\r\n\t\t\t<div style={{padding: 8}}>\r\n\t\t\t\t<Scrollbars\r\n\t\t\t\t\tautoHide\r\n\t\t\t\t\tautoHideTimeout={1000}\r\n\t\t\t\t\tautoHideDuration={200}\r\n\t\t\t\t\tautoHeight\r\n\t\t\t\t\tautoHeightMin={'88px'}\r\n\t\t\t\t\tautoHeightMax={'300px'}\r\n\t\t\t\t\tthumbMinSize={30}\r\n\t\t\t\t\tuniversal={true}>\r\n\t\t\t\t\t{mobx.toJS(this.store[dataIndex]).map((item, index) => {\r\n\t\t\t\t\t\treturn (<div className=\"pl10\"><Checkbox\r\n\t\t\t\t\t\t\tclassName=\"db\"\r\n\t\t\t\t\t\t\tchecked={this.state[dataIndex].includes(item.id)}\r\n\t\t\t\t\t\t\tkey={dataIndex + \"-\" + index}\r\n\t\t\t\t\t\t\tonChange={this.onChangeState.bind(this, dataIndex, item)}>{item.typeName}</Checkbox></div>)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Scrollbars>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={() => this.handleSearch(confirm, dataIndex)}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tstyle={{width: 60, marginRight: 8, marginTop: 8}}\r\n\t\t\t\t>\r\n\t\t\t\t\t确定\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={() => this.handleReset(clearFilters, dataIndex)} size=\"small\"\r\n\t\t\t\t        style={{width: 60, marginTop: 8}}>\r\n\t\t\t\t\t重置\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t),\r\n\t\tfilterIcon: filtered => (\r\n\t\t\t<Icon className=\"bocfiterIcon\" type=\"filter\" style={{color: filtered ? '#1890ff' : undefined}} />\r\n\t\t),\r\n\t\tonFilter: (value, record) => {\r\n\t\t},\r\n\t\tonFilterDropdownVisibleChange: visible => {\r\n\t\t\tif (visible) {\r\n\t\t\t}\r\n\t\t},\r\n\t\trender: (record, text) => {\r\n\t\t\tif (dataIndex == \"userName\") {\r\n\t\t\t\treturn text[\"userName\"];\r\n\t\t\t} else if (dataIndex == \"relationType\") {\r\n\t\t\t\treturn <a\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tcursor: 'pointer'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\tthis.showDrawer(text);\r\n\t\t\t\t}}>\r\n\t\t\t\t\t{text[\"relationType\"]}\r\n\t\t\t\t</a>;\r\n\t\t\t} else if (dataIndex == \"userId\") {\r\n\t\t\t\tconst val = mobx.toJS(text)[\"userInformations\"];\r\n\t\t\t\tconst title = typeof (val) !== 'undefined' ? val.map((item) => {\r\n\t\t\t\t\treturn item.userName}).join('、') : '';\r\n\t\t\t\treturn typeof (val) !== 'undefined' ? <Tooltip placement=\"topLeft\" title={title}>\r\n\t\t\t\t\t<span>{title}</span>\r\n\t\t\t\t</Tooltip>: ''\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// 排序开始\r\n\thandleChangeOrder = (pagination, filters, sorter,) => {\r\n\t\tconst sortVlaue = sorter.field;\r\n\t\tthis.setState({\r\n\t\t\tsortedInfo: sorter,\r\n\t\t});\r\n\t\tif (sorter.order == \"ascend\") {\r\n\t\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\t\tordervalue: sortVlaue == \"beginTime\" ? 1 : 2,\r\n\t\t\t\torderType: 1\r\n\t\t\t});\r\n\t\t\tthis.store.getAssignmentPageList();\r\n\t\t} else if (sorter.order == \"descend\") {\r\n\t\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\t\tordervalue: sortVlaue == \"beginTime\" ? 1 : 2,\r\n\t\t\t\torderType: 0\r\n\t\t\t});\r\n\t\t\tthis.store.getAssignmentPageList();\r\n\t\t}\r\n\t};\r\n\r\n\thandleSave = row => {\r\n\t\tthis.store.saveAssignment(row).then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmessage.success(\"操作成功\");\r\n\t\t\t\tthis.store.getAssignmentPageList();\r\n\t\t\t\tif (res.state==2) {  // 任务完成\r\n\t\t\t\t\t// 更新个人信息\r\n\t\t\t\t\tthis.store.getMyInfo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tshowTextStatus = (value) => {\r\n\t\tif (value == 3) {\r\n\t\t\treturn \"#F5222D\";\r\n\t\t} else if (value == 1) {\r\n\t\t\treturn \"#1890FF\";\r\n\t\t} else if (value == 2) {\r\n\t\t\treturn \"#52C41A\";\r\n\t\t} else {\r\n\t\t\treturn \"#333\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet {tableHeight, visible, sortedInfo, visibleOffic} = this.state;\r\n\t\tconst {tableData, totalCount, listLoading, queryParms, hasJournal} = this.store;\r\n\t\tconst current = mobx.toJS(queryParms).pageIndex;\r\n\t\tsortedInfo = sortedInfo || {};\r\n\r\n\t\tlet columns =\r\n\t\t\t!hasJournal ?\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '任务ID',\r\n\t\t\t\t\t\tdataIndex: 'serial',\r\n\t\t\t\t\t\talign: 'left',\r\n\t\t\t\t\t\twidth: '150px',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn <span title={text}>{text}</span>;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '任务名称',\r\n\t\t\t\t\t\tdataIndex: 'name',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn (<div style={{\r\n\t\t\t\t\t\t\t\twordWrap:'break-word',\r\n\t\t\t\t\t\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\t\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\t\t\t\tcolor: this.showTextStatus(record.state)}}>{text}</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '负责人',\r\n\t\t\t\t\t\tdataIndex: 'userInformations',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\t...this.getColumnSearchProps('userId')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '事项来源',\r\n\t\t\t\t\t\tdataIndex: 'relationType',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t...this.getColumnSearchProps('relationType')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '进展', dataIndex: 'progress', align: 'center',editable: true,\r\n\t\t\t\t\t\t...this.getColumnSearchProps('state')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '提出时间',\r\n\t\t\t\t\t\tdataIndex: 'beginTime',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn text == null || text == 0 ? \"\" : moment(text).format(\"YYYY-MM-DD\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsorter: (a, b) => a.beginTime - b.beginTime,\r\n\t\t\t\t\t\tsortOrder: sortedInfo.columnKey === 'beginTime' && sortedInfo.order,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '完成时间',\r\n\t\t\t\t\t\tdataIndex: 'completeTime',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\teditable: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn text == null || text == 0 ? \"未填写\" : moment(text).format(\"YYYY-MM-DD\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsorter: (a, b) => a.completeTime - b.completeTime,\r\n\t\t\t\t\t\tsortOrder: sortedInfo.columnKey === 'completeTime' && sortedInfo.order,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{title: '备注说明', dataIndex: 'remark', align: 'center', ellipsis: true, editable: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn (<Tooltip placement=\"topLeft\" title={text}>\r\n\t\t\t\t\t\t\t\t<div className=\"ellsis\">{text}</div>\r\n\t\t\t\t\t\t\t\t</Tooltip>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t] : [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '任务ID',\r\n\t\t\t\t\t\tdataIndex: 'serial',\r\n\t\t\t\t\t\talign: 'left',\r\n\t\t\t\t\t\twidth: '150px',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn <span title={text}>{text}</span>;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '任务名称',\r\n\t\t\t\t\t\tdataIndex: 'name',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn (<div style={{\r\n\t\t\t\t\t\t\t\twordWrap:'break-word',\r\n\t\t\t\t\t\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\t\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\t\t\t\tcolor: this.showTextStatus(record.state)}}>{text}</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '负责人',\r\n\t\t\t\t\t\tdataIndex: 'userInformations',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tellipsis: true, ...this.getColumnSearchProps('userId')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '事项来源',\r\n\t\t\t\t\t\tdataIndex: 'relationType',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t...this.getColumnSearchProps('relationType')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '进展',\r\n\t\t\t\t\t\tdataIndex: 'progress',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\teditable: true,\r\n\t\t\t\t\t\t...this.getColumnSearchProps('state')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '提出时间', dataIndex: 'beginTime', align: 'center', ellipsis: true, render: (text, record) => {\r\n\t\t\t\t\t\t\treturn text == null || text == 0 ? \"\" : moment(text).format(\"YYYY-MM-DD\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsorter: (a, b) => a.beginTime - b.beginTime,\r\n\t\t\t\t\t\tsortOrder: sortedInfo.columnKey === 'beginTime' && sortedInfo.order,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '完成时间',\r\n\t\t\t\t\t\tdataIndex: 'completeTime',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tellipsis: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn text == null || text == 0 ? \"未填写\" : moment(text).format(\"YYYY-MM-DD\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsorter: (a, b) => a.completeTime - b.completeTime,\r\n\t\t\t\t\t\tsortOrder: sortedInfo.columnKey === 'completeTime' && sortedInfo.order,\r\n\t\t\t\t\t\teditable: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{title: '备注说明', dataIndex: 'remark', align: 'center', ellipsis: true, editable: true,\r\n\t\t\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\t\t\treturn (<Tooltip placement=\"topLeft\" title={text}>\r\n\t\t\t\t\t\t\t\t<div className=\"ellsis\">{text}</div>\r\n\t\t\t\t\t\t\t</Tooltip>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\t\tkey: 'action',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\t\tplacement=\"leftTop\"\r\n\t\t\t\t\t\t\t\ttitle=\"确定要删除?\" onConfirm={() => this.handleDelete(record.id)}>\r\n\t\t\t\t\t\t\t\t<a style={{fontSize: '12px'}}>删除</a>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n\t\tconst components = {\r\n\t\t\tbody: {\r\n\t\t\t\trow: EditableFormRow,\r\n\t\t\t\tcell: EditableCell,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst cols = columns.map(col => {\r\n\t\t\tif (!col.editable) {\r\n\t\t\t\treturn col;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...col,\r\n\t\t\t\tonCell: record => ({\r\n\t\t\t\t\trecord,\r\n\t\t\t\t\teditable: col.editable,\r\n\t\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\t\ttitle: col.title,\r\n\t\t\t\t\thandleSave: this.handleSave,\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t<Table\r\n\t\t\t\t\trowKey={record => record.id}\r\n\t\t\t\t\tclassName=\"digital_table\"\r\n\t\t\t\t\tcolumns={cols}\r\n\t\t\t\t\tdataSource={mobx.toJS(tableData)}\r\n\t\t\t\t\tpagination={false}\r\n\t\t\t\t\tloading={listLoading}\r\n\t\t\t\t\tonChange={this.handleChangeOrder}\r\n\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\trowClassName={() => 'editable-row'}\r\n\t\t\t\t/>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tclassName=\"mt20 tc\"\r\n\t\t\t\t\tonShowSizeChange={this.onShowSizeChange}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttotal={totalCount}\r\n\t\t\t\t\tshowQuickJumper\r\n\t\t\t\t\tshowTotal={total => `共 ${total} 条`}\r\n\t\t\t\t\tcurrent={current}\r\n\t\t\t\t/>\r\n\t\t\t\t<DetailModal\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonClose={this.onClose.bind(this, \"visible\")}\r\n\t\t\t\t\tstore={this.store}\r\n\t\t\t\t/>\r\n\t\t\t\t<DetailOfficeModal\r\n\t\t\t\t\tvisible={visibleOffic}\r\n\t\t\t\t\tonClose={this.onClose.bind(this, \"visibleOffic\")}\r\n\t\t\t\t\tstore={this.officeStore}\r\n\t\t\t\t/>\r\n\t\t\t</ConfigProvider>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/digitalOrg/DigtalList.js","/*\r\n* 数字组织 首页\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {inject, observer} from 'mobx-react';\r\nimport {Row, Col, Avatar, Card, Input} from 'antd';\r\nimport DigtalList from '@/components/digitalOrg/DigtalList';\r\nimport moment from 'moment';\r\nimport * as  mobx from 'mobx';\r\n\r\nconst {Search} = Input;\r\nconst chinese = {1: \"一\", 2: \"二\", 3: \"三\", 4: \"四\", 5: \"五\", 6: \"六\", 0: \"日\"};\r\n\r\nfunction transHours(hour, name) {\r\n  if (hour>=0&&hour<12) {\r\n     return (<span>早上好，{name}，新的一天，元气满满！</span>);\r\n  } else if (hour>=12&&hour<18) {\r\n\t  return (<span>下午好，{name}，劳逸结合，继续加油！</span>);\r\n  } else {\r\n\t  return (<span>晚上好，{name}，工作一天辛苦了！</span>);\r\n  }\r\n}\r\n\r\n@inject('DigtalOrgStore')\r\n@observer\r\nexport default class Index extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.DigtalOrgStore;\r\n\t\tthis.state = {\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps, nextContext) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.store.getMyInfo();\r\n\t\t// 初始化查询\r\n\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\ttext: \"\",\r\n\t\t\tuserId: [],\r\n\t\t\trelationType: [],\r\n\t\t\tstate: [],\r\n\t\t\tordervalue: 0,\r\n\t\t\torderType: 0,\r\n\t\t\tpageIndex: 1,\r\n\t\t\tpageSize: 10\r\n\t\t});\r\n\t\tthis.store.getAssignmentPageList();\r\n\t\tthis.store.getUserPermissionByAppCode();\r\n\t\tthis.store.getAssignmentUser();\r\n\t\tthis.store.getJournalTypeList();\r\n\t\tthis.store.getJournalTagList();\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\r\n\t}\r\n\r\n\t// 搜索\r\n\tonSearch = (value) => {\r\n\t\tthis.store.queryParms = Object.assign(mobx.toJS(this.store.queryParms), {\r\n\t\t\ttext: value\r\n\t\t});\r\n\t\tthis.store.getAssignmentPageList();\r\n\t}\r\n\r\n\thandleRoute = () => {\r\n\t\tconst {protocol, host} = window.location;\r\n\t\tlet origin = protocol+\"//\"+host+\"/\"+\"ci\"+\"/#\"+\"/honour\";\r\n\t\twindow.open(origin, \"_blank\");\r\n\t\t//this.props.history.push(\"/honour\")\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst date = moment();\r\n\t\tconst hour = moment().hours();\r\n\t\tconst {myInfo} = this.store;\r\n\t\tconst myINFO = mobx.toJS(myInfo);\r\n\t\tconst pageHeaderContent = (\r\n\t\t\t<div className={\"pageHeaderContent\"}>\r\n\t\t\t\t<div className={\"avatar\"}>\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tsrc={'./images/logo_new.png'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={\"content\"}>\r\n\t\t\t\t\t<div className={\"contentTitle\"}>{transHours(hour, myINFO.name)}</div>\r\n\t\t\t\t\t<div className={\"contentTitle_next\"}>{myINFO.station} | {myINFO.department}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tconst extraContent = (<div className=\"extraContent\">\r\n\t\t\t\t<div className=\"statItem\">\r\n\t\t\t\t\t<p>我的待办</p>\r\n\t\t\t\t\t<p>{myINFO.todoCount}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"statItem\">\r\n\t\t\t\t\t<p>我的完成</p>\r\n\t\t\t\t\t<p>{myINFO.overCount}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"statItem\">\r\n\t\t\t\t\t<p>已发日志</p>\r\n\t\t\t\t\t<p>{myINFO.journalCount}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w\">\r\n\t\t\t\t<Card className=\"digital-card\" style={{width: '100%'}}>\r\n\t\t\t\t\t<h1 className=\"digital-title\">{moment(date).format('YYYY年MM月DD日')} {\"星期\" + chinese[moment(date).day()]} {moment(date).format('HH:mm')}</h1>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t{pageHeaderContent}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t{extraContent}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"digital-banner mt10 pr\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tonClick={this.handleRoute}\r\n\t\t\t\t\t\tstyle={{cursor: \"pointer\", width: \"100%\", height: \"108px\"}}\r\n\t\t\t\t\t\tsrc=\"https://bocspace.oss-cn-beijing.aliyuncs.com/ci/digital_banner.gif\" alt=\"\"/>\r\n\t\t\t\t\t\t{/*<span onClick={this.handleRoute} style={{background: \"transparent\", position: \"absolute\", right: \"26%\", bottom: \"21px\", cursor: \"pointer\", width: \"166px\", height: \"33px\", display: \"inline-block\"}}></span>*/}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"digital_card\"\r\n\t\t\t\t     style={{width: '100%'}}>\r\n\t\t\t\t\t<Card className=\"digital-card mt10\"\r\n\t\t\t\t\t      title=\"智建美住任务清单\"\r\n\t\t\t\t\t      extra={<Search\r\n\t\t\t\t\t\t      placeholder=\"输入任务名或负责人进行搜索\"\r\n\t\t\t\t\t\t      onSearch={this.onSearch}\r\n\t\t\t\t\t\t      style={{width: 252}}\r\n\t\t\t\t\t      />}\r\n\t\t\t\t\t      style={{width: '100%'}}>\r\n\t\t\t\t\t\t<DigtalList\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/digitalOrg/Index.js"],"sourceRoot":""}