{"version":3,"sources":["webpack:///./src/containers/xmgl/Xmgl.js","webpack:///./src/components/common/MyUpload.js?ee17****","webpack:///./src/components/common/AutoSelect.js","webpack:///./src/store/construction/ConstructionStore.js","webpack:///./src/store/xmgl/XmglStore.js","webpack:///./src/components/common/AsyncSelectMutiold.js","webpack:///./src/components/construction/MateriaModal.js","webpack:///./src/components/xmgl/Environment.js","webpack:///./src/components/xmgl/Epidemic.js","webpack:///./src/components/xmgl/ItemSetting.js","webpack:///./src/components/xmgl/Mechanical.js","webpack:///./src/components/xmgl/Person.js","webpack:///./src/components/xmgl/ProEditTable.js","webpack:///./src/components/xmgl/Progress.js","webpack:///./src/components/xmgl/Quality.js"],"names":["mobx","TabPane","Tabs","Xmgl","observer","props","callback","key","setState","getTabeData","store","XmglStore","conStore","ConstructionStore","state","search","location","projectId","url","parse","query","parojectName","name","undefined","localStorage","setItem","getItem","getSts","child1","par","local_url","document","href","get","indexOf","get_par","slice","length","nextPar","ossData","margin","ref","toJS","child2","child3","child4","child5","child6","child7","React","Component","client","self","token","oss","accessKeyId","access_key_id","accessKeySecret","access_key_secret","stsToken","region","bucket","endpoint","OSS_ENDPOINT","uploadPath","path","file","format","uid","UploadToOss","Promise","resolve","reject","multipartUpload","then","data","catch","error","MyUpload","getDocumentUrl","Config","journal","journalSchemas","handleChange","info","status","fileList","oldFileList","JSON","stringify","filter","newFileList","map","originFileObj","host","Object","assign","fileId","fileName","filePath","id","array","saveAttachment","changeSrc","res","obj","beforeUpload","accept","acceptDefault","type","split","includes","message","warn","isLt2M","size","loading","journalType","reader","FileReader","readAsDataURL","onloadend","handlePreview","test","previewImage","previewVisible","isAssetTypeAnImage","ext","toLowerCase","getExt","index","lastIndexOf","substr","imageArray","item","src","alt","downloadUrl","visible","activeIndex","findIndex","handleCancel","isImage","downloadImage","onDownload","x","XMLHttpRequest","open","responseType","onload","e","response","send","cancel","appStore","nextProps","securityToken","bpm","bpmSchemas","str","multiple","disabled","onChange","listType","onPreview","showUploadList","showDownloadIcon","uploadButton","position","top","right","fontSize","color","minHeight","bind","backgroundSize","width","maxHeight","toolbars","concat","render","onClick","activeImage","Option","AutoComplete","AutoSelect","value","handleFocus","fetch","method","headers","body","variables","json","result","expectId","completeToday","remark","completeTotal","units","quantities","keyId","children","construction","getMaterialList","Schemas","text","pageIndex","cardpageIndex","pageSize","cardpageSize","cardtotalCount","totalCount","cardtableData","param","getMaterial","saveMaterial","material","delMaterial","saveProject","project","projectField","xmgl","getTechnologyList","xmglSchemas","technologypageIndex","technologypageSize","technologytotalCount","technologytableData","saveTechnology","technology","delTechnology","getProjectZPlanList","Array","isArray","ZPlanList","params","getAllProjectList","beginTime","startOf","valueOf","endTime","endOf","products","masterIds","getProjectInfoById","observable","code","address","buildUnits","supervisionUnits","constructionUnits","subcontractors","foreman","isSave","createTime","isDeleted","longitude","latitude","requiredTime","peopleCount","positions","zplan","wisdomseeProjectId","spec","manufacturer","certificateNumber","num","reportId","totalNum","deliveryTime","attachments","action","savePerson","p","personFields","saveQuality","q","qualityFields","question","qualityType","emergency","convertEmergencyQuality2Int","emergencyQuality","convertEmergencySafe2Int","emergencySafe","convertState2Int","solveTime","handler","reviewer","updateTime","planSolveTime","delQuality","qualityId","getAllPersonByProjectIdAndType","personType","personPageIndex","personPageSize","personTotalCount","personTableData","selested","tempTypeData","push","filterData","Set","personTypeData","getAllQualityByProjectIdAndType","qualityPageIndex","qualityPageSize","qualityTotalCount","qualityTableData","convertType2String","convertEmergencyQuality2String","convertEmergencySafe2String","convertState2String","saveWorkContent","workContent","dailyRecord","delWorkContent","workContentId","getWorkContentList","dailyPageIndex","dailyPageSize","dailyTotalCount","dailyTableData","getNotifyProject","constructionSchemas","notifyfield","notifys","wecat","email","saveNotifyProject","simpleProject","getAllMachineByProjectIdAndType","machinePageIndex","machinePageSize","machineTotalCount","machineTableData","saveMachine","machine","machineFields","delPerson","personId","delMachine","machineId","getPlanList","planPageIndex","planPageSize","planTotalCount","planTableData","savePlan","plan","delPlan","planId","getTodayGoals","date","getEnvironmentList","environmentPageIndex","environmentPageSize","environmentTotalCount","environmentTableData","saveEnvironment","environment","environmentFields","delEnvironment","environmentId","getWeatherByDate","reportTime","weatherData","liveWeatherName","minTemp","maxTemp","windPowerDesc","windDirectionDesc","sendNotifys","getProjectPeopleInfoList","getProjectStateList","getQualityStateList","getSafeStateList","getProjectListByStateAndType","getQualityNoSolveByType","getEpidemicList","epidemicPageIndex","epidemicPageSize","epidemicTotalCount","epidemicTableData","saveEpidemic","delEpidemic","getEpidemicByDate","getPositionList","authorization","getUserInfoListByCodeOrText","authorizationSchemas","appId","getNewReport","newReport","nextBeginTime","nextEndTime","sendReport","sendReportEmail","downloadReport","getReportUrl","getDayTaskByDate","floorage","userIds","Select","AsyncSelectMuti","getUserInfoListByRoleCode","dataMapFunc","options","d","i","realname","placeholder","style","onBlur","propTypes","PropTypes","object","string","func","confirm","Modal","MateriaModal","showSizeChange","current","pageNumber","handAdd","title","handEdit","vitem","handDelete","_this","okText","okType","cancelText","onOk","success","onCancel","console","log","handleSubmit","preventDefault","form","validateFields","err","fieldsValue","values","arr","resetFields","limitDecimals","reg","isNaN","Number","replace","String","fileURL","handleAttment","doChange","val","taskId","dayTaskName","doChange2","resourceType","expectResourceId","onRef","columns","dataIndex","align","record","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","fields","dateFormat","sourceId","management","multiUpload","padding","textAlign","initialValue","rules","required","time","getExpectResourceList","Form","create","RangePicker","DatePicker","TextArea","Input","Environment","handleAdd","handleDel","handleCancle","onDateChange","dateString","target","onPageChange","showTotal","total","styles","pagination","marginTop","fixed","minRows","getBase64","onerror","Epidemic","epidemicFields","handleChage","setFieldsValue","normalTemperatureText","protectText","disinfectionText","normalTemperature","protect","disinfection","toString","hanChange","preview","fileds","minWidth","offset","Title","Typography","ItemSetting","onSelChange","planBeginTime","planEndTime","fontWeight","manager","valuePropName","Mechanical","handleInputNumberChage","number","startTime","dateEnd","onSelChangeType","handDate","timeString","onChangeSelect","onSearch","onSelect","workerType","classification","machinesNameoptions","machinesNameSmallOptions","machOptions","group","marginBottom","display","input","option","count","Person","averageHours","handleChangeTable","filters","sorter","filteredInfo","sortedInfo","clearFilters","onFocus","handleSelChange","filteredValue","onFilter","customizeRenderEmpty","fontFamily","EditableContext","createContext","EditableRow","EditableFormRow","EditableCell","editing","save","handleSave","currentTarget","renderCell","handleDelete","node","left","cursor","getExpectList","editable","restProps","ProEditTable","dataSource","addData","source","newData","updateData","row","splice","completeTodayTag","nextContext","components","cell","colu","col","onCell","Progress","planFields","goals","getPosList","dayTasks","remove","customList","goalsTomorrow","list","delete","add","update","ztaskId","hanleNumber","rate","pitem","positionId","dateTime","handleSend","notifyStatus","formItems","getZplanTaskList","subtract","RadioGroup","Radio","Group","Quality"],"mappings":"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","file":"js/14-afa7d4b4bae6ff2924e9.1629092961041.js","sourcesContent":["/*\r\n* 项目管理\r\n* qiufh@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {Tabs,Breadcrumb} from 'antd';\r\nimport Person from '@/components/xmgl/Person';\r\nimport Quality from '@/components/xmgl/Quality';\r\nimport ItemSetting from '@/components/xmgl/ItemSetting';\r\nimport Mechanical from '@/components/xmgl/Mechanical';\r\n//import DailyDiary from '@/components/xmgl/DailyDiary';\r\nimport Progress from '@/components/xmgl/Progress';\r\nimport Epidemic from '@/components/xmgl/Epidemic';\r\nimport Environment from '@/components/xmgl/Environment';\r\nimport MateriaModal from \"@/components/construction/MateriaModal\";\r\n\r\nimport XmglStore from '@/store/xmgl/XmglStore';\r\nimport ConstructionStore from '@/store/construction/ConstructionStore';\r\nimport * as mobx from 'mobx';\r\nimport url from 'url';\r\n\r\nconst {TabPane} = Tabs;\r\n\r\n@observer\r\nclass Xmgl extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = new XmglStore()\r\n\t\tthis.conStore = new ConstructionStore()\r\n\t\tthis.state = {\r\n\t\t\tkey: \"1\", // tabs\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet search = this.props.location.search;\r\n\t\tconst projectId = url.parse(search, true).query.projectId;\r\n\t\tconst parojectName = url.parse(search, true).query.name;\r\n\t\tif (projectId !== undefined) {\r\n\t\t\tthis.store.projectId = projectId;\r\n\t\t\tthis.store.parojectName = parojectName;\r\n\t\t\tthis.conStore.projectId = projectId;\r\n\t\t\tlocalStorage.setItem(\"projectId\", projectId);\r\n\t\t\tlocalStorage.setItem(\"projectName\", parojectName);\r\n\t\t} else {\r\n\t\t\tthis.store.projectId = localStorage.getItem(\"projectId\");\r\n\t\t\tthis.store.parojectName = localStorage.getItem(\"projectName\");\r\n\t\t\tthis.conStore.projectId = localStorage.getItem(\"projectId\");\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// 获取大文件上传sts\r\n\t\tthis.store.getSts();\r\n\t\tthis.child1.getTabeData();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\r\n\t}\r\n\r\n\tgetPar(par) {\r\n\t\t//获取当前URL\r\n\t\tvar local_url = document.location.href;\r\n\t\t//获取要取得的get参数位置\r\n\t\tvar get = local_url.indexOf(par + \"=\");\r\n\t\tif (get == -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//截取字符串\r\n\t\tvar get_par = local_url.slice(par.length + get + 1);\r\n\t\t//判断截取后的字符串是否还有其他get参数\r\n\t\tvar nextPar = get_par.indexOf(\"&\");\r\n\t\tif (nextPar != -1) {\r\n\t\t\tget_par = get_par.slice(0, nextPar);\r\n\t\t}\r\n\t\treturn get_par;\r\n\t}\r\n\r\n\tcallback = (key) => {\r\n\t\tthis.setState({\r\n\t\t\tkey\r\n\t\t},() => {\r\n           if (key!==\"8\") {\r\n\t           this[\"child\"+key].getTabeData();\r\n           }\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {ossData} = this.store;\r\n\t\tconst {key} = this.state;\r\n\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t<div className=\"con_bottom\">\r\n\t\t\t\t<Breadcrumb separator=\">\" style={{margin: '0'}}>\r\n\t\t\t\t\t<Breadcrumb.Item href=\"#/bpm/construction\">施工过程</Breadcrumb.Item>\r\n\t\t\t\t\t<Breadcrumb.Item>日志</Breadcrumb.Item>\r\n\t\t\t\t</Breadcrumb>\r\n\t\t\t</div>\r\n\t\t\t<Tabs\r\n\t\t\t\t      className=\"mt10\"\r\n\t\t\t\t      tabPosition={'left'}\r\n\t\t\t\t      activeKey={key}\r\n\t\t\t\t      onChange={this.callback}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"疫情防控\" key=\"1\">\r\n\t\t\t\t\t\t<Epidemic\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child1 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tossData={mobx.toJS(ossData)}\r\n\t\t\t\t\t\t\tstore={this.store}/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"进度控制\" key=\"2\">\r\n\t\t\t\t\t\t<Progress\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child2 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tossData={mobx.toJS(ossData)}\r\n\t\t\t\t\t\t\tstore={this.store}/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"质量安全\" key=\"3\">\r\n\t\t\t\t\t\t<Quality\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child3 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"人员管理\" key=\"4\">\r\n\t\t\t\t\t\t<Person\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child4 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"机械设备\" key=\"5\">\r\n\t\t\t\t\t\t<Mechanical\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child5 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstore={this.store}/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"材料管理\" key=\"6\">\r\n\t\t\t\t\t\t<MateriaModal\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child6 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tossData={mobx.toJS(ossData)}\r\n\t\t\t\t\t\t\tstore={this.conStore}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"施工环境\" key=\"7\">\r\n\t\t\t\t\t\t<Environment\r\n\t\t\t\t\t\t\tonRef={(ref) => {\r\n\t\t\t\t\t\t\t\tthis.child7 = ref\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t{/*<TabPane tab=\"施工项目\" key=\"8\">\r\n\t\t\t\t\t\t<DailyDiary\r\n\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TabPane>*/}\r\n\t\t            <TabPane tab=\"项目设置\" key=\"8\">\r\n\t\t              <ItemSetting\r\n\t\t                  store={this.store}\r\n\t\t              />\r\n\t\t            </TabPane>\r\n\t\t\t\t</Tabs></div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Xmgl;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/xmgl/Xmgl.js","/*\r\n* 大文件上传组件\r\n* */\r\nimport React from \"react\";\r\nimport {Upload, Icon, message, Modal} from 'antd';\r\nimport oss from 'ali-oss';\r\nimport moment from 'moment';\r\nimport Viewer from 'react-viewer';\r\nimport Config from '@/config';\r\nimport {requestPost} from \"@/utils/api\";\r\nimport journalSchemas from \"@/utils/Schemas/journal\";\r\nimport {downloadFile, download} from \"@/utils/download\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport {inject, observer} from 'mobx-react';\r\n\r\n\r\nconst client = (self) => {\r\n\tconst {token} = self.state\r\n\t// ali-oss v6.x版本的写法\r\n\treturn new oss({\r\n\t\taccessKeyId: token.access_key_id,\r\n\t\taccessKeySecret: token.access_key_secret,\r\n\t\tstsToken: token.stsToken,\r\n\t\tregion: token.region, //\r\n\t\tbucket: token.bucket,//\r\n\t\tendpoint: token.OSS_ENDPOINT\r\n\t});\r\n};\r\n\r\nconst uploadPath = (path, file) => {\r\n\t// 上传文件的路径，使用日期命名文件目录\r\n\treturn `${moment().format('YYYYMMDD')}/${file.uid}/${file.name}`\r\n}\r\n\r\nconst UploadToOss = (self, path, file) => {\r\n\tconst url = uploadPath(path, file)\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tclient(self).multipartUpload(url, file).then(data => {\r\n\t\t\tresolve(data); //上传成功后返回的上传结果，?后面的都去掉就能正常访问了\r\n\t\t}).catch(error => {\r\n\t\t\treject(error)\r\n\t\t})\r\n\t})\r\n}\r\n\r\n@inject('appStore')\r\n@observer\r\nclass MyUpload extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.appStore;\r\n\t\tthis.state = {\r\n\t\t\tfileList: this.props.fileList,\r\n\t\t\tloading: false,\r\n\t\t\ttoken: {\r\n\t\t\t\taccess_key_id: '', // oss的key_id\r\n\t\t\t\taccess_key_secret: '', // oss的secret\r\n\t\t\t\tstsToken: '',\r\n\t\t\t\tregion: 'oss-cn-beijing', // oss的region\r\n\t\t\t\tbucket: 'xinlj', // oss的bucket\r\n\t\t\t\tOSS_ENDPOINT: 'oss-cn-beijing.aliyuncs.com',  // 自己oss服务器的配置信息\r\n\t\t\t},\r\n\t\t\thost: 'https://xinlj.oss-cn-beijing.aliyuncs.com/', // 阿里云host\r\n\t\t\tpreviewVisible: false,\r\n\t\t\tpreviewImage: '',\r\n\t\t\tname: \"\",\r\n\t\t\tfilePath: \"\",\r\n\t\t\tvisible: false,\r\n\t\t\timageArray: [], // 图片预览\r\n\t\t\tactiveIndex: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (JSON.stringify(nextProps.fileList) != JSON.stringify(this.props.fileList)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfileList: nextProps.fileList.map((file)=>{\r\n\t\t\t\t\tif (/\\.(doc|docx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/word_default.png'\r\n\t\t\t\t\t} else if (/\\.(xls|xlsx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/exel_default.png'\r\n\t\t\t\t\t} else if (/\\.(pdf)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/pdf.svg'\r\n\t\t\t\t\t} else if (/\\.(zip|rar)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/zip_default.png'\r\n\t\t\t\t\t} else if (/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/ppt.png'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet url = file.url;\r\n\t\t\t\t\t\tif (url.includes(\"oss-cn-beijing.aliyuncs.com\")) {  // 判断图片时oss上传的\r\n\t\t\t\t\t\t\tif (url.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\t\t\t\turl = url.split(\"?\")[0];\r\n\t\t\t\t\t\t\t\tfile.url = url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfile.url = file.url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfile.url = file.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn file;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (JSON.stringify(nextProps.ossData) != JSON.stringify(this.props.ossData)) {\r\n\t\t\tlet token = JSON.parse(JSON.stringify(this.state.token));\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: Object.assign(token, {\r\n\t\t\t\t\taccess_key_id: nextProps.ossData.accessKeyId, // oss的key_id\r\n\t\t\t\t\taccess_key_secret: nextProps.ossData.accessKeySecret, // oss的secret\r\n\t\t\t\t\tstsToken: nextProps.ossData.securityToken\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.journalType) {\r\n\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t}\r\n\t\tif (this.props.fileList) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfileList: this.props.fileList.map((file)=>{\r\n\t\t\t\t\tif (/\\.(doc|docx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/word_default.png'\r\n\t\t\t\t\t} else if (/\\.(xls|xlsx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/exel_default.png'\r\n\t\t\t\t\t} else if (/\\.(pdf)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/pdf.svg'\r\n\t\t\t\t\t} else if (/\\.(zip|rar)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/zip_default.png'\r\n\t\t\t\t\t} else if (/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\t\t\t\tfile.url = './images/ppt.png'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet url = file.url;\r\n\t\t\t\t\t\tif (url.includes(\"oss-cn-beijing.aliyuncs.com\")) {  // 判断图片时oss上传的\r\n\t\t\t\t\t\t\tif (url.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\t\t\t\turl = url.split(\"?\")[0];\r\n\t\t\t\t\t\t\t\tfile.url = url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfile.url = file.url + '?x-oss-process=image/resize,w_500,limit_0'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfile.url = file.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn file;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// 阿里云上传参数\r\n\t\trequestPost('getSts', Config.bpm.getSts, bpmSchemas.bpm.getSts, {})\r\n\t\t.then((res)=>{\r\n\t\t\tlet str = typeof res ==\"string\"?JSON.parse(res):res;\r\n\t\t\tif (str) {\r\n\t\t\t\tlet token = JSON.parse(JSON.stringify(this.state.token));\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttoken: Object.assign(token, {\r\n\t\t\t\t\t\taccess_key_id: str.accessKeyId,\r\n\t\t\t\t\t\taccess_key_secret: str.accessKeySecret,\r\n\t\t\t\t\t\tstsToken: str.securityToken\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetDocumentUrl = (url) => {\r\n\t\treturn requestPost('getDocumentUrl', Config.journal.getDocumentUrl, journalSchemas.journal.getDocumentUrl, {url: url})\r\n\t}\r\n\r\n\t// 只用做删除操作\r\n\thandleChange = (info) => {\r\n\t\tconst status = info.file.status;\r\n\r\n\t\t// 记录新上传的\r\n\t\tlet fileList = [...info.fileList];\r\n\t\tlet oldFileList = JSON.parse(JSON.stringify(fileList)).filter((file) => {\r\n\t\t\treturn file.status && file.status === 'done';\r\n\t\t});  // 之前保存过的\r\n\t\tlet newFileList = JSON.parse(JSON.stringify(fileList));\r\n\t\tnewFileList = newFileList.filter((file) => {\r\n\t\t\tif (file.status && file.status === 'done') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tnewFileList = newFileList.map(file => {\r\n\t\t\tif (file.originFileObj) {\r\n\t\t\t\tconst url = this.state.host + uploadPath('path', file);\r\n\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\tuid: file.uid,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tstatus: \"done\",\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tfileId: null,\r\n\t\t\t\t\tfileName: file.name,\r\n\t\t\t\t\tfilePath: url,\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t});\r\n\t\tif (status == undefined) {\r\n\t\t\t// 处理附件\r\n\t\t\t/*let array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\t\tlet _this = this;\r\n\t\t\t_this.setState({\r\n\t\t\t\tloading: true\r\n\t\t\t});\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\t_this.props.saveAttachment(array);\r\n\t\t\t\t_this.setState({\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t}, 3000);*/\r\n\t\t} else if (status === \"removed\") {   // 删除\r\n\t\t\t/*let id = info.file.id;\r\n\t\t\tif (id !== \"\" || id !== null) { // 删除已有的\r\n\t\t\t\t// this.props.delNode(id);\r\n\t\t\t}*/\r\n\t\t\tlet array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\t\tthis.props.saveAttachment(array);\r\n\t\t}\r\n\t}\r\n\r\n\t// 更新url\r\n\tchangeSrc = (res, file) => {\r\n\t\tconst {fileList, host} = this.state;\r\n\t\tlet oldFileList = JSON.parse(JSON.stringify(fileList));\r\n\r\n\t\tconst url = host + uploadPath('path', file);\r\n\t\tlet obj = Object.assign({}, {\r\n\t\t\tuid: file.uid,\r\n\t\t\tname: file.name,\r\n\t\t\tstatus: \"done\",\r\n\t\t\turl: url,\r\n\t\t\tfileId: null,\r\n\t\t\tfileName: file.name,\r\n\t\t\tfilePath: url,\r\n\t\t\tid: \"\",\r\n\t\t});\r\n\t\tlet newFileList = [obj];\r\n\r\n\t\t// 处理附件\r\n\t\tlet array = JSON.parse(JSON.stringify([...oldFileList, ...newFileList]))\r\n\t\tthis.props.saveAttachment(array);\r\n\t}\r\n\r\n\tbeforeUpload = (file) => {\r\n\t\tconst {accept} = this.props;\r\n\t\tconst acceptDefault = \".jpg,.jpeg,.gif,.png,.bmp,.doc,.docx,.xlsx,.xls,.pdf,.ppt,.pptx\";  // 默认值限制格式\r\n\t\tif (accept==undefined) {  // 没有传参数\r\n\t\t\tconst type = file.type.split(\"/\")[1];\r\n\t\t\t//console.log(accept, file.type, type, 'accept')\r\n\t\t\tif (!acceptDefault.includes(type)) {\r\n                //message.warn(\"格式不对\");\r\n\t\t\t\t//return false;\r\n\t\t\t}\r\n\t\t} else {   // 外部传参数\r\n\t\t\tconst type = file.type.split(\"/\")[1];\r\n\t\t\tif (!accept.includes(type)) {\r\n\t\t\t\tmessage.warn(\"格式不对, 只允许上传图片\");\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst isLt2M = file.size / 1024 / 1024 < 2000;\r\n\t\tif (!isLt2M) {\r\n\t\t\tmessage.error('Image must smaller than 2MB!');\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tloading: true\r\n\t\t}, ()=>{\r\n\t\t\tif (this.props.journalType) {\r\n\t\t\t\tthis.store.journal = true; // 记录一次\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onloadend = () => {\r\n\t\t\t// 使用ossupload覆盖默认的上传方法\r\n\t\t\tUploadToOss(this, '上传路径oss配置信息', file)\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data;\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\t// 处理地址\r\n\t\t\t\tconst {res} = data;\r\n\t\t\t\tif (res.status&&res.status==200) {  // 单个文件上传成功\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tif (this.props.journalType) {\r\n\t\t\t\t\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.changeSrc(res, file);\r\n\t\t\t\t}\r\n\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tmessage.error(\"文件上传失败\");\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tif (this.props.journalType) {\r\n\t\t\t\t\t\t\tthis.store.journal = false; // 记录一次\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn false; // 不调用默认的上传方法\r\n\t}\r\n\r\n\thandlePreview = async file => {\r\n\t\t// 文档\r\n\t\tif (/\\.(doc|docx)$/.test(file.name)||/\\.(xls|xlsx)$/.test(file.name)||/\\.(pdf)$/.test(file.name)||/\\.(zip|rar)$/.test(file.name)||/\\.(ppt|pptx)$/.test(file.name)) {\r\n\t\t\tthis.getDocumentUrl(file.filePath).then((res)=>{\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpreviewImage: res,\r\n\t\t\t\t\tpreviewVisible: true,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tfilePath: file.filePath\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}  else {  // 图片、音频\r\n\t\t\t// 文件类型判断\r\n\t\t\tfunction isAssetTypeAnImage(ext) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t'png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'].\r\n\t\t\t\tindexOf(ext.toLowerCase()) !== -1;\r\n\t\t\t}\r\n\r\n\t\t\t//获取后缀\r\n\t\t\tfunction getExt(filePath) {\r\n\t\t\t\t// 去掉url的问号\r\n\t\t\t\tif (filePath.indexOf(\"?\") !=-1) {\r\n\t\t\t\t\tfilePath = filePath.split(\"?\")[0];\r\n\t\t\t\t}\r\n\t\t\t\t//获取最后一个.的位置\r\n\t\t\t\tlet index= filePath.lastIndexOf(\".\");\r\n\t\t\t\t//获取后缀\r\n\t\t\t\tlet ext = filePath.substr(index+1);\r\n\t\t\t\treturn ext;\r\n\t\t\t}\r\n\r\n\t\t\tif (isAssetTypeAnImage(getExt(file.filePath))) {  // 判断是图片\r\n\t\t\t\tconst fileList = JSON.parse(JSON.stringify(this.state.fileList));\r\n\t\t\t\tlet imageArray;\r\n\t\t\t\timageArray = fileList.filter((item)=>isAssetTypeAnImage(getExt(item.filePath))).map((item)=>{\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tsrc: item.filePath,\r\n\t\t\t\t\t\talt: item.name,\r\n\t\t\t\t\t\tdownloadUrl: item.filePath\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\timageArray: Object.assign([], imageArray),\r\n\t\t\t\t\tactiveIndex: imageArray.findIndex((item)=>item.src==file.filePath)\r\n\t\t\t\t});\r\n\t\t\t} else {   // 音频\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpreviewImage: file.filePath,\r\n\t\t\t\t\tpreviewVisible: true,\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tfilePath: file.filePath\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleCancel = (type) => this.setState({[type]: false});\r\n\r\n\t// 手动下载\r\n\tdownloadUrl = () => {\r\n\t\tconst {filePath, name} = this.state;\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\t\tif (isImage) {\r\n\t\t\tdownloadFile(filePath, name);  // 直接下载pdf\r\n\t\t} else {\r\n\t\t\tthis.downloadImage(filePath, name);\r\n\t\t}\r\n\t}\r\n\r\n\t// 预览下载\r\n\tonDownload = (file) => {\r\n\t\tconst {filePath, name} = file;\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\t\tif (isImage) {\r\n\t\t\tdownloadFile(filePath, name);  // 直接下载pdf\r\n\t\t} else {\r\n\t\t\tthis.downloadImage(filePath, name);\r\n\t\t}\r\n\t}\r\n\r\n\t// 直接下载\r\n\tdownloadImage = (filePath, name) => {\r\n        //获取最后一个.的位置\r\n\t\tvar index= filePath.lastIndexOf(\".\");\r\n\t\t//获取后缀\r\n\t\tvar ext = filePath.substr(index+1);\r\n\r\n\t\t// 直接下载图片\r\n\t\tvar x=new XMLHttpRequest();\r\n\t\tx.open(\"GET\", filePath, true);\r\n\t\tx.responseType = 'blob';\r\n\t\tx.onload=function(e){download(x.response, name, \"image/\"+ext);}\r\n\t\tx.send();\r\n\t}\r\n\r\n\t// 取消上传\r\n\tcancel =  () =>{\r\n\t\tthis.setState({\r\n\t\t\tloading: false,\r\n\t\t}, ()=>{\r\n\t\t\tif (this.props.journalType) {\r\n\t\t\t\tthis.store.journal = false; // 清楚记录\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {previewVisible, previewImage, fileList , name, loading, visible, imageArray, activeIndex} = this.state;\r\n\t\tconst {multiple, disabled,accept, length} = this.props;\r\n\t\tconst acceptDefault = \".jpg,.jpeg,.gif,.png,.bmp,.doc,.docx,.xlsx,.xls,.pdf,.ppt,.pptx\";  // 默认值限制格式\r\n\t\tconst props = {\r\n\t\t\taccept: accept==undefined?acceptDefault:accept,\r\n\t\t\tname: 'file',\r\n\t\t\tmultiple: multiple,\r\n\t\t\tonChange: this.handleChange,\r\n\t\t\tbeforeUpload: this.beforeUpload,\r\n\t\t\tdisabled: disabled,\r\n\t\t\tlistType: \"picture-card\",\r\n\t\t\tonPreview: this.handlePreview,\r\n\t\t\tonDownload: this.onDownload,\r\n\t\t\tshowUploadList: {\r\n\t\t\t\tshowDownloadIcon: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst uploadButton = (\r\n\t\t\t<div className=\"pr\">\r\n\t\t\t\t<Icon type={loading?\"loading\":\"plus\"} />\r\n\t\t\t\t{loading?<div className=\"ant-upload-text\">上传中</div>:null}\r\n\t\t\t\t{loading?<Icon type=\"stop\"\r\n\t\t\t\t               title=\"取消上传\"\r\n\t\t\t\t               style={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '-39px',\r\n\t\t\t\t\tright: '-22px',\r\n\t\t\t\t\tfontSize: '15px',\r\n\t\t\t\t\tcolor: '#1890ff'\r\n\t\t\t\t}} onClick={this.cancel}/>:null}\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst isImage = (/\\.(doc|docx)$/.test(name)||/\\.(xls|xlsx)$/.test(name)||/\\.(pdf)$/.test(name)||/\\.(zip|rar)$/.test(name))||(/\\.(ppt|pptx)$/.test(name));\r\n\r\n\t    return (\r\n\t\t\t<div className=\"affairs_upload\">\r\n\t\t\t\t<Upload {...props} fileList={fileList}>\r\n\t\t\t\t\t{disabled||length>=\"1\"?null:uploadButton}\r\n\t\t\t\t</Upload>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={<div>{name}\r\n\t\t\t\t\t\t<a href=\"javascript:;\" onClick={this.downloadUrl}>下载</a>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tstyle={{minHeight: '450px'}}\r\n\t\t\t\t\tvisible={previewVisible}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t\tonCancel={this.handleCancel.bind(this, 'previewVisible')}>\r\n\t\t\t\t\t{isImage?<iframe\r\n\t\t\t\t\t\tsrc={previewImage}\r\n\t\t\t\t\t\twidth='100%'\r\n\t\t\t\t\t\theight='100%'\r\n\t\t\t\t\t\tstyle={{minHeight: '450px'}}\r\n\t\t\t\t\t\tframeBorder='1'>\r\n\t\t\t\t\t</iframe>:<img style={{ backgroundSize: 'conver',width: '100%', maxHeight: '400px' }} src={previewImage} alt=\"\" />}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Viewer\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonClose={this.handleCancel.bind(this, 'visible')}\r\n\t\t\t\t\timages={imageArray}\r\n\t\t\t\t\tactiveIndex={activeIndex}\r\n\t\t\t\t\tdownloadable={true}\r\n\t\t\t\t\tcustomToolbar={(toolbars) => {\r\n\t\t\t\t\t\treturn toolbars.filter(item=>item.key!==\"download\").concat([\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tkey: \"download\",\r\n\t\t\t\t\t\t\t\trender: (<div><i className=\"react-viewer-icon react-viewer-icon-download\"></i></div>),\r\n\t\t\t\t\t\t\t\tonClick: (activeImage) => {\r\n\t\t\t\t\t\t\t\t\tconst {src, alt} = activeImage;\r\n\t\t\t\t\t\t\t\t\tthis.downloadImage(src, alt);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MyUpload;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/MyUpload.js","/*\r\n* 基于antd 自动选择组件封装\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {AutoComplete} from 'antd';\r\n\r\nconst {Option} = AutoComplete;\r\n\r\nexport default class AutoSelect extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tresult: [],\r\n\t\t\tvalue: props.value || '',\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif ('value' in nextProps && this.props.value !== nextProps.value) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalue: nextProps.value\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif ('value' in nextProps && this.props.value !== nextProps.value) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvalue: nextProps.value\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.url) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.handleFocus();\r\n\t}\r\n\r\n\thandleChange = (value, e) => {\r\n\t\tif (value === undefined) return false;\r\n\t\tthis.setState({value: value === undefined ? \"\" : value});\r\n\t\tlet {onChange} = this.props;\r\n\t\tif (onChange) {\r\n\t\t\tonChange(value, e);\r\n\t\t}\r\n\t}\r\n\r\n\thandleFocus = () => {\r\n\t\tfetch(this.props.url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tquery: this.props.query,\r\n\t\t\t\tvariables: this.props.variables\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(response => response.json())\r\n\t\t.then(json => {\r\n\t\t\tlet data = json.data[this.props.type];\r\n            if (this.props.type == \"getExpectList\") {\r\n\t            this.setState({\r\n\t\t            result: data.map((item)=>{\r\n\t\t            \treturn Object.assign({},{\r\n\t\t\t\t            expectId:item.id,\r\n\t\t\t\t            name: item.name,\r\n\t\t\t\t            completeToday: item.completeToday==undefined||item.completeToday==null?\"\":item.completeToday,\r\n\t\t\t\t            remark: item.remark,\r\n\t\t\t\t            completeTotal: item.completeTotal==undefined||item.completeTotal==null?\"\":item.completeTotal,\r\n\t\t\t\t            units: item.units,\r\n\t\t\t\t            quantities: item.quantities,\r\n\t\t\t            });\r\n\t\t            })\r\n\t            });\r\n            } else if (this.props.type == \"getDayTaskByDate\") {\r\n\t            this.setState({\r\n\t\t            result: data.filter(item=> !item.id.includes(\"!\"))\r\n\t            });\r\n            } else {\r\n\t            this.setState({\r\n\t\t            result: data\r\n\t            });\r\n            }\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {result, value} = this.state;\r\n\t\tconst {keyId} = this.props;\r\n\t\tconst type = keyId!==undefined?keyId:\"name\";\r\n\t\tconst children = result.map(item => <Option key={item.id==null?\"\":item.id} value={item[type]==null?\"\":item[type]} val={item} title={item.name}>{item.name}</Option>);\r\n\t\treturn (\r\n\t\t\t<AutoComplete style={{width: '100%'}}\r\n\t\t\t              onSelect={this.handleChange}\r\n\t\t\t              onChange={this.handleChange}\r\n\t\t\t             /* filterOption={(inputValue, option) =>\r\n\t\t\t\t              option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\r\n\t\t\t              }*/\r\n\t\t\t              value={value}\r\n\t\t\t              onFocus={this.handleFocus}\r\n\t\t\t              >\r\n\t\t\t\t{children}\r\n\t\t\t</AutoComplete>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/AutoSelect.js","/*\r\n* 施工过程 store\r\n*/\r\nimport {observable, action} from 'mobx';\r\nimport {requestPost} from \"@/utils/api\";\r\nimport Config from \"@/config\";\r\nimport Schemas from \"@/utils/Schemas/construction\";\r\nimport xmglSchemas from \"@/utils/Schemas/xmgl\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport moment from 'moment';\r\n\r\nclass ConstructionStore {\r\n  @observable pageIndex = 1;\r\n  @observable pageSize = 10;\r\n  @observable totalCount = 0;\r\n  @observable tableData = [];\r\n  @observable orgUser = []; // 组织ids\r\n  @observable projectField={\r\n    id:null,\r\n    name:'',\r\n    code:'',\r\n    region:'',\r\n    address:'',\r\n    buildUnits:{ \"id\": \"\",\r\n      \"name\": \"\",\r\n      \"type\": 1,\r\n      \"orgUser\": []},\r\n    supervisionUnits:{\"id\": \"\",\r\n      \"name\": \"\",\r\n      \"type\": 2,\r\n      \"orgUser\": []},\r\n    constructionUnits:{\"id\": \"\",\r\n      \"name\": \"\",\r\n      \"type\": 3,\r\n      \"orgUser\": []},\r\n    subcontractors: [],\r\n    foreman:'',\r\n    isSave:1,\r\n    createTime:null,\r\n    isDeleted:1,\r\n    longitude: null,\r\n    latitude: null,\r\n    state: \"在建\", // 项目状态1在建2完工3停工\r\n    requiredTime: null,\r\n    peopleCount:null, //使用人员总数\r\n    positions: [], // 位置信息\r\n    zplan: null, // 关联斑马\r\n    wisdomseeProjectId: '', //关联项目看板\r\n  }; // 项目字段\r\n  @observable projectId = ''; // 项目id\r\n  @observable buildUnits = []; // 建设单位\r\n  @observable supervisionUnits = []; // 施工单位\r\n  @observable constructionUnits = []; // 监理单位\r\n  @observable cardpageIndex = 1;\r\n  @observable cardpageSize = 10;\r\n  @observable cardtotalCount = 0;\r\n  @observable cardtableData = [];\r\n  @observable material = {\r\n    id:null,\r\n    projectId:\"\",\r\n    name:\"\",\r\n    spec:\"\",\r\n    manufacturer:null,\r\n    certificateNumber:null,\r\n    num:null,\r\n    item:null,\r\n    result:null,\r\n    remark:null,\r\n    reportId:null,\r\n    totalNum:null,\r\n    deliveryTime:null,\r\n    units:null,\r\n    attachments: [],\r\n    \"taskId\":'',\r\n    \"expectResourceId\": \"\",\r\n    \"resourceType\": \"料\",\r\n    \"dayTaskName\": \"\",\r\n  }; // 物料字段\r\n  @observable expectId = \"\";\r\n\r\n  // 获取项目物料列表\r\n  @action getMaterialList() {\r\n    return requestPost('getMaterialList', Config.construction.getMaterialList, Schemas.construction.getMaterialList, {\r\n      projectId: this.projectId,\r\n      text: '',\r\n      pageIndex: this.cardpageIndex,\r\n      pageSize: this.cardpageSize\r\n    }).then((res)=>{\r\n      if (res) {\r\n        this.cardpageIndex = res.pageIndex;\r\n        this.cardpageSize = res.pageSize;\r\n        this.cardtotalCount = res.totalCount;\r\n        this.cardtableData =Object.assign([], res.body.length?res.body.map((item,index)=>{return Object.assign(item, {key: index+1})}):[]);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 获取物料\r\n  @action getMaterial(param) {\r\n    return requestPost('getMaterial', Config.construction.getMaterial, Schemas.construction.getMaterial, {\r\n      id: param\r\n    })\r\n  }\r\n\r\n  // 保存修改物料\r\n  @action saveMaterial(param) {\r\n    return requestPost('saveMaterial', Config.construction.saveMaterial, Schemas.construction.saveMaterial, {\r\n      material: param\r\n    })\r\n  }\r\n\r\n  // 删除物料\r\n  @action delMaterial(param) {\r\n    return requestPost('delMaterial', Config.construction.delMaterial, Schemas.construction.delMaterial, {\r\n      id: param\r\n    })\r\n  }\r\n\r\n  // 保存\r\n  @action saveProject() {\r\n    return requestPost('saveProject', Config.construction.saveProject, Schemas.construction.saveProject, {\r\n      project: this.projectField\r\n    })\r\n  }\r\n\r\n  // 工艺工法字段\r\n  @observable technology = {\r\n    \"id\": null,\r\n    \"name\": \"\",\r\n    \"ready\": \"\",\r\n    \"content\": \"\",\r\n    \"workingHours\": 1\r\n  };\r\n  @observable technologypageIndex = 1;\r\n  @observable technologypageSize = 10;\r\n  @observable technologytotalCount = 0;\r\n  @observable technologytableData = [];\r\n  @observable name = '';\r\n\r\n  // 获取工艺工法库列表\r\n  @action getTechnologyList() {\r\n    return requestPost('getTechnologyList', Config.xmgl.getTechnologyList, xmglSchemas.xmgl.getTechnologyList, {\r\n      name: this.name,\r\n      pageIndex: this.technologypageIndex,\r\n      pageSize: this.technologypageSize\r\n    }).then((res)=>{\r\n      if (res) {\r\n        this.technologypageIndex = res.pageIndex;\r\n        this.technologypageSize = res.pageSize;\r\n        this.technologytotalCount = res.totalCount;\r\n        this.technologytableData = Object.assign([], res.body);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 保存\r\n  @action addTechnology() {\r\n    return requestPost('saveTechnology', Config.xmgl.saveTechnology, xmglSchemas.xmgl.saveTechnology, {\r\n      technology: this.technology\r\n    })\r\n  }\r\n\r\n  // 删除工艺工法\r\n  @action delTechnology(param) {\r\n    return requestPost('delTechnology', Config.xmgl.delTechnology, xmglSchemas.xmgl.delTechnology, {\r\n      id: param\r\n    })\r\n  }\r\n\r\n  @observable ZPlanList = [];\r\n  // 获取斑马进度计划列表\r\n  @action getProjectZPlanList() {\r\n    return requestPost('getProjectZPlanList', Config.construction.getProjectZPlanList, Schemas.construction.getProjectZPlanList, {\r\n      text: \"\"\r\n    }).then((res) => {\r\n      if (Array.isArray(res)) {\r\n         this.ZPlanList = Object.assign([], res);\r\n      }\r\n    });\r\n  }\r\n // @observable wisdomseeProject = [];\r\n  // 全部项目明细列表查询\r\n  @action\r\n  getAllProjectList(params) {\r\n    return requestPost('getAllProjectList', Config.bpm.getAllProjectList, bpmSchemas.bpm.getAllProjectList, {\r\n      beginTime: moment().startOf('year').valueOf(),\r\n      endTime: moment().endOf('year').valueOf(),\r\n      text: params.text,\r\n      products:[],\r\n      state:[],\r\n      masterIds:[],\r\n      pageIndex: params.pageIndex,\r\n      pageSize:10\r\n    })\r\n  }\r\n  @action\r\n  getProjectInfoById(param) {\r\n    return requestPost('getProjectInfoById', Config.bpm.getProjectInfoById, bpmSchemas.bpm.getProjectInfoById, {\r\n      projectId: param\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default ConstructionStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/construction/ConstructionStore.js","/**\r\n * xmgl\r\n * qiufh@glodon.com\r\n */\r\n\r\nimport {observable, action, computed} from 'mobx';\r\nimport Config from '@/config';\r\nimport {requestPost} from 'utils/api';\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\nimport bpmSchemas from \"@/utils/Schemas/bpm\";\r\nimport constructionSchemas from \"@/utils/Schemas/construction\";\r\nimport authorizationSchemas from \"@/utils/Schemas/authorization\";\r\nimport moment from 'moment';\r\n\r\n//import { timingSafeEqual } from 'crypto';\r\n\r\nclass XmglStore {\r\n\t@observable loading = false;\r\n\t@observable hasMore = true;\r\n\t@observable projectId = null;\r\n\t@observable personTableData = [];\r\n\t@observable personTotalCount = 0;\r\n\t@observable personPageIndex = 1;\r\n\t@observable personPageSize = 10;\r\n\t@observable personVisible = false; //新增人员\r\n\t@observable personEdit = false; // 编辑人员\r\n\t@observable personType = null;//进场人员类型 默认值null查询所有数据\r\n\t@observable personTypeData = [];//汇总所有工种类型\r\n\t@observable personFields = {\r\n\t\t\"id\": null,\r\n\t\t\"projectId\": \"1\",\r\n\t\t\"date\": null,\r\n\t\t\"count\": 0,\r\n\t\t\"type\": \"普工\",\r\n\t\t\"averageHours\": 8,\r\n\t\t// \"remark\": \"\",\r\n\t\t\"dateEnd\": null,\r\n\t\t\"time\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\"startTime\": \"08:00:00\",\r\n\t\t\"endTime\": \"18:00:00\",\r\n\t\t\"taskId\":'',\r\n\t\t\"expectResourceId\": \"\",\r\n\t\t\"resourceType\": \"人\",\r\n\t\t\"dayTaskName\": \"\",\r\n\t};\r\n\t@observable expectId = \"\";\r\n\r\n\t@observable qualityTableData = [];\r\n\t@observable qualityTotalCount = 0;\r\n\t@observable qualityPageIndex = 1;\r\n\t@observable qualityPageSize = 10;\r\n\t@observable qualityVisible = false; //新增人员\r\n\t@observable qualityEdit = false; // 编辑人员\r\n\t@observable qualityType = null;//安全类型 默认值null查询所有数据\r\n\t@observable qualityFields = {\r\n\t\t\"id\": null,\r\n\t\t\"question\": \"\",\r\n\t\t\"type\": 1, //类型：1质量 2安全 存储到后台时是存储的类型对应数字\r\n\t\t\"emergencyQuality\": \"质量通病\",  //质量问题紧急程度：state1:质量通病|state2:质量问题|state3:一般质量问题|state4:较大质量问题|state5:重大质量问题\r\n\t\t\"emergencySafe\": \"安全隐患\",  //安全问题紧急程度：state1:安全隐患|state2:一般安全事故|state3:较大安全事故\r\n\t\t\"createTime\": null,\r\n\t\t\"state\": \"发现问题\",  //问题状态：1发现问题2开始整改3整改完成4验收完成5问题复现 存储到后台时是存储的类型对应数字\r\n\t\t\"solveTime\": null,\r\n\t\t// \"handler\": \"\",\r\n\t\t\"reviewer\": \"\",\r\n\t\t\"remark\": \"\",\r\n\t\tplanSolveTime: null\r\n\t};\r\n\r\n\t//保存进场人员\r\n\t@action\r\n\tsavePerson() {\r\n\t\treturn requestPost('savePerson', Config.xmgl.savePerson, Schemas.xmgl.savePerson, {\r\n\t\t\tp: Object.assign({}, this.personFields, {\r\n\t\t\t\tprojectId: this.projectId\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\t//保存质量信息\r\n\t@action\r\n\tsaveQuality() {\r\n\t\treturn requestPost('saveQuality', Config.xmgl.saveQuality, Schemas.xmgl.saveQuality, {\r\n\t\t\tq: Object.assign({}, {\r\n\t\t\t\tid: this.qualityFields.id,\r\n\t\t\t\tquestion: this.qualityFields.question,\r\n\t\t\t\ttype: this.qualityType,\r\n\t\t\t\temergency: this.qualityType == 1 ? this.convertEmergencyQuality2Int(this.qualityFields.emergencyQuality) : this.convertEmergencySafe2Int(this.qualityFields.emergencySafe),\r\n\t\t\t\tcreateTime: this.qualityFields.createTime,\r\n\t\t\t\tstate: this.convertState2Int(this.qualityFields.state),\r\n\t\t\t\tsolveTime: this.qualityFields.solveTime,\r\n\t\t\t\thandler: this.qualityFields.handler,\r\n\t\t\t\treviewer: this.qualityFields.reviewer,\r\n\t\t\t\tremark: this.qualityFields.remark,\r\n\t\t\t\tprojectId: this.projectId,\r\n\t\t\t\tupdateTime: this.qualityFields.updateTime,\r\n\t\t\t\tplanSolveTime: this.qualityFields.planSolveTime\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除质量、安全\r\n\t@action delQuality(param) {\r\n\t\treturn requestPost('delQuality', Config.xmgl.delQuality, Schemas.xmgl.delQuality, {\r\n\t\t\tqualityId: param\r\n\t\t});\r\n\t}\r\n\r\n\tconvertType2Int(type) {\r\n\t\tif (type === \"质量\") return 1\r\n\t\tif (type === \"安全\") return 2\r\n\t}\r\n\r\n\tconvertType2String(type) {\r\n\t\tif (type === 1) return \"质量\"\r\n\t\tif (type === 2) return \"安全\"\r\n\t}\r\n\r\n\tconvertEmergencyQuality2Int(type) {\r\n\t\tif (type === \"质量通病\") return 1\r\n\t\tif (type === \"质量问题\") return 2\r\n\t\tif (type === \"一般质量问题\") return 3\r\n\t\tif (type === \"较大质量问题\") return 4\r\n\t\tif (type === \"重大质量问题\") return 5\r\n\t}\r\n\r\n\tconvertEmergencyQuality2String(type) {\r\n\t\tif (type === 1) return \"质量通病\"\r\n\t\tif (type === 2) return \"质量问题\"\r\n\t\tif (type === 3) return \"一般质量问题\"\r\n\t\tif (type === 4) return \"较大质量问题\"\r\n\t\tif (type === 5) return \"重大质量问题\"\r\n\t}\r\n\r\n\tconvertEmergencySafe2Int(type) {\r\n\t\tif (type === \"安全隐患\") return 1\r\n\t\tif (type === \"一般安全事故\") return 2\r\n\t\tif (type === \"较大安全事故\") return 3\r\n\t}\r\n\r\n\tconvertEmergencySafe2String(type) {\r\n\t\tif (type === 1) return \"安全隐患\"\r\n\t\tif (type === 2) return \"一般安全事故\"\r\n\t\tif (type === 3) return \"较大安全事故\"\r\n\t}\r\n\r\n\tconvertState2Int(type) {\r\n\t\tif (type === \"发现问题\") return 1\r\n\t\tif (type === \"开始整改\") return 2\r\n\t\tif (type === \"整改完成\") return 3\r\n\t\tif (type === \"验收完成\") return 4\r\n\t\tif (type === \"问题复现\") return 5\r\n\t}\r\n\r\n\tconvertState2String(type) {\r\n\t\tif (type === 1) return \"发现问题\"\r\n\t\tif (type === 2) return \"开始整改\"\r\n\t\tif (type === 3) return \"整改完成\"\r\n\t\tif (type === 4) return \"验收完成\"\r\n\t\tif (type === 5) return \"问题复现\"\r\n\t}\r\n\r\n\r\n\t// 进场人员查询\r\n\t@action\r\n\tgetAllPersonByProjectIdAndType() {\r\n\t\treturn requestPost('getAllPersonByProjectIdAndType', Config.xmgl.getAllPersonByProjectIdAndType, Schemas.xmgl.getAllPersonByProjectIdAndType, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttype: this.personType,\r\n\t\t\tpageIndex: this.personPageIndex,\r\n\t\t\tpageSize: this.personPageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.personPageIndex = res.pageIndex;\r\n\t\t\tthis.personPageSize = res.pageSize;\r\n\t\t\tthis.personTotalCount = res.totalCount;\r\n\t\t\tthis.personTableData = Object.assign([], res.body.map((item, index) => {\r\n\t\t\t\tObject.assign(item, {key: index + 1});\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\treturn Object.assign(item, {selested: true})\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Object.assign(item, {selested: false})\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 进场人员工种查询\r\n\t@action\r\n\tgetPersonType() {\r\n\t\treturn requestPost('getAllPersonByProjectIdAndType', Config.xmgl.getAllPersonByProjectIdAndType, Schemas.xmgl.getAllPersonByProjectIdAndType, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttype: this.personType,\r\n\t\t\tpageIndex: 0,\r\n\t\t\tpageSize: 100\r\n\t\t}).then((res) => {\r\n\t\t\tlet tempTypeData = [];\r\n\t\t\tres.body.map((item, index) => {\r\n\t\t\t\ttempTypeData.push(item.type);\r\n\t\t\t})\r\n\t\t\tlet filterData = [...new Set(tempTypeData)];\r\n\t\t\tfilterData = filterData.filter(item => {\r\n\t\t\t\treturn item !== \"\"\r\n\t\t\t});\r\n\t\t\tthis.personTypeData = Object.assign([], filterData.map(item => {\r\n\t\t\t\treturn {\"text\": item, \"value\": item}\r\n\t\t\t}));\r\n\t\t})\r\n\t}\r\n\r\n\t// 质量数据查询\r\n\t@action\r\n\tgetAllQualityByProjectIdAndType() {\r\n\t\treturn requestPost('getAllQualityByProjectIdAndType', Config.xmgl.getAllQualityByProjectIdAndType, Schemas.xmgl.getAllQualityByProjectIdAndType, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttype: this.qualityType,\r\n\t\t\tpageIndex: this.qualityPageIndex,\r\n\t\t\tpageSize: this.qualityPageSize\r\n\t\t}).then((res) => {\r\n\t\t\t// let tempTypeData = [];\r\n\t\t\tthis.qualityPageIndex = res.pageIndex;\r\n\t\t\tthis.qualityPageSize = res.pageSize;\r\n\t\t\tthis.qualityTotalCount = res.totalCount;\r\n\t\t\tthis.qualityTableData = Object.assign([], res.body.map((item, index) => {\r\n\t\t\t\t// tempTypeData.push(item.type);\r\n\t\t\t\tObject.assign(item, {\r\n\t\t\t\t\t\ttype: this.convertType2String(item.type),\r\n\t\t\t\t\t\temergency: item.type == 1 ? this.convertEmergencyQuality2String(item.emergency) : this.convertEmergencySafe2String(item.emergency),\r\n\t\t\t\t\t\tstate: this.convertState2String(item.state),\r\n\t\t\t\t\t\tkey: index + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\treturn Object.assign(item, {selested: true})\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Object.assign(item, {selested: false})\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\r\n\t\t\t// let filterData = [...new Set(tempTypeData)];\r\n\t\t\t// filterData = filterData.filter(item => {\r\n\t\t\t//   return item!==\"\"\r\n\t\t\t// });\r\n\t\t\t// this.personTypeData = Object.assign([],filterData.map(item => {\r\n\t\t\t//   return {\"text\":item,\"value\":item}\r\n\t\t\t// }));\r\n\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t@observable parojectName = \"\"; // 项目名称\r\n\t@observable notifyfield = {\r\n\t\tbeginTime: null,\r\n\t\tendTime: null,\r\n\t\tfloorage: \"\",\r\n\t\tnotifys: [{wecat: false}, {email: false}],\r\n\t\twecat: false,\r\n\t\temail: false,\r\n\t\tuserIds: [],\r\n\t\tprojectId: \"\"\r\n\t}; //项目设置字段\r\n\t@observable dailyRecord = {\r\n\t\t\"id\": \"\",\r\n\t\t\"projectId\": \"\",\r\n\t\t\"date\": null,\r\n\t\t\"environment\": null,\r\n\t\t\"workdetails\": [\r\n\t\t\t{\r\n\t\t\t\t\"id\": \"\",\r\n\t\t\t\t\"workContentId\": \"\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"date\": \"08:00:00\",\r\n\t\t\t\t\"dateEnd\": \"18:00:00\",\r\n\t\t\t\t\"peopleCount\": 1,\r\n\t\t\t\t\"prepare\": \"\",\r\n\t\t\t\t\"constHour\": \"8\",\r\n\t\t\t\t\"method\": \"\"\r\n\t\t\t}\r\n\t\t]\r\n\t};// 施工日志字段\r\n\t/*// 添加施工日志\r\n\t@action addDailyRecord () {\r\n\t  return requestPost('addDailyRecord', Config.xmgl.addDailyRecord, Schemas.xmgl.addDailyRecord, {\r\n\t\tprojectId: this.projectId,\r\n\t  }).then((res)=>{\r\n\t\tthis.dailyRecord = Object.assign({}, res);\r\n\t\treturn res;\r\n\t  })\r\n\t}*/\r\n\r\n\t// 保存施工日志\r\n\t@action saveWorkContent() {\r\n\t\treturn requestPost('saveWorkContent', Config.xmgl.saveWorkContent, Schemas.xmgl.saveWorkContent, {\r\n\t\t\tworkContent: this.dailyRecord,\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除施工日志\r\n\t@action delDailyRecord(param) {\r\n\t\treturn requestPost('delWorkContent', Config.xmgl.delWorkContent, Schemas.xmgl.delWorkContent, {\r\n\t\t\tworkContentId: param\r\n\t\t});\r\n\t}\r\n\r\n\t@observable dailyTableData = [];\r\n\t@observable dailyTotalCount = 0;\r\n\t@observable dailyPageIndex = 1;\r\n\t@observable dailyPageSize = 10;\r\n\r\n\t// 查询施工日志\r\n\t@action getWorkContentList() {\r\n\t\treturn requestPost('getWorkContentList', Config.xmgl.getWorkContentList, Schemas.xmgl.getWorkContentList, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttext: \"\",\r\n\t\t\tpageIndex: this.dailyPageIndex,\r\n\t\t\tpageSize: this.dailyPageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.dailyPageIndex = res.pageIndex;\r\n\t\t\tthis.dailyPageSize = res.pageSize;\r\n\t\t\tthis.dailyTotalCount = res.totalCount;\r\n\t\t\tthis.dailyTableData = Object.assign([], res.body.length ? res.body.map((item, index) => {\r\n\t\t\t\treturn Object.assign(item, {key: index + 1})\r\n\t\t\t}) : []);\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 获取推送设置\r\n\t@action getNotifyProject() {\r\n\t\treturn requestPost('getNotifyProject', Config.construction.getNotifyProject, constructionSchemas.construction.getNotifyProject, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t}).then((res) => {\r\n\t\t\tthis.notifyfield = Object.assign({}, res.notifys == null ? {\r\n\t\t\t\t...res, ...{\r\n\t\t\t\t\twecat: false,\r\n\t\t\t\t\temail: false\r\n\t\t\t\t}\r\n\t\t\t} : {...res, ...{wecat: JSON.parse(res.notifys[0]).wecat, email: JSON.parse(res.notifys[1]).email}});\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存推送设置\r\n\t@action saveNotifyProject(params) {\r\n\t\treturn requestPost('saveNotifyProject', Config.construction.saveNotifyProject, constructionSchemas.construction.saveNotifyProject, {\r\n\t\t\tsimpleProject: params\r\n\t\t});\r\n\t}\r\n\r\n\t@observable machineTableData = [];\r\n\t@observable machineTotalCount = 0;\r\n\t@observable machinePageIndex = 1;\r\n\t@observable machinePageSize = 10;\r\n\t@observable machineFields = {\r\n\t\t\"id\": \"\", \"name\": \"\", \"projectId\": \"\", \"date\": null, \"dateEnd\": null, \"count\": 0,\r\n\t\t\"time\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\"startTime\": \"08:00:00\",\r\n\t\t\"endTime\": \"18:00:00\",\r\n\t\t\"units\": \"\", \"type\": \"\", \"averageHours\": null, \"remark\": \"\",\r\n\t\t\"taskId\":'',\r\n\t\t\"expectResourceId\": \"\",\r\n\t\t\"resourceType\": \"机\",\r\n\t\t\"dayTaskName\": \"\",\r\n\t}; // 机械字段\r\n\r\n\t// 获取进场机械设备\r\n\t@action getAllMachineByProjectIdAndType() {\r\n\t\treturn requestPost('getAllMachineByProjectIdAndType', Config.xmgl.getAllMachineByProjectIdAndType, Schemas.xmgl.getAllMachineByProjectIdAndType, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttype: \"\",\r\n\t\t\tpageIndex: this.machinePageIndex,\r\n\t\t\tpageSize: this.machinePageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.machinePageIndex = res.pageIndex;\r\n\t\t\tthis.machinePageSize = res.pageSize;\r\n\t\t\tthis.machineTotalCount = res.totalCount;\r\n\t\t\tthis.machineTableData = Object.assign([], res.body.length ? res.body.map((item, index) => {\r\n\t\t\t\treturn Object.assign(item, {key: index + 1})\r\n\t\t\t}) : []);\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存机械\r\n\t@action saveMachine() {\r\n\t\treturn requestPost('saveMachine', Config.xmgl.saveMachine, Schemas.xmgl.saveMachine, {\r\n\t\t\tmachine: this.machineFields\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除人员\r\n\t@action delPerson(param) {\r\n\t\treturn requestPost('delPerson', Config.xmgl.delPerson, Schemas.xmgl.delPerson, {\r\n\t\t\tpersonId: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除设备\r\n\t@action delMachine(param) {\r\n\t\treturn requestPost('delMachine', Config.xmgl.delMachine, Schemas.xmgl.delMachine, {\r\n\t\t\tmachineId: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 进度\r\n\t@observable planTableData = [];\r\n\t@observable planTotalCount = 0;\r\n\t@observable planPageIndex = 1;\r\n\t@observable planPageSize = 10;\r\n\t@observable planFields = {\r\n\t\t\"projectId\": \"\",\r\n\t\t\"id\": null,\r\n\t\t\"date\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\"attachments\": [],\r\n\t\t\"goals\": [],\r\n\t\t\"goalsTomorrow\": [{\r\n\t\t\t\"id\": \"\",\r\n\t\t\t\"projectId\": '',\r\n\t\t\t\"text\": \"\",\r\n\t\t\t\"rate\": 100,\r\n\t\t\t\"date\": null,\r\n\t\t\t\"ztaskId\": \"\"\r\n\t\t}],\r\n\t\t\"text\": \"\",\r\n\t\t\"positions\": [],\r\n\t\t\"dayTasks\": []\r\n\t}; // 进度字段\r\n\r\n\t// 获取进度列表\r\n\t@action getPlanList() {\r\n\t\treturn requestPost('getPlanList', Config.xmgl.getPlanList, Schemas.xmgl.getPlanList, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttext: '',\r\n\t\t\tpageIndex: this.planPageIndex,\r\n\t\t\tpageSize: this.planPageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.planPageIndex = res.pageIndex;\r\n\t\t\tthis.planPageSize = res.pageSize;\r\n\t\t\tthis.planTotalCount = res.totalCount;\r\n\t\t\tthis.planTableData = Object.assign([], res.body.length ? res.body.map((item, index) => {\r\n\t\t\t\treturn Object.assign(item, {key: index + 1})\r\n\t\t\t}) : []);\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存进度\r\n\t@action savePlan(param) {\r\n\t\treturn requestPost('savePlan', Config.xmgl.savePlan, Schemas.xmgl.savePlan, {\r\n\t\t\tplan: param\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除进度\r\n\t@action delPlan(param) {\r\n\t\treturn requestPost('delPlan', Config.xmgl.delPlan, Schemas.xmgl.delPlan, {\r\n\t\t\tplanId: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取今日计划\r\n\t@action getTodayGoals(param) {\r\n\t\treturn requestPost('getTodayGoals', Config.xmgl.getTodayGoals, Schemas.xmgl.getTodayGoals, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\tdate: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 环境\r\n\t@observable environmentTableData = [];\r\n\t@observable environmentTotalCount = 0;\r\n\t@observable environmentPageIndex = 1;\r\n\t@observable environmentPageSize = 10;\r\n\t@observable environmentFields = {\r\n\t\t\"id\": null,\r\n\t\t\"projectId\": \"\",\r\n\t\t\"date\": null,\r\n\t\t\"text\": \"\",\r\n\t\t// \"remark\":\"\"\r\n\t}; // 环境字段\r\n\r\n\t// 获取环境列表\r\n\t@action getEnvironmentList() {\r\n\t\treturn requestPost('getEnvironmentList', Config.xmgl.getEnvironmentList, Schemas.xmgl.getEnvironmentList, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttext: '',\r\n\t\t\tpageIndex: this.environmentPageIndex,\r\n\t\t\tpageSize: this.environmentPageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.environmentPageIndex = res.pageIndex;\r\n\t\t\tthis.environmentPageSize = res.pageSize;\r\n\t\t\tthis.environmentTotalCount = res.totalCount;\r\n\t\t\tthis.environmentTableData = Object.assign([], res.body.length ? res.body.map((item, index) => {\r\n\t\t\t\treturn Object.assign(item, {key: index + 1})\r\n\t\t\t}) : []);\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存环境\r\n\t@action saveEnvironment() {\r\n\t\treturn requestPost('saveEnvironment', Config.xmgl.saveEnvironment, Schemas.xmgl.saveEnvironment, {\r\n\t\t\tenvironment: this.environmentFields\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除环境\r\n\t@action delEnvironment(param) {\r\n\t\treturn requestPost('delEnvironment', Config.xmgl.delEnvironment, Schemas.xmgl.delEnvironment, {\r\n\t\t\tenvironmentId: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 根据日期查询天气数据\r\n\t@action\r\n\tgetWeatherByDate() {\r\n\t\treturn requestPost('getWeatherByDate', Config.xmgl.getWeatherByDate, Schemas.xmgl.getWeatherByDate, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\treportTime: this.environmentFields[\"date\"]\r\n\t\t}).then((res) => {\r\n\t\t\tlet weatherData = \"天气：\" + res.liveWeatherName + \", 温度范围：(\" + res.minTemp + \"--\" + res.maxTemp + \")(℃), \" + \"风力：\" + res.windPowerDesc + \"级, \" + \"风向：\" + res.windDirectionDesc;\r\n\t\t\tthis.environmentFields = Object.assign(this.environmentFields, {\"text\": weatherData});\r\n\t\t})\r\n\t}\r\n\r\n\t// 发送通知\r\n\t@action\r\n\tsendNotifys(param) {\r\n\t\treturn requestPost('sendNotifys', Config.xmgl.sendNotifys, Schemas.xmgl.sendNotifys, {\r\n\t\t\tworkContentId: param\r\n\t\t})\r\n\t}\r\n\r\n\r\n\t@observable projectPeopleInfoList = []; // 获取项目人员情况分页\r\n\t@observable projectStateList = []; // 项目进度状态列表 state=0 全部，1在建2完工\r\n\t@observable qualityStateList = []; // 质量状态列表 state0全部，1在建2完工\r\n\t@observable safeStateList = []; // 安全状态列表 0全部，1在建2完工\r\n\t@observable qualityOverallEvaluation = [] //整体质量评估\r\n\t@observable safeOverallEvaluation = [] //整体质量评估\r\n\t@observable projectStateDetails = [] // 项目进度详情\r\n\r\n\t@observable qualityBlue = 0; //blue\r\n\t@observable qualityYellow = 0; //yellow\r\n\t@observable qualityOrange = 0; //orange\r\n\t@observable qualityRed = 0; //red\r\n\r\n\t@observable qualityTotalSum = 0;\r\n\r\n\t@observable safetyBlue = 0; //blue\r\n\t@observable safetyYellow = 0; //yellow\r\n\t@observable safetyOrange = 0; //orange\r\n\t@observable safetyRed = 0; //red\r\n\t@observable safetyTotalSum = 0;\r\n\r\n\r\n\t// 查询项目人员情况\r\n\t@action getProjectPeopleInfoList(params) {\r\n\t\treturn requestPost('getProjectPeopleInfoList', Config.xmgl.getProjectPeopleInfoList, Schemas.xmgl.getProjectPeopleInfoList, params);\r\n\t}\r\n\r\n\t// 查询项目进度情况列表\r\n\t@action getProjectStateList(params) {\r\n\t\treturn requestPost('getProjectStateList', Config.xmgl.getProjectStateList, Schemas.xmgl.getProjectStateList, params);\r\n\t}\r\n\r\n\t// 查询质量情况列表\r\n\t@action getQualityStateList(params) {\r\n\t\treturn requestPost('getQualityStateList', Config.xmgl.getQualityStateList, Schemas.xmgl.getQualityStateList, params);\r\n\t}\r\n\r\n\t// 查询安全情况列表\r\n\t@action getSafeStateList(params) {\r\n\t\treturn requestPost('getSafeStateList', Config.xmgl.getSafeStateList, Schemas.xmgl.getSafeStateList, params);\r\n\t}\r\n\r\n\t// 查询项目进度详情\r\n\t@action getProjectListByStateAndType(params) {\r\n\t\treturn requestPost('getProjectListByStateAndType', Config.construction.getProjectListByStateAndType, constructionSchemas.construction.getProjectListByStateAndType, params);\r\n\t}\r\n\r\n\t// 没有解决的1 质量 2 安全问题列表\r\n\t@action getQualityNoSolveByType(params) {\r\n\t\treturn requestPost('getQualityNoSolveByType', Config.xmgl.getQualityNoSolveByType, Schemas.xmgl.getQualityNoSolveByType, params);\r\n\t}\r\n\r\n\t// 疫情防控\r\n\t@observable epidemicTableData = [];\r\n\t@observable epidemicTotalCount = 0;\r\n\t@observable epidemicPageIndex = 1;\r\n\t@observable epidemicPageSize = 10;\r\n\t@observable epidemicFields = {\r\n\t\t\"projectId\": \"\",\r\n\t\t\"id\": null,\r\n\t\t\"date\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\"normalTemperature\": \"true\",\r\n\t\t\"protect\": \"true\",\r\n\t\t\"disinfection\": \"true\",\r\n\t\t\"normalTemperatureText\": \"\",\r\n\t\t\"protectText\": \"\",\r\n\t\t\"disinfectionText\": \"\",\r\n\t\t\"attachments\": []\r\n\t}; // 进度字段\r\n\r\n\t// 获取疫情防控列表\r\n\t@action getEpidemicList() {\r\n\t\treturn requestPost('getEpidemicList', Config.xmgl.getEpidemicList, Schemas.xmgl.getEpidemicList, {\r\n\t\t\tprojectId: this.projectId,\r\n\t\t\ttext: '',\r\n\t\t\tpageIndex: this.epidemicPageIndex,\r\n\t\t\tpageSize: this.epidemicPageSize\r\n\t\t}).then((res) => {\r\n\t\t\tthis.epidemicPageIndex = res.pageIndex;\r\n\t\t\tthis.epidemicPageSize = res.pageSize;\r\n\t\t\tthis.epidemicTotalCount = res.totalCount;\r\n\t\t\tthis.epidemicTableData = Object.assign([], res.body.length ? res.body.map((item, index) => {\r\n\t\t\t\treturn Object.assign(item, {key: index + 1})\r\n\t\t\t}) : []);\r\n\t\t\treturn res;\r\n\t\t})\r\n\t}\r\n\r\n\t// 保存疫情防控\r\n\t@action saveEpidemic(param) {\r\n\t\treturn requestPost('saveEpidemic', Config.xmgl.saveEpidemic, Schemas.xmgl.saveEpidemic, {\r\n\t\t\te: param\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除疫情防控\r\n\t@action delEpidemic(param) {\r\n\t\treturn requestPost('delEpidemic', Config.xmgl.delEpidemic, Schemas.xmgl.delEpidemic, {\r\n\t\t\tid: param\r\n\t\t});\r\n\t}\r\n\r\n\t// 获取疫情防控\r\n\t@action getEpidemicByDate(param) {\r\n\t\treturn requestPost('getEpidemicByDate', Config.xmgl.getEpidemicByDate, Schemas.xmgl.getEpidemicByDate, param)\r\n\t}\r\n\r\n\t@observable positions = [];\r\n\r\n\t// 按照日期获取定点照片\r\n\t@action getPositionList(param) {\r\n\t\treturn requestPost('getPositionList', Config.xmgl.getPositionList, Schemas.xmgl.getPositionList, param)\r\n\t}\r\n\r\n\t@observable ossData = {\r\n\t\t\"securityToken\": \"\",\r\n\t\t\"accessKeyId\": \"\",\r\n\t\t\"accessKeySecret\": \"\",\r\n\t\t\"expiration\": null\r\n\t}; // 阿里云上传参数\r\n\r\n\t// 获取大文件上传sts\r\n\t@action\r\n\tgetSts() {\r\n\t\treturn requestPost('getSts', Config.bpm.getSts, bpmSchemas.bpm.getSts, {})\r\n\t\t.then((res) => {\r\n\t\t\tlet str = typeof res == \"string\" ? JSON.parse(res) : res;\r\n\t\t\tif (str) {\r\n\t\t\t\tthis.ossData = Object.assign({}, str);\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t});\r\n\t}\r\n\r\n\t// 人员\r\n\t@action\r\n\tgetRole() {\r\n\t\treturn requestPost('getUserInfoListByCodeOrText', Config.authorization.getUserInfoListByCodeOrText, authorizationSchemas.authorization.getUserInfoListByCodeOrText, {\r\n\t\t\tappId: \"bocspace\",\r\n\t\t\tcode: \"bocspace.group\",\r\n\t\t\ttext: \"\",\r\n\t\t\tpageIndex: 1,     // 暂时处理\r\n\t\t\tpageSize: 200,    // 暂时这样处理\r\n\t\t})\r\n\t}\r\n\r\n\t@observable newReport = {   // 周报内容\r\n\t\t\"projectId\": \"\",\r\n\t\t\"projectName\": \"\",\r\n\t\t\"beginTime\": 0,\r\n\t\t\"endTime\": 0,\r\n\t\t\"nextBeginTime\": 0,\r\n\t\t\"nextEndTime\": 0,\r\n\t\t\"keyIssues\": \"\",\r\n\t\t\"personDates\": [],\r\n\t\t\"materialApproach\": \"\",\r\n\t\t\"materials\": [],\r\n\t\t\"attachments\": [],\r\n\t\t\"nextAttachments\": [],\r\n\t\t\"zplanTasks\": [],\r\n\t\t\"nextZplanTasks\": [],\r\n\t\t\"qualities\": [],\r\n\t\t\"positions\": [],\r\n\t\t\"emails\": [],\r\n\t\t\"emailUserIds\": []\r\n\t}\r\n\r\n\t// 根据查询时间获取新汇报内容\r\n\t@action getNewReport() {\r\n\t\treturn requestPost('getNewReport', Config.xmgl.getNewReport, Schemas.xmgl.getNewReport, {\r\n\t\t\tprojectId: this.newReport.projectId,\r\n\t\t\tbeginTime: this.newReport.beginTime,\r\n\t\t\tendTime: this.newReport.endTime,\r\n\t\t\tnextBeginTime: this.newReport.nextBeginTime,\r\n\t\t\tnextEndTime: this.newReport.nextEndTime\r\n\t\t})\r\n\t}\r\n\r\n\t// 发送邮件\r\n\t@action sendReport(param) {\r\n\t\treturn requestPost('sendReport', Config.xmgl.sendReport, Schemas.xmgl.sendReport, param)\r\n\t}\r\n\r\n\t// 发送邮件\r\n\t@action sendReportEmail(param) {\r\n\t\treturn requestPost('sendReportEmail', Config.xmgl.sendReportEmail, Schemas.xmgl.sendReportEmail, param)\r\n\t}\r\n\r\n\t// 下载pdf\r\n\t@action downloadReport(param) {\r\n\t\treturn requestPost('downloadReport', Config.xmgl.downloadReport, Schemas.xmgl.downloadReport, param)\r\n\t}\r\n\r\n\t// 下载pdf\r\n\t@action getReportUrl(param) {\r\n\t\treturn requestPost('getReportUrl', Config.xmgl.getReportUrl, Schemas.xmgl.getReportUrl, param)\r\n\t}\r\n\r\n\t// getDayTaskByDate\r\n\t@action getDayTaskByDate(param) {\r\n\t\treturn requestPost('getDayTaskByDate', Config.xmgl.getDayTaskByDate, Schemas.xmgl.getDayTaskByDate, param)\r\n\t}\r\n}\r\n\r\nexport default XmglStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/xmgl/XmglStore.js","/*\r\n* 基于antd select组件封装 多选\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {Select} from 'antd';\r\nimport PropTypes from 'prop-types';\r\nconst Option = Select.Option;\r\n\r\nexport default class AsyncSelectMuti extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      value: props.value || [],\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if ('value' in nextProps && this.props.value !== nextProps.value) {\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.url) {\r\n      return;\r\n    }\r\n    this.handleFocus();\r\n  }\r\n\r\n  handleChange = (value) => {\r\n    if (value === undefined) return false;\r\n    this.setState({value: value === undefined?\"\":value});\r\n    let {onChange} = this.props;\r\n    if (onChange) {\r\n      onChange(value);\r\n    }\r\n  }\r\n\r\n  handleFocus = () => {\r\n    fetch(this.props.url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        query: this.props.query,\r\n        variables: {\"appId\" :\"bocspace\",\"code\":\"bocspace.group\",\"pageIndex\":1,\"pageSize\":100}\r\n      })\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      let data = json.data.getUserInfoListByRoleCode.body;\r\n      if (this.props.dataMapFunc) {\r\n        data = data.map(item => this.props.dataMapFunc(item));\r\n      }\r\n      this.setState({\r\n        data\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const options = this.state.data.map((d,i)=> <Option value={d.id} key={i}>{d.realname}</Option>);\r\n\r\n    return (\r\n      <Select\r\n        value={this.props.value}\r\n        placeholder={this.props.placeholder}\r\n        style={this.props.style}\r\n        onChange={this.handleChange}\r\n        onFocus={this.handleFocus}\r\n        onBlur={this.props.onBlur}\r\n        disabled={this.props.disabled}\r\n        mode=\"multiple\"\r\n      >\r\n        {options}\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n\r\nAsyncSelectMuti.propTypes = {\r\n  style: PropTypes.object,\r\n  placeholder: PropTypes.string,\r\n  value: PropTypes.string, // 默认值\r\n  url: PropTypes.string,\r\n  dataMapFunc: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/AsyncSelectMutiold.js","/*\r\n* 物料组件\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer, inject} from 'mobx-react';\r\nimport {\r\n\tDivider,\r\n\tButton,\r\n\tTag,\r\n\tTable,\r\n\tDatePicker,\r\n\tPagination,\r\n\tModal,\r\n\tForm,\r\n\tInput,\r\n\tmessage,\r\n\tInputNumber,\r\n\tCol,\r\n\tRow,\r\n} from 'antd';\r\nimport * as mobx from \"mobx\";\r\nimport moment from 'moment';\r\nimport Config from \"@/config\";\r\nimport AutoSelect from \"@/components/common/AutoSelect\";\r\nimport MyUpload from '@/components/common/MyUpload';\r\n\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\n\r\nconst confirm = Modal.confirm;\r\n\r\n@observer\r\nclass MateriaModal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\ttitle: '',\r\n\t\t\tfileList: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getMaterialList();\r\n\t}\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.cardpageIndex = 1;\r\n\t\tthis.store.cardpageSize = pageSize;\r\n\t\tthis.store.getMaterialList();\r\n\t}\r\n\r\n\tonChange = async (pageNumber) => {\r\n\t\tthis.store.cardpageIndex = pageNumber;\r\n\t\tthis.store.getMaterialList();\r\n\t}\r\n\r\n\t// 新增\r\n\thandAdd = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: '新增材料'\r\n\t\t}, () => {\r\n\t\t\tthis.store.material = Object.assign(mobx.toJS(this.store.material),\r\n\t\t\t\t{deliveryTime: moment().format(\"YYYY-MM-DD\"), projectId: this.store.projectId})\r\n\t\t})\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: '编辑材料'\r\n\t\t}, () => {\r\n\t\t\tthis.store.getMaterial(param).then((res)=>{\r\n\t\t\t\tif (res) {\r\n\r\n\t\t\t\t\tthis.store.material = Object.assign({}, res, {\r\n\t\t\t\t\t\tattachments: res.attachments !== null ? res.attachments.map((vitem, index) => {\r\n\t\t\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\t\t\tuid: vitem.fileId,\r\n\t\t\t\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\t\t\t\tfileId: vitem.fileId,\r\n\t\t\t\t\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\t\t\t\tid: vitem.fileId\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}) : []\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.store.material.projectId = this.store.projectId;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandDelete = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delMaterial(param).then((res)=>{\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\")\r\n\t\t\t\t\t\t_this.cardpageIndex = 1;\r\n\t\t\t\t\t\t_this.cardpageSize = 10;\r\n\t\t\t\t\t\t_this.store.getMaterialList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.success(res.message||\"删除失败\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\tconsole.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 提交\r\n\thandleSubmit = e => {\r\n\t\tlet _this = this;\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\t//console.log( fieldsValue);\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst values = {\r\n\t\t\t\t...fieldsValue,\r\n\t\t\t\t'deliveryTime': fieldsValue['deliveryTime'].format('YYYY-MM-DD'),\r\n\t\t\t};\r\n\r\n\t\t\t// 处理附件\r\n\t\t\tlet array = JSON.parse(JSON.stringify(this.store.material.attachments))\r\n\t\t\tlet arr = [];\r\n\t\t\tarray.length&&array.map((item,index)=>{\r\n\t\t\t\tarr.push({\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName:item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\t//id: item.id\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tlet material = JSON.parse(JSON.stringify(this.store.material));\r\n\t\t\tthis.store.material = Object.assign(material, values);\r\n\r\n\t\t\t_this.store.saveMaterial(\r\n\t\t\t\tObject.assign(mobx.toJS(this.store.material), {\r\n\t\t\t\t\tattachments: arr\r\n\t\t\t\t})\r\n\t\t\t).then((res)=>{\r\n\t\t\t\t  if (res.code == 1) {\r\n\t\t\t\t  \tmessage.success(\"保存成功\")\r\n\t\t\t\t\t  _this.handleCancel();\r\n\t\t\t\t\t  _this.cardpageIndex = 1;\r\n\t\t\t\t\t  _this.cardpageSize = 10;\r\n\t\t\t\t\t  _this.store.getMaterialList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.success(res.message||\"保存失败\")\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t// 取消\r\n\thandleCancel = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false\r\n\t\t}, ()=> {\r\n\t\t\tthis.store.material = Object.assign({}, {\r\n\t\t\t\tid:null,\r\n\t\t\t\tprojectId:this.store.projectId,\r\n\t\t\t\tname:\"\",\r\n\t\t\t\tspec:\"\",\r\n\t\t\t\tmanufacturer:\"\",\r\n\t\t\t\tcertificateNumber:\"\",\r\n\t\t\t\tnum:null,\r\n\t\t\t\titem:null,\r\n\t\t\t\tresult:null,\r\n\t\t\t\tremark:\"\",\r\n\t\t\t\treportId:\"\",\r\n\t\t\t\ttotalNum:\"\",\r\n\t\t\t\tdeliveryTime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\tunits:\"\",\r\n\t\t\t\tattachments:[],\r\n\t\t\t\t\"taskId\":'',\r\n\t\t\t\t\"expectResourceId\": \"\",\r\n\t\t\t\t\"resourceType\": \"料\",\r\n\t\t\t\t\"dayTaskName\": \"\",\r\n\t\t\t});\r\n\t\t\tthis.props.form.resetFields();\r\n\t\t})\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\tconsole.log(value);\r\n\t\tif(typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\thandleChange = info => {\r\n\t\t//console.log(info, '0')\r\n\t\tconst status = info.file.status;\r\n\t\tif (status === 'done') {\r\n\t\t\t// 上传成功\r\n\t\t\t//message.success(`${info.file.name}上传成功！`);\r\n\t\t} else if (status === 'error') {\r\n\t\t\tmessage.error(`${info.file.name}上传失败！`);\r\n\t\t} else if (status === 'removed') {\r\n\t\t\t//console.log('delete')\r\n\t\t}\r\n\t\tlet fileList = [...info.fileList];\r\n\t\tfileList = JSON.parse(JSON.stringify(fileList));\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.status === 'error') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tfileList = fileList.map(file => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\tfile.url = file.response.body[0].fileURL;\r\n\t\t\t\tfile.fileId = file.response.body[0].fileId;\r\n\t\t\t\tfile.id = file.response.body[0].fileId;\r\n\t\t\t\tfile.fileName = file.response.body[0].fileName;\r\n\t\t\t\tfile.filePath = file.response.body[0].fileURL;\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t});\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\treturn file.response.status === 'ok';\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tfileList: Object.assign([], [...fileList])\r\n\t\t}, ()=>{\r\n\t\t\t// 更新附件数据\r\n\t\t\tlet data = this.state.fileList.map((item,index)=>{\r\n\t\t\t\treturn {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.fileName,\r\n\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\turl: item.fileURL,\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName:item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\tid: item.fileId\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.store.material.attachments = Object.assign([], data);\r\n\t\t});\r\n\t};\r\n\r\n\t// 形象进度上传\r\n\thandleAttment = (params) => {\r\n\t\t// 处理附件\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: item.filePath,\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.store.material.attachments = Object.assign([], arr);\r\n\t}\r\n\r\n\tdoChange = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.material.taskId = \"\";\r\n\t\t\tthis.store.material.dayTaskName = \"\";\r\n\t\t\tthis.store.expectId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.material.taskId = val.id\r\n\t\t\tthis.store.material.dayTaskName = val.name;\r\n\t\t\tthis.store.expectId = val.expectId;\r\n\t\t}\r\n\t}\r\n\r\n\tdoChange2 = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.material.resourceType = \"料\";\r\n\t\t\tthis.store.material.expectResourceId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.material.resourceType =  val.type;\r\n\t\t\tthis.store.material.expectResourceId = val.id;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '材料名称',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '规格型号',\r\n\t\t\t\tdataIndex: 'spec',\r\n\t\t\t\tkey: 'spec',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '单位',\r\n\t\t\t\tdataIndex: 'units',\r\n\t\t\t\tkey: 'units',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '数量',\r\n\t\t\t\tdataIndex: 'totalNum',\r\n\t\t\t\tkey: 'totalNum',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '进场日期',\r\n\t\t\t\tdataIndex: 'deliveryTime',\r\n\t\t\t\tkey: 'deliveryTime',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender:(text) => (\r\n\t\t\t\t\t<span>{text==null?\"\":moment(text).format(\"YYYY-MM-DD\")}</span>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '供应商',\r\n\t\t\t\tdataIndex: 'manufacturer',\r\n\t\t\t\tkey: 'manufacturer',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t/*{\r\n\t\t\t\ttitle: '合格证号',\r\n\t\t\t\tdataIndex: 'certificateNumber',\r\n\t\t\t\tkey: 'certificateNumber',\r\n\t\t\t\tclassName: 'tc'\r\n\t\t\t},*/\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record.id)}>\r\n               编辑\r\n            </Tag>\r\n            <Divider type=\"vertical\"/>\r\n            <Tag color={'red'} className=\"pointer\" onClick={this.handDelete.bind(this, record.id)}>\r\n                 删除\r\n              </Tag>\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 9},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 15},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst {visible,title} = this.state;\r\n\t\tconst fields = mobx.toJS(this.store.material);\r\n\t\tconst dateFormat = \"YYYY-MM-DD\";\r\n\t\tconst props = {\r\n\t\t\tdata: {\r\n\t\t\t\ttype: 1,    // 物料\r\n\t\t\t\tsourceId: this.store.material.id // 物料的id\r\n\t\t\t},\r\n\t\t\tname: 'file',\r\n\t\t\tmultiple: true,\r\n\t\t\taction:Config.management.multiUpload,\r\n\t\t\tonChange: this.handleChange,\r\n\t\t\tfileList: mobx.toJS(this.store.material.attachments)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" className=\"mb10\" onClick={this.handAdd}>\r\n\t\t\t\t\t新增材料\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table\"\r\n\t\t\t\t\t\t\t dataSource={mobx.toJS(this.store.cardtableData)}\r\n\t\t\t\t\t\t\t pagination={false}\r\n\t\t\t\t\t//loading={loading}\r\n\t\t\t\t/>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tstyle={{margin: '20px', textAlign: 'right'}}\r\n\t\t\t\t\tcurrent={this.store.cardpageIndex}\r\n\t\t\t\t\tpageSize={this.store.cardpageSize}\r\n\t\t\t\t\ttotal={this.store.cardtotalCount}\r\n\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\tshowLessItems={true}\r\n\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tonOk={this.handleSubmit.bind(this)}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`所属任务`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('dayTaskName', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.dayTaskName,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择'}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tprojectId: this.store.projectId,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: fields.time == null?\"\":fields.time\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.doChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.dayTaskName == null || fields.dayTaskName == \"\" ? \"\" : fields.dayTaskName}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"getDayTaskByDate\"\r\n\t\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`材料类型`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('expectResourceId', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.expectResourceId == null || fields.expectResourceId == \"\" ? \"\" : fields.expectResourceId,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择'}],\r\n\t\t\t\t\t\t\t\t\t})(<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\texpectId: this.store.expectId,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"料\"\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.doChange2}\r\n\t\t\t\t\t\t\t\t\t\tvalue={fields.expectResourceId == null || fields.expectResourceId == \"\" ? \"\" : fields.expectResourceId}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"getExpectResourceList\"\r\n\t\t\t\t\t\t\t\t\t\tkeyId={\"id\"}\r\n\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"材料名称\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.name,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入材料名称'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"规格型号\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('spec', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.spec,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: false, message: '请输入规格型号'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"单位\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('units', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.units,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入单位'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"数量\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('totalNum', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.totalNum,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入数量'}],\r\n\t\t\t\t\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tformatter={this.limitDecimals}\r\n\t\t\t\t\t\t\t\t\t\tparser={this.limitDecimals}/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"进场日期\t\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('deliveryTime', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.deliveryTime==null?\"\":moment(fields.deliveryTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入进场日期'}],\r\n\t\t\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"供应商\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('manufacturer', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.manufacturer,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: false, message: '请输入供应商'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel={`附件`}>\r\n\t\t\t\t\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\t\t\t\t\tlength={9}\r\n\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.handleAttment.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t\t\t\t\t\tlistType=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tossData={this.props.ossData}\r\n\t\t\t\t\t\t\t\t\t\tfileList={mobx.toJS(this.store.material.attachments)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t{/*<Form.Item label=\"合格证号\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('certificateNumber', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.certificateNumber,\r\n\t\t\t\t\t\t\t\trules: [{required: false, message: '请输入合格证号'}],\r\n\t\t\t\t\t\t\t})(<Input/>)}\r\n\t\t\t\t\t\t</Form.Item>*/}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(MateriaModal);\r\nexport default form;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/construction/MateriaModal.js","/*\r\n* 施工环境\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tInputNumber,\r\n\tSelect,\r\n\tForm, Tag, Divider, Input,\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\n\r\nconst {RangePicker} = DatePicker;\r\nconst {Option} = Select;\r\nconst confirm = Modal.confirm;\r\nconst {TextArea} = Input;\r\n\r\n@observer\r\nclass Environment extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getEnvironmentList();\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tthis.setState({visible: true, title: 'add'},\r\n\t\t\t() => {\r\n\t\t\t\tthis.store.environmentFields = Object.assign(mobx.toJS(this.store.environmentFields), {\r\n\t\t\t\t\tdate: moment().format(\"YYYY-MM-DD\")\r\n\t\t\t\t})\r\n\t\t\t\tthis.store.getWeatherByDate();\r\n\t\t\t});\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: 'edit'\r\n\t\t}, () => {\r\n\t\t\tdelete param.key;\r\n\t\t\tthis.store.environmentFields = Object.assign(mobx.toJS(this.store.environmentFields), param)\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delEnvironment(param.id).then((res) => {\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功!\");\r\n\t\t\t\t\t\t_this.store.environmentPageIndex = 1;\r\n\t\t\t\t\t\t_this.store.environmentPageSize = 10;\r\n\t\t\t\t\t\t_this.store.getEnvironmentList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败!');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\tconsole.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.environmentFields = {\r\n\t\t\t\t\"id\": null,\r\n\t\t\t\t\"projectId\": \"\",\r\n\t\t\t\t\"date\": null,\r\n\t\t\t\t\"text\": \"\",\r\n\t\t\t\t// \"remark\":\"\"\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet _this = this;\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.store.environmentFields.projectId = this.store.projectId;\r\n\t\t\tthis.store.saveEnvironment().then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t\t_this.store.environmentPageIndex = 1;\r\n\t\t\t\t\t_this.store.environmentPageSize = 10;\r\n\t\t\t\t\t_this.store.getEnvironmentList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res && res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\tthis.store.environmentFields[type] = dateString;\r\n\t\tif (type === \"date\") this.store.getWeatherByDate();\r\n\t}\r\n\r\n\r\n\thandleChange = (type, e) => {\r\n\t\tthis.store.environmentFields[type] = e.target.value;\r\n\t}\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.environmentPageIndex = 1;\r\n\t\tthis.store.environmentPageSize = pageSize;\r\n\t\tthis.store.getEnvironmentList();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.environmentPageIndex = pageNumber;\r\n\t\tthis.store.getEnvironmentList();\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 5},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 18},\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '日期',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text == null ? \"\" : text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '内容',\r\n\t\t\t\tdataIndex: 'text',\r\n\t\t\t\tkey: 'text',\r\n\t\t\t\talign: 'left',\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \ttitle: '备注',\r\n\t\t\t// \tdataIndex: 'remark',\r\n\t\t\t// \tkey: 'remark',\r\n\t\t\t// },\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\tfixed: 'right',\r\n\t\t\t\talign: 'left',\r\n\t\t\t\twidth: 150,\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n               编辑\r\n            </Tag>\r\n            <Divider type=\"vertical\"/>\r\n            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n                 删除\r\n              </Tag>\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst fields = mobx.toJS(this.store.environmentFields);\r\n\t\tconst dateFormat = \"YYYY-MM-DD\";\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增环境</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       pagination={false}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t       dataSource={mobx.toJS(this.store.environmentTableData)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={this.store.environmentPageIndex}\r\n\t\t\t\t\t\tpageSize={this.store.environmentPageSize}\r\n\t\t\t\t\t\t//pageSizeOptions={[\"20\", \"50\", \"100\", \"500\"]}\r\n\t\t\t\t\t\ttotal={this.store.environmentTotalCount}\r\n\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title == \"add\" ? \"新增环境\" : \"编辑环境\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t\t<Form.Item label=\"施工日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('date', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.date == null ? \"\" : moment(fields.date, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入施工日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'date')}\r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"内容\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.text,\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入内容'}],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 4}}\r\n\t\t\t\t\t\t\t\t          placeholder=\"请输入内容\"\r\n\t\t\t\t\t\t\t\t          onChange={this.handleChange.bind(this, 'text')}\r\n\t\t\t\t\t\t\t\t          value={fields.text}\r\n\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\t\t\tlabel=\"备注\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('remark', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.method,\r\n\t\t\t\t\t\t\t\trules: [{required: false, message: '请输入备注'}],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 4}}\r\n\t\t\t\t\t\t\t\t          placeholder=\"请输入备注\"\r\n\t\t\t\t\t\t\t\t          onChange={this.handleChange.bind(this, 'remark')}\r\n\t\t\t\t\t\t\t\t          value={fields.remark}\r\n\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t</Form.Item> */}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Environment);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Environment.js","/*\r\n* 疫情防御\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tInput,\r\n\tInputNumber,\r\n\tRadio,\r\n\tForm,\r\n\tTag, Divider, Icon, Upload,\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\nimport {List} from \"immutable\";\r\nimport Config from \"@/config\";\r\nimport MyUpload from '@/components/common/MyUpload';\r\n\r\n\r\nconst {TextArea} = Input;\r\nconst confirm = Modal.confirm;\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = error => reject(error);\r\n\t});\r\n}\r\n\r\n@observer\r\nclass Epidemic extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tfileList: [],\r\n\t\t\tpreviewVisible: false,\r\n\t\t\tpreviewImage: '',\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getEpidemicList();\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tthis.setState({visible: true,\r\n\t\t\ttitle: 'add'}, () => {\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t// 日期\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\tthis.store.epidemicFields[type] = dateString;\r\n\t}\r\n\r\n\t// 文本改变\r\n\thandleChage = (type, e) => {\r\n\t\tif (type==\"normalTemperature\") {\r\n          if (e.target.value==\"true\") {\r\n\t          this.store.epidemicFields[\"normalTemperatureText\"] = \"\";\r\n\t          this.props.form.setFieldsValue({\r\n\t\t          normalTemperatureText: \"\",\r\n\t          })\r\n          }\r\n\t\t  this.store.epidemicFields[type] = e.target.value;\r\n\t\t} else if (type==\"protect\") {\r\n\t\t\tif (e.target.value==\"true\") {\r\n\t\t\t\tthis.store.epidemicFields[\"protectText\"] = \"\";\r\n\t\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\t\tprotectText: \"\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.store.epidemicFields[type] = e.target.value;\r\n\t\t} else if (type==\"disinfection\") {\r\n\t\t\tif (e.target.value==\"true\") {\r\n\t\t\t\tthis.store.epidemicFields[\"disinfectionText\"] = \"\";\r\n\t\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\t\tdisinfectionText: \"\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.store.epidemicFields[type] = e.target.value;\r\n\t\t} else {\r\n\t\t\tthis.store.epidemicFields[type] = e.target.value;\r\n\t\t}\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.epidemicFields = Object.assign({}, {\r\n\t\t\t\t\"id\": null,\r\n\t\t\t\t\"date\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\"normalTemperature\": \"true\",\r\n\t\t\t\t\"protect\": \"true\",\r\n\t\t\t\t\"disinfection\": \"true\",\r\n\t\t\t\t\"normalTemperatureText\":\"\",\r\n\t\t\t\t\"protectText\":\"\",\r\n\t\t\t\t\"disinfectionText\":\"\",\r\n\t\t\t\t\"attachments\":[]\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\t//console.log(fieldsValue, mobx.toJS(this.store.planFields), '8');\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 处理附件\r\n\t\t\tlet array = JSON.parse(JSON.stringify(this.store.epidemicFields.attachments))\r\n\t\t\tlet arr = [];\r\n\t\t\tarray.length&&array.map((item,index)=>{\r\n\t\t\t\tarr.push({\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName:item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tconst {normalTemperature,protect,disinfection} = mobx.toJS(this.store.epidemicFields);\r\n\r\n\t\t\tthis.store.saveEpidemic(\r\n\t\t\t\tObject.assign(mobx.toJS(this.store.epidemicFields), {\r\n\t\t\t\t\tattachments: arr,\r\n\t\t\t\t\tprojectId: this.store.projectId,\r\n\t\t\t\t\tnormalTemperature: normalTemperature==\"true\"?true:false,\r\n\t\t\t\t\tprotect: protect==\"true\"?true:false,\r\n\t\t\t\t\tdisinfection: disinfection==\"true\"?true:false,\r\n\t\t\t\t})\r\n\t\t\t).then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.getTabeData();\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.epidemicPageIndex = 1;\r\n\t\tthis.store.epidemicPageSize = pageSize;\r\n\t\tthis.store.getEpidemicList();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.epidemicPageIndex = pageNumber;\r\n\t\tthis.store.getEpidemicList();\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: 'edit'\r\n\t\t}, () => {\r\n\t\t\tdelete param.key;\r\n\r\n\t\t\t// 获取\r\n\t\t\tconst params = {\r\n\t\t\t\tprojectId: param.projectId,\r\n\t\t\t\tdate: param.date\r\n\t\t\t}\r\n\t\t\tthis.store.getEpidemicByDate(params).then((res)=>{\r\n\t\t\t\tthis.store.epidemicFields = Object.assign({}, res, {\r\n\t\t\t\t\t\"projectId\": res.projectId,\r\n\t\t\t\t\t\"id\": res.id,\r\n\t\t\t\t\t\"date\": res.date,\r\n\t\t\t\t\t\"normalTemperatureText\":res.normalTemperatureText,\r\n\t\t\t\t\t\"protectText\":res.protectText,\r\n\t\t\t\t\t\"disinfectionText\":res.disinfectionText,\r\n\t\t\t\t\t\"normalTemperature\": res.normalTemperature.toString(),\r\n\t\t\t\t\t\"protect\": res.protect.toString(),\r\n\t\t\t\t\t\"disinfection\": res.disinfection.toString(),\r\n\t\t\t\t\t\"attachments\": res.attachments !== null ? res.attachments.map((vitem, index) => {\r\n\t\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\t\tuid: vitem.fileId,\r\n\t\t\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\t\t\tfileId: vitem.fileId,\r\n\t\t\t\t\t\t\tfileName:vitem.fileName,\r\n\t\t\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\t\t\tid: vitem.fileId\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}) : []\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delEpidemic(param.id).then((res) => {\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.epidemicPageIndex = 1;\r\n\t\t\t\t\t\t_this.store.epidemicPageSize = 10;\r\n\t\t\t\t\t\t_this.store.getEpidemicList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\t//console.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\thanChange = info => {\r\n\t\t//console.log(info, '0')\r\n\t\tconst status = info.file.status;\r\n\t\tif (status === 'done') {\r\n\t\t\t// 上传成功\r\n\t\t\t//message.success(`${info.file.name}上传成功！`);\r\n\t\t} else if (status === 'error') {\r\n\t\t\tmessage.error(`${info.file.name}上传失败！`);\r\n\t\t} else if (status === 'removed') {\r\n\t\t\t//console.log('delete')\r\n\t\t}\r\n\t\tlet fileList = [...info.fileList];\r\n\t\tfileList = JSON.parse(JSON.stringify(fileList));\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.status === 'error') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tfileList = fileList.map(file => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\tfile.url = file.response.body[0].fileURL;\r\n\t\t\t\tfile.fileId = file.response.body[0].fileId;\r\n\t\t\t\tfile.id = file.response.body[0].id;\r\n\t\t\t\tfile.fileName = file.response.body[0].fileName;\r\n\t\t\t\tfile.filePath = file.response.body[0].fileURL;\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t});\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\treturn file.response.status === 'ok';\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tfileList: Object.assign([], [...fileList])\r\n\t\t}, ()=>{\r\n\t\t\t// 更新附件数据\r\n\t\t\tlet data = this.state.fileList.map((item,index)=>{\r\n\t\t\t\treturn {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.fileName,\r\n\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\turl: item.filePath,\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName:item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\tid: item.id\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.store.epidemicFields.attachments = Object.assign([], data);\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = () => this.setState({ previewVisible: false });\r\n\r\n\thandlePreview = async file => {\r\n\t\tif (!file.url && !file.preview) {\r\n\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpreviewImage: file.url || file.preview,\r\n\t\t\tpreviewVisible: true,\r\n\t\t});\r\n\t};\r\n\r\n\t// 形象进度上传\r\n\thandleAttment = (params) => {\r\n\t\t// 处理附件\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: item.filePath,\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.store.epidemicFields.attachments = Object.assign([], arr);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '工作人员体温是否正常',\r\n\t\t\t\tdataIndex: 'normalTemperature',\r\n\t\t\t\tkey: 'normalTemperature',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text) => (\r\n\t\t\t\t\t<span>\r\n                    {text==true?\"是\":\"否\"}\r\n                    </span>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t {\r\n\t\t\t\ttitle: '防护用品是否使用到位',\r\n\t\t\t\tdataIndex: 'protect',\r\n\t\t\t\tkey: 'protect',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text) => (\r\n\t\t\t\t\t <span>\r\n                    {text==true?\"是\":\"否\"}\r\n                    </span>\r\n\t\t\t\t ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '施工场所及生活区域是否消毒',\r\n\t\t\t\tdataIndex: 'disinfection',\r\n\t\t\t\tkey: 'disinfection',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text) => (\r\n\t\t\t\t\t<span>\r\n                    {text==true?\"是\":\"否\"}\r\n                    </span>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '日期',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text==null?\"\":text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n\t\t\t               编辑\r\n\t\t\t            </Tag>\r\n\t\t\t            <Divider type=\"vertical\"/>\r\n\t\t\t            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n\t\t\t                 删除\r\n\t\t\t              </Tag>\r\n\t\t\t         </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst fileds = mobx.toJS(this.store.epidemicFields);\r\n\t\tconst props = {\r\n\t\t\tdata: {\r\n\t\t\t\ttype: 1,\r\n\t\t\t\tsourceId: this.store.epidemicFields.id // 物料的id\r\n\t\t\t},\r\n\t\t\tname: 'file',\r\n\t\t\tmultiple: true,\r\n\t\t\taction:Config.management.multiUpload,\r\n\t\t\tonChange: this.hanChange,\r\n\t\t\tfileList: mobx.toJS(this.store.epidemicFields.attachments),\r\n\t\t\tonPreview: this.handlePreview,\r\n\t\t\tlistType:\"picture-card\"\r\n\t\t}\r\n\r\n\t\tconst { previewVisible, previewImage, fileList } = this.state;\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type=\"plus\" />\r\n\t\t\t\t<div className=\"ant-upload-text\">上传</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增疫情防控</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       pagination={false}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t       dataSource={mobx.toJS(this.store.epidemicTableData)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={this.store.epidemicPageIndex}\r\n\t\t\t\t\t\tpageSize={this.store.epidemicPageSize}\r\n\t\t\t\t\t\ttotal={this.store.epidemicTotalCount}\r\n\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title == \"add\" ? \"新增疫情防控\" : \"编辑疫情防控\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tstyle={{minWidth: '500px'}}\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n                                    labelCol={{\r\n                                        xs: {span: 24},\r\n                                        sm: {span: 8},\r\n                                    }}\r\n                                    wrapperCol={{\r\n                                        xs: {span: 24},\r\n                                        sm: {span: 16},\r\n                                    }}\r\n\t\t\t\t\t\t\t\t\tlabel={`日期`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`date`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.date == null ? \"\" : moment(fileds.date, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入日期',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.date == null ? \"\" : moment(fileds.date, 'YYYY-MM-DD')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'date')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 8},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`工作人员体温是否正常`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`normalTemperature`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.normalTemperature == null ? \"false\" : fileds.normalTemperature,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Radio.Group onChange={this.handleChage.bind(this, 'normalTemperature')}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"true\">是</Radio>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"false\">否</Radio>\r\n\t\t\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}} className={fileds.normalTemperature == \"true\" ? \"hidden\" : \"\"}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ span: 12, offset: 8 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`normalTemperatureText`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.normalTemperatureText,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: fileds.normalTemperature == \"true\" ? false : true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入原因',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t\t          placeholder=\"请输入原因\"\r\n\t\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"normalTemperatureText\")}\r\n\t\t\t\t\t\t\t\t\t\t          value={fileds.normalTemperatureText}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 8},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`防护用品是否使用到位`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`protect`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.protect == null ? \"false\" : fileds.protect,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Radio.Group onChange={this.handleChage.bind(this, 'protect')}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"true\">是</Radio>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"false\">否</Radio>\r\n\t\t\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}} className={fileds.protect == \"true\" ? \"hidden\" : \"\"}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ span: 12, offset: 8 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`protectText`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.protectText,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: fileds.protect == \"true\" ? false : true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入原因',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t\t          placeholder=\"请输入原因\"\r\n\t\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"protectText\")}\r\n\t\t\t\t\t\t\t\t\t\t          value={fileds.protectText}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 8},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`施工场所及生活区域是否消毒`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`disinfection`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.disinfection == null ? \"false\" : fileds.disinfection,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Radio.Group onChange={this.handleChage.bind(this, 'disinfection')}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"true\">是</Radio>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio value=\"false\">否</Radio>\r\n\t\t\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}} className={fileds.disinfection == \"true\" ? \"hidden\" : \"\"}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ span: 12, offset: 8 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`disinfectionText`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.disinfectionText,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: fileds.disinfection == \"true\" ? false : true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入原因',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t\t          placeholder=\"请输入原因\"\r\n\t\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"disinfectionText\")}\r\n\t\t\t\t\t\t\t\t\t\t          value={fileds.disinfectionText}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 8},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 16},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`附件`}>\r\n\t\t\t\t\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\t\t\t\t\tlength={9}\r\n\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.handleAttment.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\t\t\t\tossData={this.props.ossData}\r\n\t\t\t\t\t\t\t\t\t\tfileList={mobx.toJS(this.store.epidemicFields.attachments)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Epidemic);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Epidemic.js","/*\r\n* 项目设置\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tTypography,\r\n\tCard,\r\n\tSwitch,\r\n\tmessage,\r\n\tDatePicker,\r\n\tButton,\r\n\tForm,\r\n\tInput\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\nimport AsyncSelectMuti from '@/components/common/AsyncSelectMutiold'\r\nimport Config from \"@/config\";\r\nimport Schemas from \"@/utils/Schemas/authorization\";\r\n\r\nconst {Title} = Typography;\r\n\r\n@observer\r\nclass ItemSetting extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.store.getNotifyProject();\r\n\t}\r\n\r\n\t// 多选\r\n\tonSelChange = (type, value) => {\r\n\t\t//console.log(type, value, '123')\r\n\t\tthis.store.notifyfield[type] = Object.assign([], value);\r\n\t\tthis.props.form.setFieldsValue({\r\n\t\t\tuserIds: value\r\n\t\t});\r\n\t}\r\n\r\n\thandleChage = (type, e) => {\r\n\t\tthis.store.notifyfield[type] = e.target.value;\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\t//console.log(fieldsValue, '11')\r\n\t\t\tif (err) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.store.notifyfield = Object.assign(mobx.toJS(this.store.notifyfield), {\r\n\t\t\t\tbeginTime: fieldsValue[\"beginTime\"].format('YYYY-MM-DD'),\r\n\t\t\t\tendTime: fieldsValue[\"endTime\"].format('YYYY-MM-DD'),\r\n\t\t\t\tplanBeginTime: fieldsValue[\"planBeginTime\"].format('YYYY-MM-DD'),\r\n\t\t\t\tplanEndTime: fieldsValue[\"planEndTime\"].format('YYYY-MM-DD'),\r\n\t\t\t\tnotifys: [{wecat:fieldsValue[\"wecat\"]},{email: fieldsValue[\"email\"]}],\r\n\t\t\t\tuserIds: fieldsValue[\"userIds\"],\r\n\t\t\t\tprojectId: this.store.projectId\r\n\t\t\t});\r\n\t\t\tlet params = JSON.parse(JSON.stringify(this.store.notifyfield));\r\n\t\t\tdelete params.wecat;\r\n\t\t\tdelete params.email;\r\n\t\t\tthis.store.saveNotifyProject(params).then((res) => {\r\n\t\t\t\tif (res == true) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(\"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 4},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 18},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst dateFormat = \"YYYY-MM-DD\";\r\n\t\tconst fields = mobx.toJS(this.store.notifyfield);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"w90\">\r\n\t\t\t\t<Title className=\"tfc\" style={{fontWeight: '500'}} level={4}>{this.store.parojectName}项目</Title>\r\n\t\t\t\t<Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Card title=\"项目信息\" bordered={false} style={{width: '100%', marginTop: '0px'}}>\r\n\t\t\t\t\t\t<Form.Item label=\"开始日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('beginTime', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.beginTime == null ? \"\" : moment(fields.beginTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入开始日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\tstyle={{width: '300px'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"mt15\" label=\"结束日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('endTime', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.endTime == null ? \"\" : moment(fields.endTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入结束日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\tstyle={{width: '300px'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"mt15\" label=\"计划开始日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('planBeginTime', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.planBeginTime == null ? \"\" : moment(fields.planBeginTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入计划开始日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\tstyle={{width: '300px'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"mt15\" label=\"计划结束日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('planEndTime', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.planEndTime == null ? \"\" : moment(fields.planEndTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入计划结束日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={dateFormat}\r\n\t\t\t\t\t\t\t\tstyle={{width: '300px'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"mt15\" label={`负责人`}>\r\n\t\t\t\t\t\t\t{getFieldDecorator('manager', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.manager,\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入负责人'}],\r\n\t\t\t\t\t\t\t})(<Input style={{width: '300px'}}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChage.bind(this, \"manager\")}\r\n\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<Card title=\"通知设置\" bordered={false} style={{width: '100%'}} className=\"mt15\">\r\n\t\t\t\t\t\t<Form.Item label=\"邮件\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('email', { valuePropName: 'checked', initialValue: fields.email})(<Switch />)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"微信公共号\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('wecat', { valuePropName: 'checked',  initialValue: fields.wecat })(<Switch />)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"通知人员\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('userIds', {\r\n\t\t\t\t\t\t\t\tinitialValue: mobx.toJS(fields.userIds),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择通知人员'}],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t<AsyncSelectMuti\r\n\t\t\t\t\t\t\t\t\t\turl={Config.authorization.getUserInfoListByRoleCode}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onSelChange.bind(this, 'userIds')}\r\n\t\t\t\t\t\t\t\t\t\tvalue={mobx.toJS(fields.userIds)}\r\n\t\t\t\t\t\t\t\t\t\tquery={Schemas.authorization.getUserInfoListByRoleCode}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\txs: {span: 24, offset: 0},\r\n\t\t\t\t\t\t\tsm: {span: 24, offset: 0},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"tfc mt25\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nconst form = Form.create({})(ItemSetting);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/ItemSetting.js","/*\r\n* 机械设备\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tInputNumber,\r\n\tSelect,\r\n\tForm, Tag, Divider, TimePicker, AutoComplete\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\nimport Config from \"@/config\";\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\nimport AutoSelect from \"@/components/common/AutoSelect\";\r\nconst {Option} = Select;\r\nconst confirm = Modal.confirm;\r\n\r\n@observer\r\nclass Mechanical extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tworkerType: [\r\n\t\t\t\t{text: '铲车', value: '台'},\r\n\t\t\t\t{text: '吊钩', value: '件'},\r\n\t\t\t\t{text: '三级箱', value: '台'},\r\n\t\t\t\t{text: '螺栓枪', value: '把'},\r\n\t\t\t\t{text: '电钻', value: '个'},\r\n\t\t\t\t{text: '角磨机', value: '个'},\r\n\t\t\t\t{text: '铆钉枪', value: '把'},\r\n\t\t\t\t{text: '吸盘', value: '件'},\r\n\t\t\t],\r\n\t\t\tclassification: [{text: '大型机械'}, {text: '小型设备'}], // 分类\r\n\t\t\tmachinesNameoptions: [   // 大型机械\r\n\t\t\t\t{text: '汽车吊', value: '台'},\r\n\t\t\t\t{text: '运输车', value: '台'},\r\n\t\t\t\t{text: '叉车', value: '台'},\r\n\t\t\t],\r\n\t\t\tmachinesNameSmallOptions: [   // 小型设备\r\n\t\t\t\t{text: '配电箱', value: '个'},\r\n\t\t\t\t{text: '测平仪', value: '个'},\r\n\t\t\t\t{text: '切割机', value: '个'},\r\n\t\t\t\t{text: '角磨机', value: '个'},\r\n\t\t\t\t{text: '电焊机', value: '个'},\r\n\t\t\t\t{text: '电锯', value: '个'},\r\n\t\t\t\t{text: '胶枪', value: '个'},\r\n\t\t\t\t{text: '铆钉枪', value: '个'},\r\n\t\t\t\t{text: '螺栓枪', value: '个'},\r\n\t\t\t\t{text: '电钻', value: '个'},\r\n\t\t\t\t{text: '电动螺丝刀', value: '个'},\r\n\t\t\t\t{text: '气钉枪', value: '个'},\r\n\t\t\t\t{text: '气泵', value: '个'},\r\n\t\t\t\t{text: '修边机', value: '个'},\r\n\t\t\t],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getAllMachineByProjectIdAndType();\r\n\t}\r\n\r\n\tonOk = (value) => {\r\n\r\n\t}\r\n\r\n\thandleInputNumberChage = (type, number) => {\r\n\t\tthis.store.machineFields[type] = number;\r\n\t}\r\n\r\n\thandleAdd = () => {\r\n\t\tthis.setState({visible: true, title: 'add'}, () => {\r\n\t\t\tthis.store.machineFields = Object.assign(mobx.toJS(this.store.machineFields),\r\n\t\t\t\t{\r\n\t\t\t\t\ttime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\tstartTime: \"08:00:00\",\r\n\t\t\t\t\tendTime: \"18:00:00\"\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.machineFields = Object.assign({}, {\r\n\t\t\t\t\"id\": \"\", \"projectId\": \"\", \"date\": null,\"dateEnd\":null, \"count\": 0, \"units\": \"\", \"type\": \"\",\r\n\t\t\t\t\"averageHours\": null, \"remark\": \"\",\r\n\t\t\t\t\"time\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\"startTime\": \"08:00:00\",\r\n\t\t\t\t\"endTime\": \"18:00:00\",\r\n\t\t\t\t\"taskId\":'',\r\n\t\t\t\t\"expectResourceId\": \"其他\",\r\n\t\t\t\t\"resourceType\": \"机\",\r\n\t\t\t\t\"dayTaskName\": \"\",\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.store.machineFields.projectId = this.store.projectId;\r\n\t\t\tlet personFields = mobx.toJS(this.store.machineFields);\r\n\t\t\tconst date = personFields.time+\" \"+personFields.startTime+\":00\";\r\n\t\t\tconst dateEnd = personFields.time+\" \"+personFields.endTime+\":00\";\r\n\r\n\t\t\tdelete personFields.time;\r\n\t\t\tdelete personFields.startTime;\r\n\t\t\tdelete personFields.endTime;\r\n\r\n\t\t\tthis.store.machineFields = Object.assign(personFields,\r\n\t\t\t\t{\r\n\t\t\t\t\tdate,\r\n\t\t\t\t\tdateEnd\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tthis.store.saveMachine().then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t\tthis.getTabeData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res&&res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tonSelChange = async (type, value, e) => {\r\n\t\t//console.log(value, 'test', e.props.val)\r\n\t\tthis.store.machineFields[\"name\"] = value;\r\n\t\tthis.store.machineFields[\"units\"] = e.props.val.value;\r\n\t\tthis.props.form.setFieldsValue({\r\n\t\t\tname: value\r\n\t\t});\r\n\t}\r\n\r\n\tonSelChangeType = async (type, value, e) => {\r\n\t\t//console.log(value, this.store.machineFields[\"type\"], e.props.val)\r\n\t\t// 改变分类时判断是否要清空名称\r\n\t\tif(value!==this.store.machineFields[\"type\"]) {\r\n\t\t\t//清空name\r\n\t\t\tthis.store.machineFields[\"name\"] = \"\";\r\n\t\t\tthis.props.form.setFieldsValue({\r\n\t\t\t\tname: \"\"\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.store.machineFields[\"type\"] = value;\r\n\t\tthis.props.form.setFieldsValue({\r\n\t\t\ttype: value\r\n\t\t});\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\t//console.log(value);\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.machinePageIndex = 1;\r\n\t\tthis.store.machinePageSize = pageSize;\r\n\t\tthis.store.getAllMachineByProjectIdAndType();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.machinePageIndex = pageNumber;\r\n\t\tthis.store.getAllMachineByProjectIdAndType();\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle:'edit'\r\n\t\t}, () => {\r\n\t\t\tdelete param.key;\r\n\r\n\t\t\t// 处理日期和时间\r\n\t\t\tlet date = param.date;\r\n\t\t\tlet dateEnd = param.dateEnd;\r\n\t\t\tconst time = param.date==null?moment().format(\"YYYY-MM-DD\"):date.split(\" \").length&&date.split(\" \")[0];\r\n\t\t\tconst startTime = param.date==null?null:date.split(\" \").length&&date.split(\" \")[1];\r\n\t\t\tconst endTime = param.dateEnd==null?null:dateEnd.split(\" \").length&&dateEnd.split(\" \")[1];\r\n\r\n\t\t\tthis.store.machineFields = Object.assign(mobx.toJS(this.store.machineFields),param,\r\n\t\t\t\t{time, startTime, endTime}\r\n\t\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delMachine(param.id).then((res)=>{\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.machinePageIndex = 1;\r\n\t\t\t\t\t\t_this.store.machinePageSize = 10;\r\n\t\t\t\t\t\t_this.store.getAllMachineByProjectIdAndType();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\tconsole.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 日期\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\t//console.log(type, value, dateString, '日期')\r\n\t\tthis.store.machineFields[type] = dateString;\r\n\t}\r\n\r\n\t// 时间\r\n\thandDate = (type, time, timeString) => {\r\n\t\t//console.log(type, time, timeString, '时间段')\r\n\t\tthis.store.machineFields[type] = timeString;\r\n\t}\r\n\r\n\tonChangeSelect = (value) => {\r\n\t\tthis.props.form.setFieldsValue({\r\n\t\t\tname: value\r\n\t\t});\r\n\t\tthis.store.machineFields[\"name\"] = value;\r\n\t}\r\n\r\n\tonSearch = (val) => {\r\n\t\tconsole.log('search:', val);\r\n\t}\r\n\r\n\tonSelect = (val) => {\r\n\t\tconsole.log('select:', val);\r\n\t}\r\n\r\n\tdoChange = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.machineFields.taskId = \"\";\r\n\t\t\tthis.store.machineFields.dayTaskName = \"\";\r\n\t\t\tthis.store.expectId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.machineFields.taskId = val.id\r\n\t\t\tthis.store.machineFields.dayTaskName = val.name;\r\n\t\t\tthis.store.expectId = val.expectId;\r\n\t\t}\r\n\t}\r\n\r\n\tdoChange2 = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.machineFields.resourceType = \"机\";\r\n\t\t\tthis.store.machineFields.expectResourceId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.machineFields.resourceType =  val.type;\r\n\t\t\tthis.store.machineFields.expectResourceId = val.id;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {workerType,classification, machinesNameoptions, machinesNameSmallOptions} = this.state;\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 5},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 18},\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '名称',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '分类',\r\n\t\t\t\tdataIndex: 'type',\r\n\t\t\t\tkey: 'type',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '数量',\r\n\t\t\t\tdataIndex: 'count',\r\n\t\t\t\tkey: 'count',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t/*{\r\n\t\t\t\ttitle: '单位',\r\n\t\t\t\tdataIndex: 'units',\r\n\t\t\t\tkey: 'units',\r\n\t\t\t},*/\r\n\t\t\t{\r\n\t\t\t\ttitle: '开始时间',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text==null?\"\":text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '结束时间',\r\n\t\t\t\tdataIndex: 'dateEnd',\r\n\t\t\t\tkey: 'dateEnd',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text==null?\"\":text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n               编辑\r\n            </Tag>\r\n            <Divider type=\"vertical\"/>\r\n            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n                 删除\r\n              </Tag>\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst fields = mobx.toJS(this.store.machineFields);\r\n\t\tconst machOptions = fields.type!==\"\"&&fields.type==\"大型机械\"?machinesNameoptions:machinesNameSmallOptions;\r\n\t\tconst options = machOptions.map( (group, index) => (\r\n\t\t\t<Option key={index} value={group.text}>\r\n\t\t\t\t{group.text}\r\n\t\t\t</Option>\r\n\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增设备</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       pagination={false}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t       dataSource={mobx.toJS(this.store.machineTableData)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={this.store.machinePageIndex}\r\n\t\t\t\t\t\tpageSize={this.store.machinePageSize}\r\n\t\t\t\t\t\t//pageSizeOptions={[\"20\", \"50\", \"100\", \"500\"]}\r\n\t\t\t\t\t\ttotal={this.store.machineTotalCount}\r\n\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title == \"add\" ? \"新增设备\" : \"编辑设备\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t           xs: {span: 24,},\r\n\t\t\t\t\t\t\t           sm: {span: 24,},\r\n\t\t\t\t\t\t           }}\r\n\t\t\t\t\t\t           style={{marginBottom: 0}}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 10},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 14},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: '50%'}}\r\n\t\t\t\t\t\t\t\t\tlabel=\"所属任务\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('dayTaskName', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.dayTaskName,\r\n\t\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入名称'\r\n\t\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tprojectId: this.store.projectId,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: fields.time == null?\"\":fields.time\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.doChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.dayTaskName == null || fields.dayTaskName == \"\" ? \"\" : fields.dayTaskName}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"getDayTaskByDate\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 10},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 12}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: '50%'}}\r\n\t\t\t\t\t\t\t\t\tlabel=\"设备类型\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('expectResourceId', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.expectResourceId == null || fields.expectResourceId == \"\" ? \"\" : fields.expectResourceId,\r\n\t\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入名称'\r\n\t\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\t\texpectId: this.store.expectId,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"机\"\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.doChange2}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.expectResourceId == null || fields.expectResourceId == \"\" ? \"\" : fields.expectResourceId}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"getExpectResourceList\"\r\n\t\t\t\t\t\t\t\t\t\t\tkeyId={\"id\"}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"分类\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('type', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.type,\r\n\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '请选择分类'\r\n\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={fields.type}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onSelChangeType.bind(this, 'type')}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择...\">\r\n\t\t\t\t\t\t\t\t\t\t{classification.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (<Option key={'classification' + index} value={item.text} val={item}>{item.text}</Option>)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"名称\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.name,\r\n\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '请输入名称'\r\n\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<AutoComplete\r\n\t\t\t\t\t\t\t\t\t\tdisabled={fields.type==\"\"||fields.type==null?true:false}\r\n\t\t\t\t\t\t\t\t\t\tdataSource={options}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t\t\t\t\t\tonSearch={this.onSearch}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\tfilterOption={(input, option) =>\r\n\t\t\t\t\t\t\t\t\t\t\toption.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t{/*<Select\r\n\t\t\t\t\t\t\tonChange={this.onSelChange.bind(this, 'name')}\r\n\t\t\t\t\t\t\tplaceholder=\"请选择...\">\r\n\t\t\t\t\t\t\t{workerType.map((item, index) => {\r\n\t\t\t\t\t\t\t\treturn (<Option key={'type' + index} value={item.text} val={item}>{item.text}</Option>)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Select>*/}\r\n\t\t\t\t\t\t{/*<Form.Item label=\"单位\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('units', {})(<span>{fields.units}</span>)}\r\n\t\t\t\t\t\t</Form.Item>*/}\r\n\t\t\t\t\t\t<Form.Item label={`数量`}>\r\n\t\t\t\t\t\t\t{getFieldDecorator('count', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.count,\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入数量'}],\r\n\t\t\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\tonChange={this.handleInputNumberChage.bind(this, \"count\")}\r\n\t\t\t\t\t\t\t\tformatter={this.limitDecimals}\r\n\t\t\t\t\t\t\t\tparser={this.limitDecimals}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"日期\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('time', {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.time == null ? \"\" : moment(fields.time, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入日期'}],\r\n\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\tdateFormat={'YYYY-MM-DD'}\r\n\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'time')}\r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}}/>)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"时间\"\r\n\t\t\t\t\t\t           labelCol={{\r\n\t\t\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t\t\t           sm: {span: 5},\r\n\t\t\t\t\t\t           }}\r\n\t\t\t\t\t\t           wrapperCol={{\r\n\t\t\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t\t\t           sm: {span: 18},\r\n\t\t\t\t\t\t           }}\r\n\t\t\t\t\t\t           style={{marginBottom: 0}}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: 'calc(50% - 12px)'}}\r\n\t\t\t\t\t\t\t\t>{getFieldDecorator('startTime', {\r\n\t\t\t\t\t\t\t\t\tinitialValue: fields.startTime == null ? \"\" : moment(fields.startTime, 'HH:mm'),\r\n\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入开始时间'}],\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tformat={'HH:mm'}\r\n\t\t\t\t\t\t\t\t\t\tvalue={fields.startTime == null ? \"\" : moment(fields.startTime, 'HH:mm')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handDate.bind(this, 'startTime')}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<span style={{display: 'inline-block', width: '24px', textAlign: 'center'}}>-</span>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: 'calc(50% - 12px)'}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('endTime', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fields.endTime == null ? \"\" : moment(fields.endTime, 'HH:mm'),\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入结束时间'}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tformat={'HH:mm'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.endTime == null ? \"\" : moment(fields.endTime, 'HH:mm')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handDate.bind(this, 'endTime')}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\r\n\r\n\t\t\t\t\t\t{/*<Form.Item label={`时间`}>\r\n\t\t\t\t\t\t\t{getFieldDecorator(`time`, {\r\n\t\t\t\t\t\t\t\tinitialValue: fields.date==null?[]:[moment(fields.date, 'YYYY-MM-DD HH:mm:ss'), moment(fields.dateEnd, 'YYYY-MM-DD HH:mm:ss')],\r\n\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tmessage: '请输入时间',\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\t\t\t\t\tvalue={ fields.date==null?[]:[moment(fields.date, 'YYYY-MM-DD HH:mm:ss'), moment(fields.dateEnd, 'YYYY-MM-DD HH:mm:ss')]}\r\n\t\t\t\t\t\t\t\t\t\tshowTime={{\r\n\t\t\t\t\t\t\t\t\t\t\tformat: \"HH:mm:ss\"\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={['开始时间','结束时间']}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD HH:mm:ss\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.ondateChange}\r\n\t\t\t\t\t\t\t\t\t\tonOk={this.onOk}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>*/}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Mechanical);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Mechanical.js","/*\r\n* 人员管理\r\n* qiufh@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tInputNumber,\r\n\tSelect,\r\n\tForm,\r\n\tTag, Divider, AutoComplete\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\nimport Config from '@/config';\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\nimport AutoSelect from \"@/components/common/AutoSelect\";\r\n\r\nconst {Option} = Select;\r\nconst confirm = Modal.confirm;\r\n\r\n\r\n@observer\r\nclass Person extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tfilteredInfo: null,\r\n\t\t\tsortedInfo: null,\r\n\t\t\tworkerType: [\r\n\t\t\t\t{text: '安装工', value: '安装工'},\r\n\t\t\t\t{text: '吊装工', value: '吊装工'},\r\n\t\t\t\t{text: '信号工', value: '信号工'},\r\n\t\t\t\t{text: '装修工', value: '装修工'},\r\n\t\t\t\t{text: '电工', value: '电工'},\r\n\t\t\t\t{text: '电焊工', value: '电焊工'},\r\n\t\t\t\t{text: '木工', value: '木工'},\r\n\t\t\t\t{text: '普工', value: '普工'},\r\n\t\t\t],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t//clearTimeout(myClear)\r\n\t};\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getAllPersonByProjectIdAndType();\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tthis.setState({visible: true, title: 'add'}, () => {\r\n\t\t\tthis.store.personFields = Object.assign(mobx.toJS(this.store.personFields),\r\n\t\t\t\t{\r\n\t\t\t\t\taverageHours: 8,\r\n\t\t\t\t\ttime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\tstartTime: \"08:00:00\",\r\n\t\t\t\t\tendTime: \"18:00:00\"\r\n\t\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\thandleChage = (type, e) => {\r\n\t\tthis.store.personFields[type] = e.target.value;\r\n\t}\r\n\r\n\thandleChangeTable = (pagination, filters, sorter) => {\r\n\t\t//console.log('Various parameters', pagination, filters, sorter);\r\n\t\tthis.setState({\r\n\t\t\tfilteredInfo: filters,\r\n\t\t\tsortedInfo: sorter,\r\n\t\t});\r\n\t};\r\n\r\n\tclearFilters = () => {\r\n\t\tthis.setState({filteredInfo: null});\r\n\t};\r\n\r\n\thandleInputNumberChage = (type, number) => {\r\n\t\tthis.store.personFields[type] = number;\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.personFields = Object.assign({}, {\r\n\t\t\t\tid: null,\r\n\t\t\t\tprojectId: '1',\r\n\t\t\t\tdate: null,\r\n\t\t\t\tdateEnd: null,\r\n\t\t\t\tcount: 0,\r\n\t\t\t\ttype: \"普工\",\r\n\t\t\t\taverageHours: 8,\r\n\t\t\t\t// remark: '',\r\n\t\t\t\ttime: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\tstartTime: \"08:00:00\",\r\n\t\t\t\tendTime: \"18:00:00\",\r\n\t\t\t\t\"taskId\": '',\r\n\t\t\t\t\"expectResourceId\": \"\",\r\n\t\t\t\t\"resourceType\": \"\",\r\n\t\t\t\t\"dayTaskName\": \"\",\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\t//console.log(fieldsValue);\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet personFields = mobx.toJS(this.store.personFields);\r\n\t\t\tconst date = personFields.time + \" \" + personFields.startTime + \":00\";\r\n\t\t\tconst dateEnd = personFields.time + \" \" + personFields.endTime + \":00\";\r\n\r\n\t\t\tdelete personFields.time;\r\n\t\t\tdelete personFields.startTime;\r\n\t\t\tdelete personFields.endTime;\r\n\r\n\t\t\tthis.store.personFields = Object.assign(personFields,\r\n\t\t\t\t{\r\n\t\t\t\t\tdate,\r\n\t\t\t\t\tdateEnd\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tthis.store.savePerson().then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t\tthis.getTabeData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.personPageIndex = 1;\r\n\t\tthis.store.personPageSize = pageSize;\r\n\t\tthis.store.getAllPersonByProjectIdAndType();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.personPageIndex = pageNumber;\r\n\t\tthis.store.getAllPersonByProjectIdAndType();\r\n\t}\r\n\r\n\tonChangeSelect = (value) => {\r\n\t\t//console.log(value, 'change事件')\r\n\t\tthis.store.personFields['type'] = value;\r\n\t}\r\n\r\n\tonBlur = (val) => {\r\n\t\tconsole.log('blur:', val);\r\n\t}\r\n\r\n\tonFocus = () => {\r\n\t\tconsole.log('focus')\r\n\t}\r\n\r\n\tonSearch = (val) => {\r\n\t\tconsole.log('search:', val);\r\n\t}\r\n\r\n\tonSelect = (val) => {\r\n\t\tconsole.log('select:', val);\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: 'edit'\r\n\t\t}, () => {\r\n\r\n\t\t\tdelete param.key;\r\n\t\t\tdelete param.selested;\r\n\r\n\t\t\t// 处理日期和时间\r\n\t\t\tlet date = param.date;\r\n\t\t\tlet dateEnd = param.dateEnd;\r\n\t\t\tconst time = param.date == null ? moment().format(\"YYYY-MM-DD\") : date.split(\" \").length && date.split(\" \")[0];\r\n\t\t\tconst startTime = param.date == null ? null : date.split(\" \").length && date.split(\" \")[1];\r\n\t\t\tconst endTime = param.dateEnd == null ? null : dateEnd.split(\" \").length && dateEnd.split(\" \")[1];\r\n\r\n\t\t\tthis.store.personFields = Object.assign(mobx.toJS(this.store.personFields), param, {\r\n\t\t\t\ttime,\r\n\t\t\t\tstartTime,\r\n\t\t\t\tendTime\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delPerson(param.id).then((res) => {\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.personPageIndex = 1;\r\n\t\t\t\t\t\t_this.store.personPageSize = 10;\r\n\t\t\t\t\t\t_this.store.getAllPersonByProjectIdAndType();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\t//console.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 日期\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\t//console.log(type, value, dateString, '日期')\r\n\t\tthis.store.personFields[type] = dateString;\r\n\t}\r\n\r\n\t// 时间\r\n\thandDate = (type, time, timeString) => {\r\n\t\t//console.log(type, time, timeString, '时间段')\r\n\t\tthis.store.personFields[type] = timeString;\r\n\t}\r\n\r\n\thandleSelChange = () => {\r\n\r\n\t}\r\n\r\n\tdoChange = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.personFields.taskId = \"\";\r\n\t\t\tthis.store.personFields.dayTaskName = \"\";\r\n\t\t\tthis.store.expectId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.personFields.taskId = val.id\r\n\t\t\tthis.store.personFields.dayTaskName = val.name;\r\n\t\t\tthis.store.expectId = val.expectId;\r\n\t\t}\r\n\t}\r\n\r\n\tdoChange2 = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tthis.store.personFields.resourceType = \"人\";\r\n\t\t\tthis.store.personFields.expectResourceId = \"\";\r\n\t\t} else {  // 选择\r\n\t\t\tthis.store.personFields.resourceType = val.type;\r\n\t\t\tthis.store.personFields.expectResourceId = val.id;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet {sortedInfo, filteredInfo, workerType} = this.state;\r\n\t\tsortedInfo = sortedInfo || {};\r\n\t\tfilteredInfo = filteredInfo || {};\r\n\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 8},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 16},\r\n\t\t\t},\r\n\t\t}\r\n\r\n\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '进场时间',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text == null ? \"\" : text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '离场时间',\r\n\t\t\t\tdataIndex: 'dateEnd',\r\n\t\t\t\tkey: 'dateEnd',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text == null ? \"\" : text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '进场数量',\r\n\t\t\t\tdataIndex: 'count',\r\n\t\t\t\tkey: 'count',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '工种',\r\n\t\t\t\tdataIndex: 'type',\r\n\t\t\t\tkey: 'type',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\tfilters: workerType,\r\n\t\t\t\tfilteredValue: filteredInfo.type || null,\r\n\t\t\t\tonFilter: (value, record) => record.type.includes(value),\r\n\t\t\t}, {\r\n\t\t\t\ttitle: '实际工时',\r\n\t\t\t\tdataIndex: 'averageHours',\r\n\t\t\t\tkey: 'averageHours',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \ttitle: '备注',\r\n\t\t\t// \tdataIndex: 'remark',\r\n\t\t\t// \tkey: 'remark',\r\n\t\t\t// },\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n               编辑\r\n            </Tag>\r\n            <Divider type=\"vertical\"/>\r\n            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n                 删除\r\n              </Tag>\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst fileds = mobx.toJS(this.store.personFields);\r\n\t\tconst options = workerType.map((group, index) => (\r\n\t\t\t<Option key={index} value={group.text}>\r\n\t\t\t\t{group.value}\r\n\t\t\t</Option>\r\n\t\t))\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增人员</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       pagination={false}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t       dataSource={mobx.toJS(this.store.personTableData)}\r\n\t\t\t\t       onChange={this.handleChangeTable}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={this.store.personPageIndex}\r\n\t\t\t\t\t\tpageSize={this.store.personPageSize}\r\n\t\t\t\t\t\t//pageSizeOptions={[\"20\", \"50\", \"100\", \"500\"]}\r\n\t\t\t\t\t\ttotal={this.store.personTotalCount}\r\n\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title == \"add\" ? \"新增人员\" : \"编辑人员\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`所属任务`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('dayTaskName', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.dayTaskName,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择'}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getDayTaskByDate}\r\n\t\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tprojectId: this.store.projectId,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: fileds.time == null ? \"\" : fileds.time\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.doChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.dayTaskName == null || fileds.dayTaskName == \"\" ? \"\" : fileds.dayTaskName}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"getDayTaskByDate\"\r\n\t\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`人员类型`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('expectResourceId', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.expectResourceId,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择'}],\r\n\t\t\t\t\t\t\t\t\t})(<AutoSelect\r\n\t\t\t\t\t\t\t\t\t\turl={Config.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getExpectResourceList}\r\n\t\t\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\t\t\texpectId: this.store.expectId,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"人\"\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.doChange2}\r\n\t\t\t\t\t\t\t\t\t\tvalue={fileds.expectResourceId == null || fileds.expectResourceId == \"\" ? \"\" : fileds.expectResourceId}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"getExpectResourceList\"\r\n\t\t\t\t\t\t\t\t\t\tkeyId={\"id\"}\r\n\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"日期\">\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('time', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.time == null ? \"\" : moment(fileds.time, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入日期'}],\r\n\t\t\t\t\t\t\t\t\t})(<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tdateFormat={'YYYY-MM-DD'}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'time')}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{/*<Form.Item label={`日期`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`time`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.date==null?[]:[moment(fileds.date, 'YYYY-MM-DD HH:mm:ss'), moment(fileds.dateEnd, 'YYYY-MM-DD HH:mm:ss')],\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入在岗时间',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ fileds.date==null?[]:[moment(fileds.date, 'YYYY-MM-DD HH:mm:ss'), moment(fileds.dateEnd, 'YYYY-MM-DD HH:mm:ss')]}\r\n\t\t\t\t\t\t\t\t\t\t\tshowTime={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tformat: \"HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t//defaultValue: [moment('08:00:00', 'HH:mm:ss'), moment('18:59:59', 'HH:mm:ss')],\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD HH:mm:ss\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.ondateChange}\r\n\t\t\t\t\t\t\t\t\t\t\tonOk={this.onOk}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>*/}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t{/* <Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"时间\"\r\n\t\t\t\t\t\t\t\t           labelCol={{\r\n\t\t\t\t\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t           sm: {span: 8},\r\n\t\t\t\t\t\t\t\t           }}\r\n\t\t\t\t\t\t\t\t           wrapperCol={{\r\n\t\t\t\t\t\t\t\t\t           xs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t           sm: {span: 16},\r\n\t\t\t\t\t\t\t\t           }}\r\n\t\t\t\t\t\t\t\t           style={{marginBottom: 0}}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: 'calc(50% - 12px)'}}\r\n\t\t\t\t\t\t\t\t\t\t>{getFieldDecorator('startTime', {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.startTime == null ? \"\" : moment(fileds.startTime, 'HH:mm'),\r\n\t\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入开始时间'}],\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tformat={'HH:mm'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.startTime == null ? \"\" : moment(fileds.startTime, 'HH:mm')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handDate.bind(this, 'startTime')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<span style={{display: 'inline-block', width: '24px', textAlign: 'center'}}>-</span>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{display: 'inline-block', width: 'calc(50% - 12px)'}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{getFieldDecorator('endTime', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.endTime == null ? \"\" : moment(fileds.endTime, 'HH:mm'),\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入结束时间'}],\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tformat={'HH:mm'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.endTime == null ? \"\" : moment(fileds.endTime, 'HH:mm')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handDate.bind(this, 'endTime')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col> */}\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`进场数量`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('count', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.count,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入进场数量'}],\r\n\t\t\t\t\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputNumberChage.bind(this, \"count\")}\r\n\t\t\t\t\t\t\t\t\t\tformatter={this.limitDecimals}\r\n\t\t\t\t\t\t\t\t\t\tparser={this.limitDecimals}/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`工种`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('type', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.type,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请选择工种'}],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AutoComplete\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={options}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tonSearch={this.onSearch}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterOption={(input, option) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\toption.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{/*<Select\r\n\t\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn this.state.newState ? this.onChangeSelect : null\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.newState}\r\n\t\t\t\t\t\t\t\t\t\t\tonSearch={this.onSearch}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterOption={(input, option) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\toption.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{workerType.map(item => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (<Option value={item.value}>{item.text}</Option>)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Select>*/}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`实际工时`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('averageHours', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.averageHours,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入实际工时'}],\r\n\t\t\t\t\t\t\t\t\t})(<InputNumber\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputNumberChage.bind(this, \"averageHours\")}\r\n\t\t\t\t\t\t\t\t\t\tformatter={this.limitDecimals}\r\n\t\t\t\t\t\t\t\t\t\tparser={this.limitDecimals}/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t{/* <Row className={'clearfix'} style={{marginTop: 8}}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 4},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 20},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`备注`}>\r\n\t\t\t\t\t\t\t\t\t<TextArea rows={4}\r\n\t\t\t\t\t\t\t\t\t          placeholder=\"请输入备注\"\r\n\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"remark\")}\r\n\t\t\t\t\t\t\t\t\t          value={fileds.remark}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row> */}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Person);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Person.js","/*\r\n* 可编辑表格\r\n* */\r\nimport React from 'react';\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tIcon,\r\n\tTable,\r\n\tPopconfirm,\r\n\tConfigProvider,\r\n\tInputNumber,\r\n} from 'antd';\r\nimport {v4 as uuidv4} from 'uuid';\r\n\r\nimport Config from '@/config';\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\nimport AutoSelect from \"@/components/common/AutoSelect\";\r\n\r\nconst {TextArea} = Input;\r\nconst customizeRenderEmpty = () => (\r\n\t<div style={{textAlign: 'center', padding: '0'}}>\r\n\t\t<img\r\n\t\t\twidth='150px'\r\n\t\t\theight=\"100px\"\r\n\t\t\tsrc='./images/not_found.png'/>\r\n\t\t<p style={{\r\n\t\t\tfontSize: '14px',\r\n\t\t\tfontFamily: 'PingFangSC-Regular,PingFang S',\r\n\t\t\tfontWeight: '400',\r\n\t\t\tcolor: 'rgba(75,80,81,1)'\r\n\t\t}}>暂无数据</p>\r\n\t</div>\r\n);\r\n\r\nconst EditableContext = React.createContext();\r\nconst EditableRow = ({form, index, ...props}) => (\r\n\t<EditableContext.Provider value={form}>\r\n\t\t<tr {...props} />\r\n\t</EditableContext.Provider>\r\n);\r\nconst EditableFormRow = Form.create()(EditableRow);\r\n\r\nclass EditableCell extends React.Component {\r\n\tstate = {\r\n\t\tediting: true,\r\n\t};\r\n\r\n\tsave = e => {\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tthis.form.validateFields((error, values) => {\r\n\t\t\tif (error && error[e.currentTarget.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete values.name;\r\n\t\t\thandleSave({...record, ...values});\r\n\t\t});\r\n\t};\r\n\r\n\tdoChange = (value, e) => {\r\n\t\tconst {val} = e.props;\r\n\t\tconst {record, handleSave} = this.props;\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tlet obj = {name: value, expectId: \"\"};\r\n\t\t\thandleSave({...record, ...obj});\r\n\t\t} else {  // 选择\r\n\t\t\tlet obj = {\r\n\t\t\t\texpectId: val.expectId,\r\n\t\t\t\tname: val.name,\r\n\t\t\t\tcompleteToday: val.completeToday,\r\n\t\t\t\tremark: val.remark,\r\n\t\t\t\tcompleteTotal: val.completeTotal,\r\n\t\t\t\tunits: val.units,\r\n\t\t\t\tquantities: val.quantities\r\n\t\t\t}\r\n\t\t\thandleSave({...record, ...obj});\r\n\t\t}\r\n\t}\r\n\r\n\trenderCell = form => {\r\n\t\tthis.form = form;\r\n\t\tconst {children, dataIndex, record, title, handleDelete, date, projectId} = this.props;\r\n\t\tconst {editing} = this.state;\r\n\t\tif (dataIndex == 'completeToday' || dataIndex == 'completeTotal'||dataIndex == 'quantities'||dataIndex == \"completeTodayTag\") {  // 数字\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? 0 : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t//style={{width: '60px'}}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'remark') {  // 文本\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<TextArea rows={2}\r\n\t\t\t\t\t\t          ref={node => (this.input = node)}\r\n\t\t\t\t\t\t          onChange={this.save}\r\n\t\t\t\t\t\t          onBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (dataIndex == 'name') {  // 文本\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<div className=\"pr\">\r\n\t\t\t\t\t\t\t<Popconfirm title=\"确定要删除吗?\" onConfirm={() => handleDelete(record)}>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\tleft: '-30px',\r\n\t\t\t\t\t\t\t\t\t\tmargin: '16px 0',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#4BA4BE',\r\n\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttype=\"minus-circle\"/>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\t\t\turl={Config.xmgl.getExpectList}\r\n\t\t\t\t\t\t\t\tquery={Schemas.xmgl.getExpectList}\r\n\t\t\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\t\t\tprojectId: projectId,\r\n\t\t\t\t\t\t\t\t\tdata: date\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonChange={this.doChange}\r\n\t\t\t\t\t\t\t\tvalue={record[dataIndex] == null || record[dataIndex] == \"\" ? \"\" : record[dataIndex]}\r\n\t\t\t\t\t\t\t\ttype=\"getExpectList\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn editing ? (<Form.Item style={{margin: 0}}>\r\n\t\t\t\t\t{form.getFieldDecorator(dataIndex, {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\tmessage: `${title}是必输`,\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: record[dataIndex] == null || record[dataIndex] == 0 ? \"\" : record[dataIndex],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tstyle={{width: '60px'}}\r\n\t\t\t\t\t\t\tref={node => (this.input = node)}\r\n\t\t\t\t\t\t\tonChange={this.save}\r\n\t\t\t\t\t\t\tonBlur={this.save}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t) : (<div\r\n\t\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\t\tstyle={{minHeight: '31px'}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teditable,\r\n\t\t\tdataIndex,\r\n\t\t\ttitle,\r\n\t\t\trecord,\r\n\t\t\tindex,\r\n\t\t\thandleSave,\r\n\t\t\tchildren,\r\n\t\t\t...restProps\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<td {...restProps}>\r\n\t\t\t\t{editable ? (\r\n\t\t\t\t\t<EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tchildren\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProEditTable extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdataSource: [],\r\n\t\t\taddData: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tplanId: \"\",\r\n\t\t\t\texpectId: \"\",\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tcompleteToday: 0,\r\n\t\t\t\tremark: \"\",\r\n\t\t\t\tcompleteTotal: 0,\r\n\t\t\t\tunits: \"\",\r\n\t\t\t\tquantities: 0,\r\n\t\t\t\tcompleteTodayTag: 0\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps, nextContext) {\r\n\t\tif (JSON.stringify(nextProps.dataSource) != JSON.stringify(this.props.dataSource)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataSource: nextProps.dataSource\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\tdataSource: this.props.dataSource\r\n\t\t});\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tconst {dataSource, addData} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tconst {planId} = this.props;\r\n\t\tconst newData = Object.assign(addData, {id: \"!\" + uuidv4(), planId});\r\n\t\tthis.setState({\r\n\t\t\tdataSource: [...source, newData],\r\n\t\t}, () => {\r\n\t\t\tthis.props.updateData(\"dayTasks\", this.state.dataSource);\r\n\t\t});\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDelete = (record) => {\r\n\t\tconst {id} = record;\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tthis.setState({\r\n\t\t\tdataSource: source.filter(item => item.id !== id)\r\n\t\t}, () => {\r\n\t\t\tthis.props.updateData(\"dayTasks\", this.state.dataSource);\r\n\t\t});\r\n\t};\r\n\r\n\t// 保存\r\n\thandleSave = (row) => {\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst source = JSON.parse(JSON.stringify(dataSource));\r\n\t\tconst index = source.findIndex(item => row.id === item.id);\r\n\t\tconst item = source[index];\r\n\t\tsource.splice(index, 1, {\r\n\t\t\t...item,\r\n\t\t\t...row,\r\n\t\t});\r\n\t\tthis.setState({dataSource: source}, () => {\r\n\t\t\tthis.props.updateData(\"dayTasks\", this.state.dataSource);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {dataSource} = this.state;\r\n\t\tconst {projectId, date} = this.props;\r\n\t\tconst components = {\r\n\t\t\tbody: {\r\n\t\t\t\trow: EditableFormRow,\r\n\t\t\t\tcell: EditableCell,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '任务名称',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '任务类型',\r\n\t\t\t\tdataIndex: 'expectId',\r\n\t\t\t\tkey: 'expectId',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '60px',\r\n\t\t\t\trender: (text) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text == null || text == \"\" ? \"新增\" : \"计划\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '总量',\r\n\t\t\t\tdataIndex: 'quantities',\r\n\t\t\t\tkey: 'quantities',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: false,\r\n\t\t\t\t//width: '60px',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '当天目标',\r\n\t\t\t\tdataIndex: 'completeTodayTag',\r\n\t\t\t\tkey: 'completeTodayTag',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: true,\r\n\t\t\t\t//width: '60px',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '单位',\r\n\t\t\t\tdataIndex: 'units',\r\n\t\t\t\tkey: 'units',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: true,\r\n\t\t\t\t//width: '50px',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '今日完成',\r\n\t\t\t\tdataIndex: 'completeToday',\r\n\t\t\t\tkey: 'completeToday',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: true,\r\n\t\t\t\t//width: '60px',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '累计进度',\r\n\t\t\t\tdataIndex: 'completeTotal',\r\n\t\t\t\tkey: 'completeTotal',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '60px',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '备注',\r\n\t\t\t\tdataIndex: 'remark',\r\n\t\t\t\tkey: 'remark',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\teditable: true,\r\n\t\t\t\t//width: '80px',\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst colu = columns.map(col => {\r\n\t\t\tif (!col.editable) {\r\n\t\t\t\treturn col;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...col,\r\n\t\t\t\tonCell: record => ({\r\n\t\t\t\t\trecord,\r\n\t\t\t\t\teditable: col.editable,\r\n\t\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\t\ttitle: col.title,\r\n\t\t\t\t\thandleSave: this.handleSave,\r\n\t\t\t\t\thandleDelete: this.handleDelete,\r\n\t\t\t\t\tprojectId: projectId,\r\n\t\t\t\t\tdate: date\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\trowClassName={() => 'editable-row'}\r\n\t\t\t\t\tclassName=\"mt10\"\r\n\t\t\t\t\tpagination={false}\r\n\t\t\t\t\tcolumns={colu}\r\n\t\t\t\t\tsize={\"middle\"}\r\n\t\t\t\t\tbordered={true}\r\n\t\t\t\t\tdataSource={dataSource}\r\n\t\t\t\t\trowKey={record => record.id}\r\n\t\t\t\t/>\r\n\t\t\t\t<Icon onClick={this.handleAdd}\r\n\t\t\t\t      style={{margin: '16px 0', color: '#4BA4BE', fontSize: '18px'}}\r\n\t\t\t\t      type=\"plus-circle\"/>\r\n\t\t\t</ConfigProvider>)\r\n\t}\r\n}\r\n\r\nexport default ProEditTable;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/ProEditTable.js","/*\r\n* 进度控制\r\n* dangw@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tForm,\r\n\tTag, Divider, Icon,\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\nimport {List} from \"immutable\";\r\nimport Config from \"@/config\";\r\nimport MyUpload from '@/components/common/MyUpload';\r\nimport AutoSelect from \"@/components/common/AutoSelect\";\r\nimport ProEditTable from './ProEditTable';\r\n\r\nimport Schemas from \"@/utils/Schemas/xmgl\";\r\n\r\nconst confirm = Modal.confirm;\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = error => reject(error);\r\n\t});\r\n}\r\n\r\n@observer\r\nclass Progress extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tfileList: [],\r\n\t\t\tpreviewVisible: false,\r\n\t\t\tpreviewImage: '',\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getPlanList();\r\n\t}\r\n\r\n\t// 新增\r\n\thandleAdd = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: 'add'\r\n\t\t}, () => {\r\n\t\t\t// 获取今日计划\r\n\t\t\tconst param = moment().format(\"YYYY-MM-DD\")\r\n\t\t\tthis.store.getTodayGoals(param).then((res) => {\r\n\t\t\t\tthis.store.planFields = Object.assign(mobx.toJS(this.store.planFields),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\t\t\"goalsTomorrow\": [{\r\n\t\t\t\t\t\t\t\"id\": \"\",\r\n\t\t\t\t\t\t\t\"projectId\": this.store.projectId,\r\n\t\t\t\t\t\t\t\"text\": \"\",\r\n\t\t\t\t\t\t\t\"rate\": 100,\r\n\t\t\t\t\t\t\t\"date\": null\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tgoals: Object.assign([], res == null ? [] : res),\r\n\t\t\t\t\t\t\"dayTasks\": []\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// 根据日期获取定点位置\r\n\t\t\tthis.getPosList();\r\n\t\t\t// 获取任务\r\n\t\t\tthis.getDayTaskByDate(param);\r\n\t\t});\r\n\t}\r\n\r\n\tgetPosList = () => {\r\n\t\tconst {date} = this.store.planFields;\r\n\t\tconst params = {\r\n\t\t\tprojectId: this.store.projectId,\r\n\t\t\tbeginTime: moment(date).valueOf(),\r\n\t\t\tendTime: moment(date).valueOf()\r\n\t\t};\r\n\t\tthis.store.getPositionList(params)\r\n\t\t.then((res) => {\r\n\t\t\tif (res) {\r\n\t\t\t\tthis.store.planFields.positions = Object.assign([], res == null ? [] : res);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 日期\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\tlet _this = this;\r\n\t\t//切换日期，更新定点位置信息\r\n\t\tlet fileds = JSON.parse(JSON.stringify(this.store.planFields));\r\n\t\tif (dateString !== fileds.date) {\r\n\t\t\t_this.store.planFields[type] = dateString;\r\n\t\t\t// 根据日期获取定点位置\r\n\t\t\t_this.getPosList();\r\n\t\t\t// 获取任务\r\n\t\t\t_this.getDayTaskByDate(dateString);\r\n\t\t\t/*confirm({\r\n\t\t\t\ttitle: '日期切换时任务数据会清空，您确定要切换吗?',\r\n\t\t\t\tokText: '确定',\r\n\t\t\t\tokType: 'danger',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tonOk() {\r\n\r\n\t\t\t\t},\r\n\t\t\t\tonCancel() {\r\n\t\t\t\t\t//console.log('Cancel');\r\n\t\t\t\t},\r\n\t\t\t});*/\r\n\t\t} else {\r\n\t\t\t_this.store.planFields[type] = fileds.date;\r\n\t\t}\r\n\t}\r\n\r\n\t// 根据日期获取定点位置\r\n\tgetDayTaskByDate = (date) => {\r\n\t\tthis.store.getDayTaskByDate({\r\n\t\t\t\"projectId\": this.store.projectId,\r\n\t\t\t\"date\": date,\r\n\t\t}).then((res) => {\r\n\t\t\tthis.store.planFields = Object.assign(mobx.toJS(this.store.planFields), {\r\n\t\t\t\tdayTasks: Object.assign([], res == null ? [] : res),\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// 文本改变\r\n\thandleChage = (type, e) => {\r\n\t\tthis.store.planFields[type] = e.target.value;\r\n\t}\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.planFields = Object.assign({}, {\r\n\t\t\t\t\"id\": null,\r\n\t\t\t\t\"date\": null,\r\n\t\t\t\t\"attachments\": [],\r\n\t\t\t\t\"goals\": [],\r\n\t\t\t\t\"goalsTomorrow\": [{\r\n\t\t\t\t\t\"id\": \"\",\r\n\t\t\t\t\t\"projectId\": \"\",\r\n\t\t\t\t\t\"text\": \"\",\r\n\t\t\t\t\t\"rate\": 100,\r\n\t\t\t\t\t\"date\": null,\r\n\t\t\t\t\t\"ztaskId\": \"\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"text\": \"\",\r\n\t\t\t\t\"positions\": [],\r\n\t\t\t\t\"dayTasks\": []\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 处理附件\r\n\t\t\tlet array = JSON.parse(JSON.stringify(this.store.planFields.attachments))\r\n\t\t\tlet arr = [];\r\n\t\t\tarray.length && array.map((item, index) => {\r\n\t\t\t\tarr.push({\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\t//id: item.id\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tthis.store.savePlan(\r\n\t\t\t\tObject.assign(mobx.toJS(this.store.planFields), {\r\n\t\t\t\t\tattachments: arr,\r\n\t\t\t\t\tprojectId: this.store.projectId\r\n\t\t\t\t})\r\n\t\t\t).then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.getTabeData();\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.planPageIndex = 1;\r\n\t\tthis.store.planPageSize = pageSize;\r\n\t\tthis.store.getPlanList();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.planPageIndex = pageNumber;\r\n\t\tthis.store.getPlanList();\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle: 'edit'\r\n\t\t}, () => {\r\n\t\t\tdelete param.key;\r\n\t\t\tthis.store.planFields = Object.assign({}, param, {\r\n\t\t\t\tattachments: param.attachments !== null ? param.attachments.map((vitem, index) => {\r\n\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\tuid: vitem.fileId,\r\n\t\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\t\tfileId: vitem.fileId,\r\n\t\t\t\t\t\tfileName: vitem.fileName,\r\n\t\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\t\tid: vitem.fileId\r\n\t\t\t\t\t})\r\n\t\t\t\t}) : [],\r\n\t\t\t\tpositions: param.positions == null ? [] : param.positions\r\n\t\t\t});\r\n\t\t\t// 根据日期获取定点位置\r\n\t\t\tthis.getPosList();\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delPlan(param.id).then((res) => {\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.planPageIndex = 1;\r\n\t\t\t\t\t\t_this.store.planPageSize = 10;\r\n\t\t\t\t\t\t_this.store.getPlanList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\t//console.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\t//console.log(value);\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\t// 删除字段\r\n\tremove = (index) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.store.planFields.goalsTomorrow));\r\n\t\tlet list = List(customList);\r\n\t\tthis.store.planFields.goalsTomorrow = Object.assign([], list.delete(index).toJS())\r\n\t\tthis.props.form.resetFields();\r\n\t};\r\n\r\n\t// 增加字段\r\n\tadd = () => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.store.planFields.goalsTomorrow));\r\n\t\tthis.store.planFields.goalsTomorrow = [...customList, {\r\n\t\t\t\"id\": \"\",\r\n\t\t\t\"projectId\": this.store.projectId,\r\n\t\t\t\"text\": \"\",\r\n\t\t\t\"rate\": 100,\r\n\t\t\t\"date\": null,\r\n\t\t\t\"ztaskId\": \"\"\r\n\t\t}]\r\n\t\tthis.props.form.resetFields();\r\n\t};\r\n\r\n\t// input\r\n\tdoChange = (type, index, value, e) => {\r\n\t\tthis.props.form.resetFields();\r\n\t\tconst {val} = e.props;\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.store.planFields.goalsTomorrow));\r\n\t\tlet list = List(customList);\r\n\t\tif (val == undefined) {  // 手输入\r\n\t\t\tlist.update(index, (val) => {\r\n\t\t\t\tval.text = value;\r\n\t\t\t\tval.ztaskId = \"\";\r\n\t\t\t\treturn val;\r\n\t\t\t});\r\n\t\t} else {  // 选择\r\n\t\t\tlist.update(index, (val) => {\r\n\t\t\t\tval.text = value;\r\n\t\t\t\tval.ztaskId = val.id;\r\n\t\t\t\treturn val;\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.store.planFields.goalsTomorrow = Object.assign([], list.toJS())\r\n\t}\r\n\r\n\t// 数字\r\n\thanleNumber = (type, index, value) => {\r\n\t\tlet customList = JSON.parse(JSON.stringify(this.store.planFields.goals));\r\n\t\tlet list = List(customList);\r\n\t\tlist.update(index, (val) => {\r\n\t\t\tval.rate = value;\r\n\t\t\treturn val;\r\n\t\t});\r\n\t\t//console.log(list.toJS(), customList, '9',value)\r\n\t\tthis.store.planFields.goals = Object.assign([], list.toJS())\r\n\t}\r\n\r\n\thandleChange = info => {\r\n\t\t//console.log(info, '0')\r\n\t\tconst status = info.file.status;\r\n\t\tif (status === 'done') {\r\n\t\t\t// 上传成功\r\n\t\t\t//message.success(`${info.file.name}上传成功！`);\r\n\t\t} else if (status === 'error') {\r\n\t\t\tmessage.error(`${info.file.name}上传失败！`);\r\n\t\t} else if (status === 'removed') {\r\n\t\t\t//console.log('delete')\r\n\t\t}\r\n\t\tlet fileList = [...info.fileList];\r\n\t\tfileList = JSON.parse(JSON.stringify(fileList));\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.status === 'error') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tfileList = fileList.map(file => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\tfile.url = file.response.body[0].fileURL;\r\n\t\t\t\tfile.fileId = file.response.body[0].fileId;\r\n\t\t\t\tfile.id = file.response.body[0].fileId;\r\n\t\t\t\tfile.fileName = file.response.body[0].fileName;\r\n\t\t\t\tfile.filePath = file.response.body[0].fileURL;\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t});\r\n\t\tfileList = fileList.filter((file) => {\r\n\t\t\tif (file.response) {\r\n\t\t\t\treturn file.response.status === 'ok';\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tfileList: Object.assign([], [...fileList])\r\n\t\t}, () => {\r\n\t\t\t// 更新附件数据\r\n\t\t\tlet data = this.state.fileList.map((item, index) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.fileName,\r\n\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\turl: item.filePath,\r\n\t\t\t\t\tfileId: item.fileId,\r\n\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\t\tid: item.fileId\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.store.planFields.attachments = Object.assign([], data);\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = () => this.setState({previewVisible: false});\r\n\r\n\thandlePreview = async file => {\r\n\t\tif (!file.url && !file.preview) {\r\n\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpreviewImage: file.url || file.preview,\r\n\t\t\tpreviewVisible: true,\r\n\t\t});\r\n\t};\r\n\r\n\t// 处理定点位置附件\r\n\tsaveAttachment = (pitem, index, params) => {\r\n\t\t// 处理附件\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tpositionId: pitem.id,\r\n\t\t\t\tcreateTime: pitem.createTime,\r\n\t\t\t\tdateTime: moment(this.store.planFields.date).valueOf(),\r\n\t\t\t\tid: item.id\r\n\t\t\t})\r\n\t\t});\r\n\t\tconst positions = JSON.parse(JSON.stringify(this.store.planFields.positions));\r\n\t\tpositions[index].attachments = Object.assign([], arr);\r\n\t\tthis.store.planFields['positions'] = Object.assign([], positions);\r\n\t}\r\n\r\n\t// 形象进度上传\r\n\thandleAttment = (params) => {\r\n\t\t// 处理附件\r\n\t\tlet arr = [];\r\n\t\tparams.length && params.map((item) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tfileId: item.fileId,\r\n\t\t\t\tfileName: item.fileName,\r\n\t\t\t\tfilePath: item.filePath,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.fileName,\r\n\t\t\t\tstatus: 'done',\r\n\t\t\t\turl: item.filePath,\r\n\t\t\t})\r\n\t\t});\r\n\t\tthis.store.planFields.attachments = Object.assign([], arr);\r\n\t}\r\n\r\n\tupdateData = (type, dataSource) => {\r\n\t\tthis.store.planFields[type] = Object.assign([], dataSource);\r\n\t}\r\n\r\n\t// 发送\r\n\thandleSend = (param) => {\r\n\t\tlet _this = this;\r\n\t\tif (param.notifyStatus == \"1\") {\r\n\t\t\tconfirm({\r\n\t\t\t\ttitle: '邮件已发送，您确定要再次发送吗?',\r\n\t\t\t\tokText: '确定',\r\n\t\t\t\tokType: 'danger',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tonOk() {\r\n\t\t\t\t\t_this.store.sendNotifys(param.id).then((res) => {\r\n\t\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\t\tmessage.success(\"发送成功\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessage.error(\"发送失败\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tonCancel() {\r\n\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconfirm({\r\n\t\t\t\ttitle: '您确定要发送吗?',\r\n\t\t\t\tokText: '确定',\r\n\t\t\t\tokType: 'danger',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tonOk() {\r\n\t\t\t\t\t_this.store.sendNotifys(param.id).then((res) => {\r\n\t\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\t\tmessage.success(\"发送成功\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessage.error(\"发送失败\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tonCancel() {\r\n\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\twidth: '50px'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '进度名称',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            {text + \"进度报告\"}\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t\twidth: '250px'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '时间',\r\n\t\t\t\tdataIndex: 'date',\r\n\t\t\t\tkey: 'date',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{text == null ? \"\" : text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\twidth: '150px'\r\n\t\t\t},/* {\r\n\t\t\t\ttitle: '今日综述',\r\n\t\t\t\tdataIndex: 'text',\r\n\t\t\t\tkey: 'text',\r\n\t\t\t\talign: 'left',\r\n\t\t\t},*/\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\tfixed: 'right',\r\n\t\t\t\talign: 'left',\r\n\t\t\t\twidth: 200,\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n\t\t\t               编辑\r\n\t\t\t            </Tag>\r\n\t\t\t            <Divider type=\"vertical\"/>\r\n\t\t\t            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n\t\t\t                 删除\r\n\t\t\t            </Tag>\r\n\t\t\t            <Divider type=\"vertical\"/>\r\n\t\t\t            <Tag className=\"pointer\" color={'blue'} onClick={this.handleSend.bind(this, record)}>\r\n\t\t\t                发送\r\n\t\t\t            </Tag>\r\n                    </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst fileds = mobx.toJS(this.store.planFields);\r\n\t\tconst formItems = mobx.toJS(this.store.planFields.goalsTomorrow).length && mobx.toJS(this.store.planFields.goalsTomorrow).map((item, index) => {\r\n\t\t\treturn (<div className=\"pr\" style={{width: '80%'}}\r\n\t\t\t             key={'goals_tomorrow' + index}>\r\n\t\t\t\t\t<AutoSelect\r\n\t\t\t\t\t\turl={Config.xmgl.getZplanTaskList}\r\n\t\t\t\t\t\tquery={Schemas.xmgl.getZplanTaskList}\r\n\t\t\t\t\t\tvariables={{\r\n\t\t\t\t\t\t\tprojectId: this.store.projectId,\r\n\t\t\t\t\t\t\tbeginTime: moment(this.store.planFields.date).subtract(1, \"years\").valueOf(), //当前时间的前3个月时间,\r\n\t\t\t\t\t\t\tendTime: moment(this.store.planFields.date).add(1, \"years\").valueOf(), //当前时间的前3个月时间,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonChange={this.doChange.bind(this, \"text\", index)}\r\n\t\t\t\t\t\tvalue={item.text}\r\n\t\t\t\t\t\ttype=\"getZplanTaskList\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/*<TextArea autosize={{minRows: 2}}\r\n\t\t\t\t\t          placeholder=\"请输入明日施工计划\"\r\n\t\t\t\t\t          style={{width: '100%', display: 'inlineBlock'}}\r\n\t\t\t\t\t          value={item.text}\r\n\t\t\t\t\t          onChange={this.doChange.bind(this, \"text\", index)}\r\n\t\t\t\t\t/>*/}\r\n\t\t\t\t\t{index >= 1 ? <Button\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\tclassName=\"dynamic-delete-button\"\r\n\t\t\t\t\t\tonClick={this.remove.bind(this, index)}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ticon=\"minus\"\r\n\t\t\t\t\t\tstyle={{top: '6px'}}\r\n\t\t\t\t\t\ttype=\"default\"/> : null}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t});\r\n\t\tconst props = {\r\n\t\t\tdata: {\r\n\t\t\t\ttype: 1,\r\n\t\t\t\tsourceId: this.store.planFields.id // 物料的id\r\n\t\t\t},\r\n\t\t\tname: 'file',\r\n\t\t\tmultiple: true,\r\n\t\t\taction: Config.management.multiUpload,\r\n\t\t\tonChange: this.handleChange,\r\n\t\t\tfileList: mobx.toJS(this.store.planFields.attachments),\r\n\t\t\tonPreview: this.handlePreview,\r\n\t\t\tlistType: \"picture-card\"\r\n\t\t}\r\n\r\n\t\tconst {previewVisible, previewImage, fileList} = this.state;\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type=\"plus\"/>\r\n\t\t\t\t<div className=\"ant-upload-text\">上传</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className='w' style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增进度</Button>\r\n\t\t\t\t<Table columns={columns}\r\n\t\t\t\t       pagination={false}\r\n\t\t\t\t       size=\"middle\"\r\n\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t       dataSource={mobx.toJS(this.store.planTableData)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tcurrent={this.store.planPageIndex}\r\n\t\t\t\t\t\tpageSize={this.store.planPageSize}\r\n\t\t\t\t\t\ttotal={this.store.planTotalCount}\r\n\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title == \"add\" ? \"新增进度\" : \"编辑进度\"}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\twidth={'80%'}\r\n\t\t\t\t\tstyle={{minWidth: '880px'}}\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`进度名称`}>\r\n\t\t\t\t\t\t\t\t\t<div style={{fontWeight: 400}}>{moment(fileds.date).format(\"YYYY年MM月DD日\")}进度报告</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`时间`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`date`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.date == null ? \"\" : moment(fileds.date, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入时间',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.date == null ? \"\" : moment(fileds.date, 'YYYY-MM-DD')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'date')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t{/*<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`今日综述`}>\r\n\t\t\t\t\t\t\t\t\t<TextArea autosize={{minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t          style={{width: '80%'}}\r\n\t\t\t\t\t\t\t\t\t          placeholder=\"请输入今日综述\"\r\n\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"text\")}\r\n\t\t\t\t\t\t\t\t\t          value={fileds.text}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>*/}\r\n\t\t\t\t\t\t\t<Col span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`现场照片`}>\r\n\t\t\t\t\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\t\t\t\t\tlength={1}\r\n\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.handleAttment.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\t\t\t\tossData={this.props.ossData}\r\n\t\t\t\t\t\t\t\t\t\tfileList={mobx.toJS(this.store.planFields.attachments)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t{fileds.positions.map((item, index) => {\r\n\t\t\t\t\t\t\t\treturn (<Col key={'pos' + index} span={24} style={{marginTop: '8px'}}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tlabel={`${item.name}`}>\r\n\t\t\t\t\t\t\t\t\t\t<MyUpload\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tlength={1}\r\n\t\t\t\t\t\t\t\t\t\t\tsaveAttachment={this.saveAttachment.bind(this, item, index)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\t\t\t\t\tossData={this.props.ossData}\r\n\t\t\t\t\t\t\t\t\t\t\tfileList={item.attachments == null ? [] : item.attachments.map((vitem) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn Object.assign({}, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuid: vitem.fileId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: vitem.fileName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: vitem.filePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileId: vitem.fileId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileName: vitem.fileName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: vitem.filePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: vitem.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpositionId: vitem.positionId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcreateTime: vitem.createTime,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateTime: vitem.dateTime,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Col>)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t{/*<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tmd: {span: 6},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 24},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tmd: {span: 18},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 24},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`今日施工完成情况`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{mobx.toJS(fileds.goals).length>0?mobx.toJS(fileds.goals).map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<div key={'goals-' + index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input disabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t       value={item.text}\r\n\t\t\t\t\t\t\t\t\t\t\t       style={{width: '60%', display: 'inlineBlock'}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginLeft: '10px', width: '80px', display: 'inlineBlock'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstep={10}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"完成率\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.rate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.hanleNumber.bind(this, \"rate\", index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatter={this.limitDecimals}\r\n\t\t\t\t\t\t\t\t\t\t\t\tparser={this.limitDecimals}/>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml10\">%</span></div>)\r\n\t\t\t\t\t\t\t\t\t}):\"无\"}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 6},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 18},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`明日施工计划`}>\r\n\t\t\t\t\t\t\t\t\t{formItems ? formItems : null}\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\"\r\n\t\t\t\t\t\t\t\t\t        block\r\n\t\t\t\t\t\t\t\t\t        style={{width: '80%'}}\r\n\t\t\t\t\t\t\t\t\t        onClick={this.add}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon type=\"plus\"/> 添加明日施工计划\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>*/}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{/*编辑表格*/}\r\n\t\t\t\t\t<ProEditTable\r\n\t\t\t\t\t\tplanId={this.store.planFields.id}\r\n\t\t\t\t\t\tdataSource={fileds.dayTasks}\r\n\t\t\t\t\t\tupdateData={this.updateData}\r\n\t\t\t\t\t\tprojectId={this.store.projectId}\r\n\t\t\t\t\t\tdate={fileds.date == null ? \"\" : fileds.date}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n\t\t\t\t\t<img alt=\"example\" style={{width: '100%'}} src={previewImage}/>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Progress);\r\nexport default form;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Progress.js","/*\r\n* 质量与安全管理\r\n* qiufh@glodon.com\r\n* */\r\nimport React from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {\r\n\tTabs,\r\n\tRow,\r\n\tCol,\r\n\tRadio,\r\n\tTable,\r\n\tPagination,\r\n\tmessage,\r\n\tModal,\r\n\tDatePicker,\r\n\tButton,\r\n\tInput,\r\n\tForm,\r\n\tTag, Divider\r\n} from 'antd';\r\nimport * as mobx from 'mobx';\r\nimport moment from 'moment';\r\n\r\nconst RadioGroup = Radio.Group;\r\nconst {TextArea} = Input;\r\nconst { TabPane } = Tabs;\r\nconst confirm = Modal.confirm;\r\n\r\n\r\n@observer\r\nclass Quality extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.store = this.props.store;\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\ttype: ['质量', '安全'],//类型名称\r\n\t\t\temergencyQuality: ['质量通病', '质量问题', '一般质量问题', '较大质量问题', '重大质量问题'],//质量问题紧急程度\r\n\t\t\temergencySafe: ['安全隐患', '一般安全事故', '较大安全事故'],//紧急问题程度\r\n\t\t\tstate: ['发现问题', '整改完成'],//问题状态\r\n\t\t\tfilteredInfo: null,\r\n\t\t\tsortedInfo: null,\r\n\t\t\ttitle: '', // 标题\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.store.qualityType = 1;\r\n\t\t//this.getTabeData();\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tgetTabeData = () => {\r\n\t\tthis.store.getAllQualityByProjectIdAndType();\r\n\t}\r\n\r\n\thandleAdd = () => {\r\n\t\tconst title = this.store.qualityType=='1'?\"新增质量问题\":\"新增安全问题\";\r\n\t\tthis.setState({visible: true, title: title}, () => {\r\n\t\t\tthis.store.qualityFields = Object.assign(mobx.toJS(this.store.qualityFields),\r\n\t\t\t\t{createTime: moment().format(\"YYYY-MM-DD\"), type: this.store.qualityType})\r\n\t\t});\r\n\t}\r\n\r\n\tonDateChange = (type, value, dateString) => {\r\n\t\tthis.store.qualityFields[type] = dateString;\r\n\t}\r\n\r\n\thandleChage = (type, e) => {\r\n\t\tthis.store.qualityFields[type] = e.target.value;\r\n\t}\r\n\r\n\thandleChangeTable = (pagination, filters, sorter) => {\r\n\t\tthis.setState({\r\n\t\t\tfilteredInfo: filters,\r\n\t\t\tsortedInfo: sorter,\r\n\t\t});\r\n\t};\r\n\r\n\tclearFilters = () => {\r\n\t\tthis.setState({filteredInfo: null});\r\n\t};\r\n\r\n\t// 取消\r\n\thandleCancle = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t}, () => {\r\n\t\t\tthis.store.qualityFields = Object.assign({}, {\r\n\t\t\t\t\"id\": null,\r\n\t\t\t\t\"question\": \"\",\r\n\t\t\t\t\"type\": 1, //类型：1质量 2安全\r\n\t\t\t\t\"emergencyQuality\": \"质量通病\",  //紧急程度：1一般2严重3紧急\r\n\t\t\t\t\"createTime\": moment().format(\"YYYY-MM-DD\"),\r\n\t\t\t\t\"state\": \"发现问题\",\r\n\t\t\t\t\"solveTime\": null,\r\n\t\t\t\t\"handler\": \"\",\r\n\t\t\t\t\"reviewer\": \"\",\r\n\t\t\t\t\"remark\": \"\",\r\n\t\t\t\tplanSolveTime:null\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.props.form.resetFields();\r\n\t}\r\n\r\n\t// 保存\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, fieldsValue) => {\r\n\t\t\tconsole.log(fieldsValue);\r\n\t\t\tif (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.store.saveQuality().then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tmessage.success(\"保存成功\")\r\n\t\t\t\t\tthis.getTabeData();\r\n\t\t\t\t\tthis.handleCancle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.success(res.message || \"保存失败\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\t// 限制数字\r\n\tlimitDecimals = (value) => {\r\n\t\tconst reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\r\n\t\t//console.log(value);\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : ''\r\n\t\t} else if (typeof value === 'number') {\r\n\t\t\treturn !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : ''\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t};\r\n\r\n\tshowSizeChange = async (current, pageSize) => {\r\n\t\tthis.store.qualityPageIndex = 1;\r\n\t\tthis.store.qualityPageSize = pageSize;\r\n\t\tthis.store.getAllQualityByProjectIdAndType();\r\n\t}\r\n\r\n\tonPageChange = async (pageNumber) => {\r\n\t\tthis.store.qualityPageIndex = pageNumber;\r\n\t\tthis.store.getAllQualityByProjectIdAndType();\r\n\t}\r\n\r\n\tshowTotal = (total) => {\r\n\t\treturn `共 ${total} 条`;\r\n\t}\r\n\r\n\tcallback = (key) => {\r\n\t\tthis.store.qualityType = Number(key);\r\n\t\tthis.getTabeData();\r\n\t}\r\n\r\n\t// 编辑\r\n\thandEdit = async (param) => {\r\n\t\tconst title = this.store.qualityType=='1'?\"编辑质量问题\":\"编辑安全问题\";\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\ttitle\r\n\t\t}, () => {\r\n\t\t\tdelete param.key;\r\n\t\t\tdelete param.selested;\r\n\t\t\tif (this.store.qualityType=='1') {  // 质量问题\r\n\t\t\t\tthis.store.qualityFields = Object.assign(mobx.toJS(this.store.qualityFields),param, {\r\n\t\t\t\t\t\"emergencyQuality\": param.emergency,\r\n\t\t\t\t})\r\n\t\t\t} else{\r\n\t\t\t\tthis.store.qualityFields = Object.assign(mobx.toJS(this.store.qualityFields),param, {\r\n\t\t\t\t\t\"emergencySafe\": param.emergency,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除\r\n\thandleDel = (param) => {\r\n\t\tlet _this = this;\r\n\t\tconfirm({\r\n\t\t\ttitle: '您确定删除吗?',\r\n\t\t\tokText: '确定',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tonOk() {\r\n\t\t\t\t_this.store.delQuality(param.id).then((res)=>{\r\n\t\t\t\t\tif (res == true) {\r\n\t\t\t\t\t\tmessage.success(\"删除成功\");\r\n\t\t\t\t\t\t_this.store.qualityPageIndex = 1;\r\n\t\t\t\t\t\t_this.store.qualityPageSize = 10;\r\n\t\t\t\t\t\t_this.store.getAllQualityByProjectIdAndType();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error('删除失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\t//console.log('Cancel');\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tlet {type, emergencyQuality, emergencySafe, state, sortedInfo, filteredInfo} = this.state;\r\n\r\n\t\tsortedInfo = sortedInfo || {};\r\n\t\tfilteredInfo = filteredInfo || {};\r\n\r\n\t\tconst styles = {\r\n\t\t\tpagination: {\r\n\t\t\t\ttextAlign: 'end',\r\n\t\t\t\tmarginTop: '20px',\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 10},\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {span: 24},\r\n\t\t\t\tsm: {span: 12},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '问题描述',\r\n\t\t\t\tdataIndex: 'question',\r\n\t\t\t\tkey: 'question',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '问题状态',\r\n\t\t\t\tdataIndex: 'state',\r\n\t\t\t\tkey: 'state',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '重要程度',\r\n\t\t\t\tdataIndex: 'emergency',\r\n\t\t\t\tkey: 'emergency',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t/*{\r\n\t\t\t\ttitle: '类型',\r\n\t\t\t\tdataIndex: 'type',\r\n\t\t\t\tkey: 'type',\r\n\t\t\t\tfilters: [{text: '质量', value: '质量'}, {text: '安全', value: '安全'}],\r\n\t\t\t\tfilteredValue: filteredInfo.type || null,\r\n\t\t\t\tonFilter: (value, record) => record.type.includes(value),\r\n\t\t\t},*/\r\n\t\t\t {\r\n\t\t\t\ttitle: '发现时间',\r\n\t\t\t\tdataIndex: 'createTime',\r\n\t\t\t\tkey: 'createTime',\r\n\t\t\t\t align: 'center',\r\n\t\t\t\t render: (text, record) => (\r\n\t\t\t\t\t <div>\r\n\t\t\t\t\t\t {text==null?\"\":text}\r\n\t\t\t\t\t </div>\r\n\t\t\t\t )\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '解决时间',\r\n\t\t\t\tdataIndex: 'solveTime',\r\n\t\t\t\tkey: 'solveTime',\r\n\t\t\t\talign: 'center',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{record.state===\"发现问题\"?record.planSolveTime:record.solveTime}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t// {\r\n\t\t\t// \ttitle: '处理人',\r\n\t\t\t// \tdataIndex: 'handler',\r\n\t\t\t// \tkey: 'handler',\r\n\t\t\t// },\r\n\t\t\t{\r\n\t\t\t\ttitle: '验收人',\r\n\t\t\t\tdataIndex: 'reviewer',\r\n\t\t\t\tkey: 'reviewer',\r\n\t\t\t\talign: 'center',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n            <Tag color={'green'} className=\"pointer\" onClick={this.handEdit.bind(this, record)}>\r\n               编辑\r\n            </Tag>\r\n            <Divider type=\"vertical\"/>\r\n            <Tag color={'red'} className=\"pointer\" onClick={this.handleDel.bind(this, record)}>\r\n                 删除\r\n              </Tag>\r\n          </span>\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t\t/*{\r\n\t\t\t\ttitle: '处理方案',\r\n\t\t\t\tdataIndex: 'remark',\r\n\t\t\t\tkey: 'remark',\r\n\t\t\t}*/\r\n\t\t];\r\n\r\n\t\tconst fileds = mobx.toJS(this.store.qualityFields);\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{padding: '0 15px 15px 0'}}>\r\n\t\t\t\t<Tabs defaultActiveKey=\"1\"\r\n\t\t\t\t      className=\"quality-tabs\"\r\n\t\t\t\t      onChange={this.callback}>\r\n\t\t\t\t\t<TabPane tab=\"质量问题\" key=\"1\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增质量问题</Button>\r\n\t\t\t\t\t\t<Table columns={columns}\r\n\t\t\t\t\t\t       pagination={false}\r\n\t\t\t\t\t\t       size=\"middle\"\r\n\t\t\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t\t\t       dataSource={mobx.toJS(this.store.qualityTableData)}\r\n\t\t\t\t\t\t       onChange={this.handleChangeTable}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tcurrent={this.store.qualityPageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={this.store.qualityPageSize}\r\n\t\t\t\t\t\t\t\ttotal={this.store.qualityTotalCount}\r\n\t\t\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"安全问题\" key=\"2\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={this.handleAdd}>新增安全问题</Button>\r\n\t\t\t\t\t\t<Table columns={columns}\r\n\t\t\t\t\t\t       pagination={false}\r\n\t\t\t\t\t\t       size=\"middle\"\r\n\t\t\t\t\t\t       className=\"xlj-table mt25\"\r\n\t\t\t\t\t\t       dataSource={mobx.toJS(this.store.qualityTableData)}\r\n\t\t\t\t\t\t       onChange={this.handleChangeTable}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div style={styles.pagination}>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tcurrent={this.store.qualityPageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={this.store.qualityPageSize}\r\n\t\t\t\t\t\t\t\ttotal={this.store.qualityTotalCount}\r\n\t\t\t\t\t\t\t\tonShowSizeChange={this.showSizeChange}\r\n\t\t\t\t\t\t\t\tonChange={this.onPageChange}\r\n\t\t\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\t\t\tshowTotal={this.showTotal}\r\n\t\t\t\t\t\t\t\tshowQuickJumper/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.title}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\tonOk={this.handleSubmit}\r\n\t\t\t\t\tonCancel={this.handleCancle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t\t\t<Row className={'clearfix'}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 5},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 19},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`问题描述`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`question`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.question,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入问题描述',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(<TextArea autosize={{ minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t             disabled={this.props.title == \"edit\"}\r\n\t\t\t\t\t\t\t\t\t             onChange={this.handleChage.bind(this, \"question\")}\r\n\t\t\t\t\t\t\t\t\t             value={fileds.question}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t{/*<Col span={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item label={`类型`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`type`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.type,\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入类型',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroup onChange={this.handleChage.bind(this, \"type\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t            disabled={this.props.title == \"edit\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t            value={fileds.type}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{type.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (<Radio key={'type' + index} value={item}>{item}</Radio>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>*/}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col span={24} className=\"mb5\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 5},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\tsm: {span: 19},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tlabel={`重要程度`}>\r\n\t\t\t\t\t\t\t\t\t{this.store.qualityType==1?getFieldDecorator(`emergency`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.emergencyQuality,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择重要程度',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup onChange={this.handleChage.bind(this, \"emergencyQuality\")}\r\n\t\t\t\t\t\t\t\t\t\t\t            disabled={this.props.title == \"edit\"}\r\n\t\t\t\t\t\t\t\t\t\t\t            value={fileds.emergencyQuality}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{emergencyQuality.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (<Radio key={'emergencyQuality' + index} value={item}>{item}</Radio>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t):getFieldDecorator(`emergency`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.emergencySafe,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择重要程度',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup onChange={this.handleChage.bind(this, \"emergencySafe\")}\r\n\t\t\t\t\t\t\t\t\t\t\t            disabled={this.props.title == \"edit\"}\r\n\t\t\t\t\t\t\t\t\t\t\t            value={fileds.emergencySafe}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{emergencySafe.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (<Radio key={'emergencySafe' + index} value={item}>{item}</Radio>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col span={24} className=\"mb5\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 5},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 19},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`问题状态`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`state`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.state,\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请选择问题状态',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"w\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup onChange={this.handleChage.bind(this, \"state\")}\r\n\t\t\t\t\t\t\t\t\t\t\t            disabled={this.props.title == \"edit\"}\r\n\t\t\t\t\t\t\t\t\t\t\t            value={fileds.state}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{state.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (<Radio key={'state' + index} value={item}>{item}</Radio>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col span={12} className=\"mb5\">\r\n\t\t\t\t\t\t\t\t<Form.Item label={`发现时间`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`createTime`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.createTime == null ? \"\" : moment(fileds.createTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入发现时间',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.createTime == null ? \"\" : moment(fileds.createTime, 'YYYY-MM-DD')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'createTime')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12} className=\"mb5\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 12},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 12},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`计划解决时间`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`planSolveTime`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.planSolveTime == null ? \"\" : moment(fileds.planSolveTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入计划解决时间',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.planSolveTime == null ? \"\" : moment(fileds.planSolveTime, 'YYYY-MM-DD')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'planSolveTime')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row style={{marginTop: '10px'}}>\r\n\t\t\t\t\t\t\t{/* <Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`处理人`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('handler', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.handler,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入处理人'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChage.bind(this, \"handler\")}\r\n\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col> */}\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label={`验收人`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('reviewer', {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.reviewer,\r\n\t\t\t\t\t\t\t\t\t\trules: [{required: true, message: '请输入验收人'}],\r\n\t\t\t\t\t\t\t\t\t})(<Input\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChage.bind(this, \"reviewer\")}\r\n\t\t\t\t\t\t\t\t\t/>)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12} className={fileds.state==\"发现问题\"?\"hidden\":\"mb5\"}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 12},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 12},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`实际解决时间`}>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator(`solveTime`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: fileds.solveTime == null ? \"\" : moment(fileds.solveTime, 'YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: fileds.state==\"发现问题\"?false:true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: '请输入实际解决时间',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={fileds.solveTime == null ? \"\" : moment(fileds.solveTime, 'YYYY-MM-DD')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onDateChange.bind(this, 'solveTime')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row style={{marginTop: '10px'}}>\r\n\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 5},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\txs: {span: 24},\r\n\t\t\t\t\t\t\t\t\t\tsm: {span: 19},\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={`处理方案`}>\r\n\t\t\t\t\t\t\t\t\t<TextArea autosize={{ minRows: 2}}\r\n\t\t\t\t\t\t\t\t\t          onChange={this.handleChage.bind(this, \"remark\")}\r\n\t\t\t\t\t\t\t\t\t          value={fileds.remark}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst form = Form.create({})(Quality);\r\nexport default form;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/xmgl/Quality.js"],"sourceRoot":""}